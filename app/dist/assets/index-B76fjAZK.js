const __vite__fileDeps=["assets/index-DV2SW0ST.js","assets/index-eeS_Y43W.js","builder.build.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{e as V,f as m,o,g as r,t as e,y as p,q as a,G as C,z as x,$ as I,k as _,F as g,E as S,B as T,C as w,L as k,j as A,m as N,_ as U}from"./index-eeS_Y43W.js";import{g as H}from"./index-B5biZt4y.js";import"./fonts-CcfgmNTE.js";import"../builder.build.js";const E={props:{title:String,startOpen:Boolean},data(){return{open:!1}},mounted(){this.startOpen&&(this.open=!0)},computed:{returnVisibilityIcon(){if(this.open)return"expand_more";if(!this.open)return"chevron_left"}},methods:{toggleVisibility(){this.open=!this.open}}},B={class:"uip-flex uip-flex-column uip-row-gap-s"},R={class:"uip-flex uip-gap-s uip-flex-center uip-flex-between"},M={class:"uip-text-bold uip-text-emphasis"},q={key:0,class:"uip-padding-left-s"};function F(s,n,d,c,i,l){const b=m("AppIcon");return o(),r("div",B,[e("div",R,[e("div",{class:"uip-flex uip-gap-xxs uip-flex-center uip-cursor-pointer uip-flex-between uip-flex-grow",onClick:n[0]||(n[0]=h=>l.toggleVisibility())},[e("span",M,p(d.title),1),a(b,{class:"uip-link-muted uip-icon",icon:l.returnVisibilityIcon},null,8,["icon"])])]),i.open?(o(),r("div",q,[C(s.$slots,"default")])):x("",!0)])}const j=V(E,[["render",F]]),{__:t}=wp.i18n,z={components:{globalVariables:H,ToggleSection:j,CodeEditor:I(()=>U(()=>import("./index-DV2SW0ST.js"),__vite__mapDeps([0,1,2])))},data(){return{loading:!0,templateID:this.$route.params.templateID,mode:"light",menu:this.uipApp.data.adminMenu.menu,ui:{sideBar:{activeTab:"settings"},strings:{themeStyles:t("Theme styles"),revertStyle:t("Revert style back to default","uipress-lite"),appliesTo:t("Applies to","uipress-lite"),excludes:t("Excludes","uipress-lite"),templateType:t("Template type","uipress-lite"),uiTemplate:t("User template (admin theme)","uipress-lite"),adminPage:t("Admin Page","uipress-lite"),toolBar:t("Frontend toolbar","uipress-lite"),loginPage:t("Login page","uipress-lite"),appliesToSelfTitle:t("Template will now load for you!","uipress-lite"),appliesToSelf:t("Take care not to revoke access to anything you may need in the admin.","uipress-lite"),appliesToSelfMeta:t("If you haven't already, we recommend setting up:","uipress-lite"),safeMode:t("safe mode","uipress-lite"),customCSS:t("CSS","uipress-lite"),customJS:t("Javascript","uipress-lite"),light:t("Light","uipress-lite"),dark:t("Dark","uipress-lite"),templateName:t("Template name","uipress-lite"),active:t("Active","uipress-lite"),selectUsersAndRoles:t("Users and roles","uipress-lite"),searchUsersAndRoles:t("Search users and roles","uipress-lite"),custom:t("custom","uipress-lite"),menuIcon:t("Menu icon","uipress-lite"),addToSubmenu:t("Add to submenu","uipress-lite"),noneTopLevel:t("None (top level)","uipress-lite"),applyToSubsites:t("Apply to subsites","uipress-lite"),watchOut:t("Is this an admin page?","uipress-lite"),watchOutDescription:t("This template does not contain a content block. The content block is key to navigating the admin. Setting this live as a uiTemplate can cause a lock out.","uipress-lite"),pageLink:t("Link","uipress-lite"),name:t("Name","uipress-lite"),type:t("Type","uipress-lite"),templateSettings:t("Template settings","uipress-lite"),status:t("Status","uipress-lite"),general:t("General","uipress-lite"),slug:t("Slug","uipress-lite"),content:t("Content","uipress-lite"),theme:t("Theme","uipress-lite"),helpTab:t("Help tab","uipress-lite"),screenOptions:t("Screen options","uipress-lite"),pluginNotices:t("Plugin notices","uipress-lite"),adminTheme:t("Admin theme","uipress-lite"),frameDescription:t("The following options will only take effect on live templates.","uipress-lite")}},enabledDisabled:{false:{value:!1,label:t("Disabled","uipress-lite")},true:{value:!0,label:t("Enabled","uipress-lite")}},showHide:{false:{value:!1,label:t("Hide","uipress-lite")},true:{value:!0,label:t("Show","uipress-lite")}},switchOptions:{light:{value:"light",label:t("Light","uipress-lite")},dark:{value:"dark",label:t("Dark","uipress-lite")}},newVariable:{label:"",var:""}}},inject:["uiTemplate"],watch:{"uiTemplate.globalSettings.slug":{handler(){this.handleSlugChange()}}},async mounted(){this.loading=!1,setTimeout(this.mountHandlers,100),this.setDefaults()},beforeUnmount(){document.removeEventListener("click",this.handleClickEvents)},computed:{returnFormatedMenu(){return this.menu.filter(s=>s.type!=="sep").map(({uid:s,url:n,name:d})=>({name:s,url:n,label:d.replace(/<[^>]*>?/gm,"")}))},isTemplateWithoutFrame(){return this.uiTemplate.globalSettings.type!="ui-template"?!1:this.uiTemplate.content.length>0&&!JSON.stringify(this.uiTemplate.content).includes("uip-content")},returnPageLink(){const s=this.uiTemplate.globalSettings.slug?this.uiTemplate.globalSettings.slug:this.uiTemplate.globalSettings.name+"-uiptp-"+this.$route.params.templateID;return this.uipApp.data.options.adminURL+"admin.php?page="+this.formatPageName(s)}},methods:{setDefaults(){this.isObject(this.uiTemplate.globalSettings)||(this.uiTemplate.globalSettings={}),"contentTheme"in this.uiTemplate.globalSettings||(this.uiTemplate.globalSettings.contentTheme=!0),"helpTab"in this.uiTemplate.globalSettings||(this.uiTemplate.globalSettings.helpTab=!1),"screenOptions"in this.uiTemplate.globalSettings||(this.uiTemplate.globalSettings.screenOptions=!1),"pluginNotices"in this.uiTemplate.globalSettings||(this.uiTemplate.globalSettings.pluginNotices=!1)},mountHandlers(){document.addEventListener("click",this.handleClickEvents)},handleClickEvents(s){const n=document.querySelector("#uip-preview-canvas");!s.target||!n||n.contains(s.target)&&this.goBack()},returnTemplateOption(s,{uniqueKey:n,accepts:d}){const c=this.uiTemplate.globalSettings.options;if(c.hasOwnProperty(s)||(c[s]={}),c[s].hasOwnProperty(n))return c[s][n];let i;switch(d){case String:i="";break;case Array:i=[];break;case Object:i={};break;default:i=""}return c[s][n]=i,c[s][n]},saveTemplateOption(s,n,d){let c=this.uiTemplate.globalSettings.options;c[s][n]=d},formatPageName(s){return s?(s=s.toLowerCase(),s=s.replace("~[^pLd]+~u","-"),s=s.replace("~[^-w]+~",""),s=s.trim(),s=s.replace("~-+~","-"),s=s.replace(" ","-"),s):""},handleSlugChange(){const s=this.uiTemplate.globalSettings.slug;this.uiTemplate.globalSettings.slug=this.formatPageName(s)},goBack(){const s=this.$route.params.templateID;document.removeEventListener("click",this.handleClickEvents),this.$router.push({path:`/uibuilder/${s}/`,query:{...this.$route.query}})}}},G={class:"uip-position-fixed uip-top-80 uip-right-16 uip-bottom-16 uip-background-default uip-w-320 uip-flex uip-flex-column uip-row-gap-s uip-overflow-auto uip-fade-in uip-shadow",style:{"border-radius":"calc(var(--uip-border-radius-large) + var(--uip-padding-xs))","z-index":"2"},ref:"uipTemplateSettings",id:"uip-template-settings"},J={class:"uip-h-100p uip-w-100p uip-max-h-100p uip-max-w-100p uip-overflow-hidden uip-flex-grow uip-flex uip-flex-column uip-border-rounder uip-shadow uip-background-default"},K={class:"uip-padding-s uip-padding-remove-bottom"},W={class:"uip-flex uip-gap-xxs uip-flex-center"},Q={class:"uip-flex uip-flex-column uip-flex-grow"},X={class:"uip-text-bold uip-blank-input uip-text-l uip-text-emphasis"},Y={class:"uip-flex uip-flex-column uip-gap-s uip-padding-s uip-flex-grow uip-overflow-auto"},Z=e("div",{class:""},null,-1),$={class:"uip-flex uip-flex-column uip-row-gap-s"},ee={key:0,class:"uip-background-red-wash uip-border-rounder uip-text-s uip-padding-xs uip-scale-in-top uip-flex uip-flex-column uip-row-gap-xs"},te={class:"uip-text-bold uip-text-l uip-text-emphasis"},ie={class:"uip-grid-col-1-3"},se={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-h-30 uip-gap-xs"},le={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-h-30 uip-gap-xs"},ue=["placeholder"],ne={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-h-30 uip-gap-xs"},pe={value:"ui-template"},ae={value:"ui-admin-page"},oe={value:"ui-front-template"},re={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-h-30 uip-gap-xs"},ce={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-h-30 uip-gap-xs"},de={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-h-30 uip-gap-xs"},ge={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-h-30 uip-gap-xs"},me=["placeholder"],he={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-h-30 uip-gap-xs"},fe={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-h-30 uip-gap-xs"},xe={value:""},_e=["value"],be={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-flex-start uip-padding-top-xxs"},ve=["href"],Te=e("div",{class:"uip-border-top"},null,-1),Se={class:"uip-background-orange-wash uip-border-rounder uip-text-s uip-padding-xs uip-scale-in-top uip-flex uip-flex-column uip-row-gap-xs uip-margin-bottom-s uip-text-muted"},ye={class:"uip-grid-col-1-3"},we={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-h-30 uip-gap-xs"},ke={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-h-30 uip-gap-xs"},Ae={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-h-30 uip-gap-xs"},Ve={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-h-30 uip-gap-xs"},Oe=e("div",{class:"uip-border-top"},null,-1),De=e("div",{class:"uip-border-top"},null,-1),Le={class:"uip-grid-col-1-3"},Pe={class:"uip-flex uip-flex-center uip-flex uip-gap-xs"},Ce={class:"uip-text-muted uip-text-s"},Ie={class:"uip-flex uip-flex-center"},Ne=e("div",{class:"uip-border-top"},null,-1);function Ue(s,n,d,c,i,l){const b=m("AppIcon"),h=m("toggle-switch"),y=m("user-role-select"),O=m("icon-select"),v=m("ToggleSection"),D=m("globalVariables"),L=m("uip-tooltip");return o(),r("div",G,[e("div",J,[e("div",K,[e("div",W,[e("div",Q,[e("div",X,p(i.ui.strings.templateSettings),1)]),e("a",{class:"uip-link-muted hover:uip-background-muted uip-border-rounder uip-padding-xxs",onClick:n[0]||(n[0]=u=>l.goBack())},[a(b,{icon:"close"})])])]),e("div",Y,[Z,a(v,{title:i.ui.strings.general,startOpen:!0},{default:_(()=>[e("div",$,[l.isTemplateWithoutFrame?(o(),r("div",ee,[e("div",te,p(i.ui.strings.watchOut),1),e("div",null,p(i.ui.strings.watchOutDescription),1)])):x("",!0),e("div",ie,[e("div",se,[e("span",null,p(i.ui.strings.status),1)]),a(h,{options:i.enabledDisabled,activeValue:l.uiTemplate.globalSettings.status,dontAccentActive:!0,returnValue:function(u){l.uiTemplate.globalSettings.status=u}},null,8,["options","activeValue","returnValue"]),e("div",le,[e("span",null,p(i.ui.strings.name),1)]),T(e("input",{class:"uip-input uip-input-small uip-w-100p",type:"text","onUpdate:modelValue":n[1]||(n[1]=u=>l.uiTemplate.globalSettings.name=u),placeholder:i.ui.strings.templateName},null,8,ue),[[w,l.uiTemplate.globalSettings.name]]),e("div",ne,[e("span",null,p(i.ui.strings.type),1)]),T(e("select",{class:"uip-input uip-input-small uip-w-100p","onUpdate:modelValue":n[2]||(n[2]=u=>l.uiTemplate.globalSettings.type=u)},[e("option",pe,p(i.ui.strings.uiTemplate),1),e("option",ae,p(i.ui.strings.adminPage),1),e("option",oe,p(i.ui.strings.toolBar),1)],512),[[k,l.uiTemplate.globalSettings.type]]),s.uipApp.data.options.multisite&&s.uipApp.data.options.networkActivated&&s.uipApp.data.options.primarySite?(o(),r(g,{key:0},[e("div",re,[e("span",null,p(i.ui.strings.applyToSubsites),1)]),a(h,{options:i.enabledDisabled,activeValue:l.uiTemplate.globalSettings.applyToSubsites,dontAccentActive:!0,returnValue:function(u){l.uiTemplate.globalSettings.applyToSubsites=u}},null,8,["options","activeValue","returnValue"])],64)):x("",!0),e("div",ce,p(i.ui.strings.appliesTo),1),a(y,{selected:l.uiTemplate.globalSettings.rolesAndUsers,placeHolder:i.ui.strings.selectUsersAndRoles,searchPlaceHolder:i.ui.strings.searchUsersAndRoles,single:!1,updateSelected:u=>l.uiTemplate.globalSettings.rolesAndUsers=u},null,8,["selected","placeHolder","searchPlaceHolder","updateSelected"]),e("div",de,p(i.ui.strings.excludes),1),a(y,{selected:l.uiTemplate.globalSettings.excludesRolesAndUsers,placeHolder:i.ui.strings.selectUsersAndRoles,searchPlaceHolder:i.ui.strings.searchUsersAndRoles,single:!1,updateSelected:u=>l.uiTemplate.globalSettings.excludesRolesAndUsers=u},null,8,["selected","placeHolder","searchPlaceHolder","updateSelected"]),l.uiTemplate.globalSettings.type=="ui-admin-page"?(o(),r(g,{key:1},[e("div",ge,[e("span",null,p(i.ui.strings.slug),1)]),T(e("input",{class:"uip-input uip-input-small uip-w-100p",type:"text","onUpdate:modelValue":n[3]||(n[3]=u=>l.uiTemplate.globalSettings.slug=u),placeholder:i.ui.strings.slug},null,8,me),[[w,l.uiTemplate.globalSettings.slug]]),e("div",he,[e("span",null,p(i.ui.strings.menuIcon),1)]),a(O,{class:"uip-w-100p",value:l.uiTemplate.globalSettings.menuIcon,returnData:function(u){l.uiTemplate.globalSettings.menuIcon=u}},null,8,["value","returnData"]),e("div",fe,[e("span",null,p(i.ui.strings.addToSubmenu),1)]),T(e("select",{class:"uip-input","onUpdate:modelValue":n[4]||(n[4]=u=>l.uiTemplate.globalSettings.menuParent=u)},[e("option",xe,p(i.ui.strings.noneTopLevel),1),(o(!0),r(g,null,S(l.returnFormatedMenu,u=>(o(),r("option",{value:u.url},p(u.label),9,_e))),256))],512),[[k,l.uiTemplate.globalSettings.menuParent]]),e("div",be,[e("span",null,p(i.ui.strings.pageLink),1)]),e("a",{href:l.returnPageLink,target:"_BLANK",class:"uip-link-muted"},p(l.returnPageLink),9,ve)],64)):x("",!0)])])]),_:1},8,["title"]),l.uiTemplate.globalSettings.type=="ui-template"?(o(),r(g,{key:0},[Te,a(v,{title:i.ui.strings.content,startOpen:!0},{default:_(()=>[e("div",Se,p(i.ui.strings.frameDescription),1),e("div",ye,[e("div",we,[e("span",null,p(i.ui.strings.theme),1)]),a(h,{options:i.enabledDisabled,activeValue:l.uiTemplate.globalSettings.contentTheme,dontAccentActive:!0,returnValue:u=>{l.uiTemplate.globalSettings.contentTheme=u}},null,8,["options","activeValue","returnValue"]),e("div",ke,[e("span",null,p(i.ui.strings.helpTab),1)]),a(h,{options:i.showHide,activeValue:l.uiTemplate.globalSettings.helpTab,dontAccentActive:!0,returnValue:u=>{l.uiTemplate.globalSettings.helpTab=u}},null,8,["options","activeValue","returnValue"]),e("div",Ae,[e("span",null,p(i.ui.strings.screenOptions),1)]),a(h,{options:i.showHide,activeValue:l.uiTemplate.globalSettings.screenOptions,dontAccentActive:!0,returnValue:u=>{l.uiTemplate.globalSettings.screenOptions=u}},null,8,["options","activeValue","returnValue"]),e("div",Ve,[e("span",null,p(i.ui.strings.pluginNotices),1)]),a(h,{options:i.showHide,activeValue:l.uiTemplate.globalSettings.pluginNotices,dontAccentActive:!0,returnValue:u=>{l.uiTemplate.globalSettings.pluginNotices=u}},null,8,["options","activeValue","returnValue"])])]),_:1},8,["title"])],64)):x("",!0),Oe,a(v,{title:i.ui.strings.themeStyles,startOpen:!0},{default:_(()=>[a(D)]),_:1},8,["title"]),De,(o(!0),r(g,null,S(s.uipApp.data.templateGroupOptions,u=>(o(),r(g,null,[a(v,{title:u.label,startOpen:!1},{default:_(()=>[e("div",Le,[(o(!0),r(g,null,S(u.settings,f=>(o(),r(g,null,[e("div",Pe,[e("span",Ce,p(f.label),1),f.help?(o(),A(L,{key:0,message:f.help},{default:_(()=>[a(b,{icon:"question_mark",class:"uip-icon uip-border-circle uip-background-grey uip-cursor-pointer",style:{"font-size":"12px"}})]),_:2},1032,["message"])):x("",!0)]),e("div",Ie,[(o(),A(N(f.component),{value:l.returnTemplateOption(u.name,f),args:f.args,returnData:P=>{l.saveTemplateOption(u.name,f.uniqueKey,P)}},null,8,["value","args","returnData"]))])],64))),256))])]),_:2},1032,["title"]),Ne],64))),256))])])],512)}const Me=V(z,[["render",Ue]]);export{Me as default};
