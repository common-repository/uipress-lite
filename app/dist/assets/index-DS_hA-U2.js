const __vite__fileDeps=["assets/index-DV2SW0ST.js","assets/index-eeS_Y43W.js","builder.build.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{e as B,f as g,o as r,g as p,t as i,y as u,q as l,G as Ee,z as b,n as W,B as w,C as D,j as C,k as y,F as k,E as S,a6 as je,x as G,D as K,L as X,a7 as ut,l as Z,A as ce,Y as Je,K as ge,m as ie,T as pt,a8 as bt,a9 as yt,aa as kt,ab as wt,ac as St,ad as Ct,ae as at,$ as Ge,_ as Ke,v as Dt,af as Tt,ag as Ot}from"./index-eeS_Y43W.js";import{S as Me,C as Qe,c as Ie,a as ct,i as At,E as Pt}from"../builder.build.js";import{F as Vt}from"./fonts-CcfgmNTE.js";const It={props:{title:String,startOpen:Boolean},data(){return{open:!1}},created(){this.startOpen&&(this.open=!0)},computed:{returnVisibilityIcon(){if(this.open)return"expand_more";if(!this.open)return"chevron_left"}},methods:{toggleVisibility(){this.open=!this.open}}},Bt={class:"uip-flex uip-flex-column uip-row-gap-s"},$t={class:"uip-flex uip-gap-s uip-flex-center uip-flex-between"},Nt={class:"uip-text-bold uip-text-emphasis"};function Lt(s,e,o,d,t,n){const a=g("AppIcon");return r(),p("div",Bt,[i("div",$t,[i("div",{class:"uip-flex uip-gap-xxs uip-flex-center uip-cursor-pointer uip-flex-between uip-flex-grow",onClick:e[0]||(e[0]=h=>n.toggleVisibility())},[i("span",Nt,u(o.title),1),l(a,{icon:n.returnVisibilityIcon,class:"uip-link-muted"},null,8,["icon"])])]),t.open?Ee(s.$slots,"default",{key:0}):b("",!0)])}const qt=B(It,[["render",Lt]]),{__:Fe}=wp.i18n,Ut={components:{ToggleSection:qt},props:{mode:String,insertArea:Array},data(){return{loading:!0,categories:[],search:"",strings:{proBlock:Fe("This block requires uipress pro. Upgrade to unlock.","uipress-lite"),seachBlocks:Fe("Search blocks...","uipress-lite"),upgrade:Fe("Upgrade","uipress-lite")}}},inject:["uiTemplate"],computed:{sortedBlocks(){return this.removeOldBlocks().sort((e,o)=>e.metadata.name.localeCompare(o.metadata.name))},returnCats(){const s=["responsive-grid","uip-admin-menu","uip-user-meta-block"];return Object.entries(this.returnGroups).map(([e,o])=>{const d=this.uipApp.data.blocks.filter(t=>t.metadata.group===e&&!s.includes(t.metadata.moduleName)).sort((t,n)=>t.metadata.name.localeCompare(n.metadata.name));return{name:o.label,blocks:d}})},returnGroups(){return this.uipApp.data.blockGroups}},methods:{returnGroupLabel(s){return this.uipApp.data.blockGroups[s].label},removeOldBlocks(){const s=["responsive-grid","uip-admin-menu","uip-user-meta-block"];return this.uipApp.data.blocks.filter(e=>!s.includes(e.moduleName))},clone(s){let e=JSON.parse(JSON.stringify(s.metadata));return e.tooltip={},e.settings={},this.inject_block_presets(e),delete e.path,delete e.args,delete e.category,delete e.description,delete e.optionsEnabled,delete e.hover,e},inject_block_presets(s){const e=s.moduleName;let d=this.uipApp.data.blocks.find(f=>f.metadata.moduleName===e);if(!d)return;d=d.metadata;const t=d.optionsEnabled,n=t.findIndex(f=>f.name==="block"),a=["block","advanced"];for(let f of t){if(a.includes(f.name)||!1 in f)continue;const c=f.presets;if(this.isObject(c))for(let m in c)this.ensureNestedObject(s,"settings",f.name,"options",m,"value"),s.settings[f.name].options[m].value={...c[m]}}if(n<0)return;const h=t[n].options;this.ensureNestedObject(s,"settings","block","options");for(let f of h){if(!f)return;if(!("value"in f))continue;const c=f.uniqueKey?f.uniqueKey:f.option;s.settings.block.options[c]={value:f.value}}},componentExists(s){if(s.premium&&!this.uiTemplate.proActivated)return!1;const e=s.moduleName;if(this.$root._.appContext.components[e])return!0},async insertAtPos(s){if(this.mode!="click"||!Array.isArray(this.insertArea))return;let e=this.clone(s);e.uid=this.createUID(),this.insertArea.push(e),await W();const o=this.insertArea[this.insertArea.length-1];this.uipApp.blockControl.setActive(o,this.insertArea),this.$emit("item-added")},inSearch(s){if(this.search=="")return!0;let e=this.search.toLowerCase();return!!(s.name.toLowerCase().includes(e)||s.description.toLowerCase().includes(e))}}},Et={class:"uip-flex uip-flex-column uip-row-gap-s"},jt={class:"uip-flex uip-padding-xxs uip-search-block uip-border-rounder uip-padding-xxs uip-background-muted"},Mt=["placeholder"],Rt=["block-name"],Ft=["onClick"],Ht={class:"uip-flex uip-gap-xxs uip-flex-center"},Wt={class:"uip-icon uip-text-l uip-padding-xxs uip-background-secondary uip-border-rounder uip-text-inverse uip-margin-right-xs"},zt={class:"uip-text-center uip-text-s uip-text-muted"},Gt={class:"uip-text-s"},Kt=["onClick"],Jt={class:"uip-flex uip-gap-xxs uip-flex-center"},Qt={class:"uip-icon uip-text-l uip-padding-xxs uip-background-secondary uip-border-rounder uip-text-inverse uip-margin-right-xs"},Xt={class:"uip-text-s"},Yt=["onMouseenter","onMouseleave"],Zt={class:"uip-flex uip-gap-xxs uip-flex-center"},ei={class:"uip-icon uip-icon-medium uip-text-l uip-padding-xxs uip-background-green-wash uip-border-rounder uip-margin-right-xs"},ti={class:"uip-text-s uip-flex-grow"},ii={href:"https://uipress.co?utm_source=uipressupgrade&utm_medium=referral",target:"_BLANK",class:"uip-link-muted uip-flex uip-gap-xxxs uip-no-underline uip-flex-center uip-padding-right-xxs uip-fade-in"},si={class:"uip-text-s"};function ni(s,e,o,d,t,n){const a=g("AppIcon"),h=g("uip-block-modal"),f=g("VueDraggableNext"),c=g("ToggleSection");return r(),p("div",Et,[i("div",jt,[l(a,{icon:"search",class:"uip-icon uip-text-muted uip-margin-right-xs uip-text-l uip-icon uip-icon-medium"}),w(i("input",{class:"uip-blank-input uip-flex-grow uip-text-s",type:"search",placeholder:t.strings.seachBlocks,autofocus:"","onUpdate:modelValue":e[0]||(e[0]=m=>t.search=m)},null,8,Mt),[[D,t.search]])]),l(h,{block:{}}),t.search!=""?(r(),C(f,{key:0,list:n.sortedBlocks,class:"uip-flex uip-flex-column uip-row-gap-xs uip-padding-left-xs",handle:".uip-block-drag",group:{name:"uip-blocks",pull:"clone",put:!1,revertClone:!0},animation:"300",sort:!1,clone:n.clone,ghostClass:"uip-drop-in-ghost",itemKey:"name"},{default:y(()=>[(r(!0),p(k,null,S(n.sortedBlocks,(m,v)=>w((r(),p("div",{key:m.name,class:"uip-block-item","block-name":m.metadata.name},[i("div",{onClick:x=>n.insertAtPos(m),class:"uip-border-rounder uip-link-default hover:uip-background-muted uip-cursor-pointer uip-block-drag uip-no-text-select"},[i("div",Ht,[i("div",Wt,[l(a,{icon:m.metadata.icon},null,8,["icon"])]),i("div",zt,u(n.returnGroupLabel(m.metadata.group)),1),l(a,{icon:"chevron_right",class:"uip-icon uip-text-muted"}),i("div",Gt,u(m.metadata.name),1)])],8,Ft)],8,Rt)),[[je,m.component&&n.inSearch(m.metadata)]])),128))]),_:1},8,["list","clone"])):b("",!0),t.search==""?(r(!0),p(k,{key:1},S(n.returnCats,m=>(r(),C(c,{title:m.name,startOpen:!0},{default:y(()=>[m.blocks.length?(r(),C(f,{key:0,list:m.blocks,class:"uip-flex uip-flex-column uip-row-gap-xs uip-padding-left-xs",handle:".uip-block-drag",group:{name:"uip-blocks",pull:"clone",put:!1,revertClone:!0},animation:"300",sort:!1,clone:n.clone,ghostClass:"uip-drop-in-ghost",itemKey:"name"},{default:y(()=>[(r(!0),p(k,null,S(m.blocks,(v,x)=>(r(),p(k,{key:v.name},[v.component?(r(),p("div",{key:0,onClick:_=>n.insertAtPos(v),class:"uip-border-rounder uip-link-default hover:uip-background-muted uip-cursor-pointer uip-block-drag uip-no-text-select"},[i("div",Jt,[i("div",Qt,[l(a,{icon:v.metadata.icon},null,8,["icon"])]),i("div",Xt,u(v.metadata.name),1)])],8,Kt)):(r(),p("div",{key:1,onMouseenter:_=>v.hover=!0,onMouseleave:_=>v.hover=!1,class:"uip-border-rounder uip-link-default hover:uip-background-muted uip-cursor-pointer uip-block-drag uip-no-text-select"},[i("div",Zt,[i("div",ei,[l(a,{icon:"redeem"})]),i("div",ti,u(v.metadata.name),1),w(i("a",ii,[i("span",si,u(t.strings.upgrade),1),l(a,{icon:"chevron_right",class:"uip-icon"})],512),[[je,v.hover]])])],40,Yt))],64))),128))]),_:2},1032,["list","clone"])):b("",!0)]),_:2},1032,["title"]))),256)):b("",!0)])}const Xe=B(Ut,[["render",ni]]),{__:nt}=wp.i18n,oi={name:"Layer",components:{BlockList:Xe},props:{block:{type:Object,default:{}},returnData:{type:Function},items:{type:Array,default:[]}},data(){return{open:!1,queryLoopEnabled:nt("Block is using query loop","uipress-lite"),strings:{blocks:nt("Blocks","uipress-lite")}}},watch:{"$route.query.block":{handler(s,e){this.maybeOpenLayer()},deep:!0,immediate:!0}},computed:{isActive(){if("block"in this.$route.query&&this.$route.query.block==this.block.uid)return!0},buildClasses(){let s="uip-border-rounder uip-padding-xxs";const e=this.isActive;return e?s+=" uip-text-emphasis uip-background-secondary uip-text-bold uip-text-inverse ":s+=" uip-link-default uip-margin-right-xs",this.uipApp.blockControl&&!e&&this.uipApp.blockControl.returnHoveredBlockUID===this.block.uid&&(s+=" uip-background-primary-wash uip-text-emphasis"),s}},methods:{maybeOpenLayer(){const s=JSON.stringify(this.block),e=this.$route.query.block;this.open=s.includes(e)?!0:this.open},openSettings(){this.uipApp.blockControl.setActive(this.block,this.items)}}},li={class:"uip-cursor-pointer uip-flex-grow uip-text-s uip-no-wrap uip-flex-center uip-flex-between uip-flex"},ri={key:0,class:"uip-margin-left-xs uip-padding-xs uip-padding-right-remove uip-flex uip-flex-column uip-gap-xs"},ui={class:"uip-button-default uip-icon uip-w-100p uip-text-s uip-padding-xxs"},pi={class:"uip-padding-s uip-max-w-300 uip-w-300 uip-max-h-500 uip-flex uip-flex-column uip-gap-s",style:{overflow:"auto"}},ai={class:"uip-flex uip-flex-between uip-flex-center"},ci={class:"uip-text-emphasis uip-text-bold uip-text-s"};function di(s,e,o,d,t,n){const a=g("AppIcon"),h=g("Layer",!0),f=g("VueDraggableNext"),c=g("BlockList"),m=g("dropdown");return r(),p("div",{class:K(["uip-border-rounder",{"uip-background-primary-wash":n.isActive}])},[i("div",{class:K(["uip-flex ui-flex-middle uip-flex-center uip-gap-xxs",n.buildClasses]),onClick:e[1]||(e[1]=v=>{n.openSettings(),t.open=!0}),onMouseenter:e[2]||(e[2]=G(v=>s.uipApp.blockControl.setHover({},o.block),["prevent","stop"])),onMouseleave:e[3]||(e[3]=G(v=>s.uipApp.blockControl.removeHover({},o.block),["prevent","stop"])),onContextmenu:e[4]||(e[4]=G(v=>s.uipApp.blockcontextmenu.show({event:v,list:o.items,index:s.index,block:o.block}),["prevent","stop"]))},[o.block.content?(r(),p("div",{key:0,class:"uip-ratio-1-1 uip-icon uip-line-height-1 uip-cursor-pointer uip-flex uip-flex-center",onClick:e[0]||(e[0]=G(v=>t.open=!t.open,["prevent","stop"]))},[l(a,{icon:t.open?"expand_more":"chevron_right"},null,8,["icon"])])):b("",!0),l(a,{icon:o.block.icon,class:"uip-cursor-pointer uip-icon uip-icon-small-emphasis"},null,8,["icon"]),i("div",li,[i("span",null,u(o.block.name),1),s.hasNestedPath(o.block,["query","enabled"])?(r(),C(a,{key:0,title:t.queryLoopEnabled,icon:"all_inclusive",class:"uip-cursor-pointer uip-icon uip-icon-small-emphasis uip-text-l"},null,8,["title"])):b("",!0)])],34),t.open&&o.block.content?(r(),p("div",ri,[l(f,{class:K([{"uip-min-h-30":!o.block.content.length},"uip-flex uip-flex-column uip-row-gap-xxs uip-w-100p uip-template-layers"]),group:{name:"uip-layer-blocks",pull:!0,put:!0},list:o.block.content,"ghost-class":"uip-block-ghost",animation:"300",sort:!0},{default:y(()=>[(r(!0),p(k,null,S(o.block.content,(v,x)=>(r(),C(h,{key:v.uid,block:v,items:o.block.content},null,8,["block","items"]))),128))]),_:1},8,["class","list"]),l(m,{width:"260",pos:"right center",ref:"blockSelector",class:"uip-w-100p uip-flex uip-flex-center uip-flex-middle uip-flex-row uip-padding-right-xs"},{trigger:y(()=>[i("button",ui,[l(a,{icon:"add",style:{"margin-left":"auto","margin-right":"auto"}})])]),content:y(()=>[i("div",pi,[i("div",ai,[i("div",ci,u(t.strings.blocks),1),i("div",{onClick:e[5]||(e[5]=v=>s.$refs.blockSelector.close()),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[l(a,{icon:"close"})])]),l(c,{mode:"click",insertArea:o.block.content,onItemAdded:e[6]||(e[6]=v=>s.$refs.blockSelector.close())},null,8,["insertArea"])])]),_:1},512)])):b("",!0)],2)}const hi=B(oi,[["render",di]]),{__:ot}=wp.i18n,fi={name:"layersRecursive",props:{content:Array,returnData:Function},components:{BlockList:Xe,Layer:hi},data(){return{rendered:!1,items:this.content,queryLoopEnabled:ot("Block is using query loop","uipress-lite"),drag:!1,strings:{blocks:ot("Blocks","uipress-lite")}}},inject:["uiTemplate"],watch:{content:{handler(s,e){this.items=s},deep:!0}},mounted(){console.log(this.content)},methods:{returnDragStyle(){if(this.uiTemplate.drag)return"border-color:var(--uip-background-primary);"},openSettings(s){this.uipApp.blockControl.setActive(s,this.items)},buildClasses(s){let e="uip-border-rounder uip-padding-xxs";const o=this.isActive(s.uid);return o?e+=" uip-background-secondary uip-text-bold uip-text-inverse":e+=" uip-background-muted",this.uipApp.blockControl&&!o&&this.uipApp.blockControl.returnHoveredBlockUID===s.uid&&(e+=" uip-background-primary-wash"),e}}},mi={class:"uip-button-default uip-icon uip-w-100p uip-text-s uip-padding-xxs"},gi={class:"uip-padding-s uip-max-w-300 uip-w-300 uip-max-h-500 uip-flex uip-flex-column uip-gap-s",style:{overflow:"auto"}},xi={class:"uip-flex uip-flex-between uip-flex-center"},vi={class:"uip-text-emphasis uip-text-bold uip-text-s"};function _i(s,e,o,d,t,n){const a=g("Layer"),h=g("VueDraggableNext"),f=g("AppIcon"),c=g("BlockList"),m=g("dropdown");return r(),p(k,null,[l(h,{class:"uip-flex uip-flex-column uip-row-gap-xxs uip-w-100p uip-template-layers",group:{name:"uip-layer-blocks",pull:!0,put:!0},list:t.items,"ghost-class":"uip-block-ghost",animation:"300",sort:!0},{default:y(()=>[(r(!0),p(k,null,S(t.items,(v,x)=>(r(),C(a,{key:v.uid,block:v,items:t.items},null,8,["block","items"]))),128))]),_:1},8,["list"]),l(m,{pos:"right center",ref:"blockSelector",class:"uip-w-100p uip-flex uip-flex-center uip-flex-middle uip-flex-row"},{trigger:y(()=>[i("button",mi,[l(f,{icon:"add",style:{"margin-left":"auto","margin-right":"auto"}})])]),content:y(()=>[i("div",gi,[i("div",xi,[i("div",vi,u(t.strings.blocks),1),i("div",{onClick:e[0]||(e[0]=v=>s.$refs.blockSelector.close()),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[l(f,{icon:"close"})])]),l(c,{mode:"click",insertArea:t.items,onItemAdded:e[1]||(e[1]=v=>s.$refs.blockSelector.close())},null,8,["insertArea"])])]),_:1},512)],64)}const bi=B(fi,[["render",_i]]),{__:ne}=wp.i18n,yi={data(){return{modelOpen:!1,dropWidth:0,position:this.dropPos,saving:!1,theBlock:null,strings:{saveAsPattern:ne("Save as pattern","uipress-lite"),patternTitle:ne("Title","uipress-lite"),patternType:ne("Type","uipress-lite"),patternDescription:ne("Patterns can be either single components or entire layoutsd and are a great way of creating reusable blocks for your projects."),savePattern:ne("Save pattern","uipress-lite"),description:ne("Description","uipress-lite"),patternIcon:ne("Icon","uipress-lite"),cancel:ne("Cancel","uipress-lite")},newPattern:{name:"",description:"",type:"block",icon:{value:"interests"}},patternTypes:[{name:"layout",label:ne("Layout","uipress-lite")},{name:"block",label:ne("Block","uipress-lite")}]}},inject:["uiTemplate"],methods:{show(s){this.theBlock={},this.theBlock=s,this.$refs.saveaspattern.open()},async savePattern(){if(this.saving=!0,!this.newPattern.name||this.newPattern.name==""){this.uipApp.notifications.notify(ne("Pattern not saved","uipress-lite"),ne("Pattern title is required","uipress-lite"),"warning",!0),this.saving=!1;return}this.savePatternToDb(this.theBlock)},async savePatternToDb(s){s.uid;let e=JSON.stringify(s,(n,a)=>a==="true"||a===!0?"uiptrue":a==="false"||a===!1?"uipfalse":a===""?"uipblank":a),o=new FormData;o.append("action","uip_save_ui_pattern"),o.append("security",uip_ajax.security),o.append("pattern",e),o.append("name",this.newPattern.name),o.append("type",this.newPattern.type),o.append("description",this.newPattern.description),o.append("icon",this.newPattern.icon.value);const d=await this.sendServerRequest(uip_ajax.ajax_url,o);if(d.error){this.uipApp.notifications.notify(d.message,"uipress-lite","","error",!0),this.saving=!1;return}d.success||returnData(),this.uipApp.notifications.notify(ne("Pattern saved","uipress-lite"),"","success",!0),this.saving=!1,this.uiTemplate.patterns=d.patterns;const t=d.patternid;s.patternID=t}}},ki={class:"uip-flex uip-flex-column uip-row-gap-m uip-w-420 uip-padding-m"},wi={class:"uip-flex uip-flex-between uip-flex-center"},Si={class:"uip-text-bold uip-text-emphasis"},Ci={class:"uip-grid-col-1-3 uip-padding-left-s"},Di={class:"uip-text-s uip-text-muted"},Ti={class:"uip-text-s uip-text-muted"},Oi={class:"uip-text-s uip-text-muted"},Ai=["value"],Pi={class:"uip-text-s uip-text-muted"},Vi={class:"uip-flex uip-flex-between uip-flex-center uip-gap-s"};function Ii(s,e,o,d,t,n){const a=g("AppIcon"),h=g("icon-select"),f=g("uip-save-button"),c=g("Modal");return r(),C(c,{ref:"saveaspattern"},{default:y(()=>[i("div",ki,[i("div",wi,[i("div",Si,u(t.strings.saveAsPattern),1),l(a,{icon:"close",class:"uip-icon uip-link-muted uip-padding-xxs uip-border-round hover:uip-background-muted",onClick:e[0]||(e[0]=m=>s.$refs.saveaspattern.close())})]),i("div",Ci,[i("div",Di,u(t.strings.patternTitle),1),w(i("input",{class:"uip-input",type:"text","onUpdate:modelValue":e[1]||(e[1]=m=>t.newPattern.name=m)},null,512),[[D,t.newPattern.name]]),i("div",Ti,u(t.strings.patternIcon),1),l(h,{value:t.newPattern.icon,returnData:function(m){t.newPattern.icon=m}},null,8,["value","returnData"]),i("div",Oi,u(t.strings.patternType),1),w(i("select",{class:"uip-input","onUpdate:modelValue":e[2]||(e[2]=m=>t.newPattern.type=m)},[(r(!0),p(k,null,S(t.patternTypes,m=>(r(),p("option",{value:m.name},u(m.label),9,Ai))),256))],512),[[X,t.newPattern.type]]),i("div",Pi,u(t.strings.description),1),w(i("textarea",{class:"uip-input",rows:"4","onUpdate:modelValue":e[3]||(e[3]=m=>t.newPattern.description=m)},null,512),[[D,t.newPattern.description]])]),i("div",Vi,[i("button",{class:"uip-button-default uip-flex-grow",onClick:e[4]||(e[4]=m=>s.$refs.saveaspattern.close())},u(t.strings.cancel),1),l(f,{class:"uip-flex-grow",saving:t.saving,buttonText:t.strings.savePattern,saveFunction:n.savePattern},null,8,["saving","buttonText","saveFunction"])])])]),_:1},512)}const Bi=B(yi,[["render",Ii]]),{__:O}=wp.i18n,$i={components:{SaveAsPattern:Bi},inject:["uiTemplate"],data(){return{block:{},list:null,blockIndex:null,strings:{settings:O("Settings","uipress-lite"),styles:O("Styles","uipress-lite"),delete:O("Delete","uipress-lite"),duplicate:O("Duplicate","uipress-lite"),copy:O("Copy","uipress-lite"),paste:O("Paste","uipress-lite"),editTemplate:O("Edit template","uipress-lite"),resetTemplate:O("Reset template","uipress-lite"),insert:O("Insert","uipress-lite"),loremIpsum:O("Lorem Ipsum","uipress-lite"),autoGenerate:O("Auto generate","uipress-lite"),fromPrompt:O("From prompt","uipress-lite"),editStates:O("Edit states","uipress-lite"),copyStyles:O("Copy styles","uipress-lite")},enabled:{settings:!0,styles:!0,variants:!0,duplicate:!0,copy:!0,copystyles:!0,paste:!0,insert:!0,loremipsum:!0,autogenerate:!0,fromprompt:!0,edittemplate:!0,resettemplate:!0,delete:!0,renameBlock:!0,pastestyles:!0,advanced:!0},links:[{name:"settings",label:O("Settings","uipress-lite"),icon:"tune",action:()=>{this.uipApp.blockSettings.show(this.block,"settings"),this.$refs.blockcontextmenu.close()}},{name:"styles",label:O("Styles","uipress-lite"),icon:"palette",action:()=>{this.uipApp.blockSettings.show(this.block,"style"),this.$refs.blockcontextmenu.close()}},{name:"advanced",label:O("Advanced","uipress-lite"),icon:"code",action:()=>{this.uipApp.blockSettings.show(this.block,"advanced"),this.$refs.blockcontextmenu.close()}},{name:"divider"},{name:"copy",label:O("Copy","uipress-lite"),icon:"chevron_right",action:()=>{},children:[{name:"copyblock",label:O("Block","uipress-lite"),icon:"copy_all",action:()=>{this.uiTemplate.copied=this.block,this.$refs.blockcontextmenu.close()}},{name:"copystyles",label:O("Styles","uipress-lite"),icon:"palette",action:()=>{this.uiTemplate.stylesCopied=this.block.settings,this.$refs.blockcontextmenu.close()}}]},{name:"paste",label:O("Paste","uipress-lite"),icon:"chevron_right",action:()=>{},children:[{name:"pastecontent",label:O("Content","uipress-lite"),icon:"content_paste",condition:()=>!!(this.block.content&&this.uiTemplate.copied),action:()=>{this.pasteBlockContent(),this.$refs.blockcontextmenu.close()}},{name:"pastestyles",label:O("Styles","uipress-lite"),icon:"content_paste",condition:()=>!!this.uiTemplate.stylesCopied,action:()=>{this.pasteStyles(),this.$refs.blockcontextmenu.close()}}]},{name:"duplicate",label:O("Duplicate","uipress-lite"),shortcut:[{type:"icon",value:"keyboard_command_key"},{type:"text",value:"D"}],action:()=>{this.uipApp.blockControl.duplicateBlock(),this.$refs.blockcontextmenu.close()}},{name:"divider"},{name:"saveAsPattern",label:O("Save as pattern","uipress-lite"),icon:"bookmark_add",action:()=>{this.$refs.saveaspattern.show(this.block),this.$refs.blockcontextmenu.close()}},{name:"syncPattern",label:O("Sync pattern","uipress-lite"),icon:"sync",condition:()=>!!this.block.patternID,action:()=>{this.uipApp.blockControl.syncBlockPattern(),this.$refs.blockcontextmenu.close()}},{name:"divider"},{name:"import",label:O("Import","uipress-lite"),icon:"chevron_right",action:()=>{},condition:()=>!!this.block.content,children:[{name:"blockimport",label:O("Block","uipress-lite"),icon:"file_upload",action:()=>{this.importSomething("block"),this.$refs.blockcontextmenu.close()}},{name:"contentimport",label:O("Content","uipress-lite"),icon:"file_upload",action:()=>{this.importSomething("blockcontent"),this.$refs.blockcontextmenu.close()}},{name:"templateimport",label:O("Template","uipress-lite"),icon:"file_upload",action:()=>{this.importSomething("template"),this.$refs.blockcontextmenu.close()}}]},{name:"export",label:O("Export","uipress-lite"),icon:"chevron_right",action:()=>{},children:[{name:"blockexport",label:O("Block","uipress-lite"),icon:"file_download",action:()=>{this.exportStuff("block"),this.$refs.blockcontextmenu.close()}},{name:"contentexport",label:O("Content","uipress-lite"),icon:"file_download",condition:()=>!!this.block.content,action:()=>{this.exportStuff("blockcontent"),this.$refs.blockcontextmenu.close()}},{name:"templateexport",label:O("Template","uipress-lite"),icon:"file_download",action:()=>{this.exportStuff("template"),this.$refs.blockcontextmenu.close()}}]},{name:"divider"},{name:"delete",label:O("Delete","uipress-lite"),shortcut:[{type:"icon",value:"keyboard_command_key"},{type:"icon",value:"backspace"}],danger:!0,action:()=>{this.uipApp.blockControl.deleteBlock(),this.$refs.blockcontextmenu.close()}}]}},created(){this.uipApp.blockcontextmenu=this},computed:{returnBlock(){return this.block},blockTemplateEditable(){let s=this.block.type;return s in this.seqlData.blocks?this.seqlData.blocks[s].templateEditable:!1}},methods:{show(s){this.block=s.block,this.list=s.list,this.index=s.index,this.$refs.blockcontextmenu.show(s.event),this.uipApp.blockControl.setActive(this.block,this.list,null,!0)},importSomething(s){const e=document.createElement("input");e.type="file",e.accept=".json",e.style.display="none",document.body.appendChild(e);const o=d=>{const t=d.target.files[0];t&&t.type==="application/json"&&(t.size>1e6||this.importSettings(t,s))};e.addEventListener("change",o),e.click()},importSettings(s,e){const o=new FileReader;o.readAsText(s,"UTF-8"),o.onload=d=>{const t=d.target.result;let n;try{n=JSON.parse(t)}catch(a){this.uipApp.notifications.notify(a,"","error",!0,!1);return}if(n){if(!Array.isArray(n)&&!this.isObject(n)){this.uipApp.notifications.notify("Template is not valid","","error",!0,!1);return}let a,h=O("Template imported","uipress-lite");switch(e){case"template":if(Array.isArray(n))a=n;else if(n.uipLayout)a=Array.isArray(n.uipLayout)?n.uipLayout:[n.uipLayout];else return this.uipApp.notifications.notify(O("Template mismatch","uipress-lite"),"","error",!0,!1);break;case"block":if(!n.uipLayout)return this.uipApp.notifications.notify(O("Template mismatch","uipress-lite"),"","error",!0,!1);h=O("Block imported","uipress-lite"),a=[n.uipLayout];break;case"blockcontent":if(!n.uipBlockContent)return this.uipApp.notifications.notify(O("Template mismatch","uipress-lite"),"","error",!0,!1);h=O("Content imported","uipress-lite"),a=n.uipBlockContent;break;default:console.error("Invalid type provided to importSettings function");return}ut(a).then(f=>{f.includes(!1)?this.uipApp.notifications.notify(O("File is not a valid JSON template","uipress-lite"),"","error",!0,!1):(e==="template"&&(this.uiTemplate.content=a),e==="block"&&this.block.content.push(a[0]),e==="blockcontent"&&(this.block.content=a),this.uipApp.notifications.notify(h,"","success",!0,!1))})}else this.uipApp.notifications.notify(O("JSON parse failed","uipress-lite"),"","error",!0,!1)}},exportStuff(s){let e,o="uip-ui-template-";switch(s){case"template":e=JSON.stringify({uipLayout:this.uiTemplate.content});break;case"block":e=JSON.stringify({uipLayout:this.block}),o="uip-ui-block-";break;case"blockcontent":e=JSON.stringify({uipBlockContent:this.block.content}),o="uip-ui-block-content-";break;default:console.error("Invalid type provided to exportStuff function");return}const d=this.uiTemplate.globalSettings.name,t=new Date,n=`${t.getMonth()+1}-${t.getDate()}-${t.getFullYear()}`,a=`${o}${d}-${n}.json`,h="data:text/json;charset=utf-8,"+encodeURIComponent(e),f=this.$refs.templateexport;f.setAttribute("href",h),f.setAttribute("download",a),f.click();let c=O("Exported","uipress-lite");this.uipApp.notifications.notify(c,"","success",!0)},isEnabled(s){return s.condition?s.condition():!0},async pasteStyles(){if(!this.uiTemplate.stylesCopied)return;let s=JSON.parse(JSON.stringify(this.uiTemplate.stylesCopied));for(let e in s)if(!(e=="advanced"||e=="block"||e=="container")&&e in this.block.settings){let o=s[e].options;this.block.settings[e]={...this.block.settings[e],...s[e]},this.block.settings[e].options={...this.block.settings[e].options,...o}}},pasteBlockContent(){if(!this.block.content||!this.uiTemplate.copied)return;JSON.parse(JSON.stringify(this.uiTemplate.content));let s=JSON.parse(JSON.stringify(this.uiTemplate.copied));s.uid=this.createUID(),s.options=[],s.settings=JSON.parse(JSON.stringify(s.settings)),s.content&&(s.content=this.uipApp.blockControl.uniqueIds(s.content)),this.block.content.splice(this.block.content.length,0,s),this.uiTemplate.copied=!1},async canEditBlockTemplates(){return await this.seqlData.permissions.user_can({request:"edit_block_templates",showMessage:!0})},async editTemplate(){await this.canEditBlockTemplates()&&(this.$refs.blockcontextmenu.close(),this.$router.push({query:{...this.$route.query,hasContext:!0}}),this.seqlData.templateeditor.show(this.block))},async editBlockState(){this.$refs.blockcontextmenu.close(),this.seqlData.blockstates.show(this.block,this.list)},async confirmClearTemplate(){if(!await this.canEditBlockTemplates())return;await this.seqlData.confirm.show({title:O("Reset template","uipress-lite"),message:O("Are you sure you want to reset this block's template? Any custom changes to the template will be lost","uipress-lite"),okButton:O("Reset template","uipress-lite")})&&delete this.block._custom_template},returnThisPosition(s){if(!s.currentTarget)return!1;const e=s.currentTarget.getBoundingClientRect();return{clientX:e.right,clientY:e.top}},maybeShowSubMenu(s,e){e.children&&this.$refs[e.name+"menu"][0].show(s,this.returnThisPosition(s))},maybeHideSubMenu(s,e){e.children&&this.$refs[e.name+"menu"][0].close()}}},Ni={class:"uip-padding-xs uip-flex uip-flex-column uip-text-weight-normal uip-text-s"},Li={key:0,class:"uip-border-top uip-margin-top-xxs uip-margin-bottom-xxs"},qi=["onClick","onMouseenter","onMouseleave"],Ui={class:""},Ei={key:1,class:"uip-flex uip-flex-center uip-gap-xxxs uip-opacity-50"},ji={key:1,class:"uip-text-s"},Mi={class:"uip-padding-xs uip-flex uip-flex-column uip-text-weight-normal uip-min-w-130"},Ri=["onClick"],Fi={class:""},Hi={ref:"templateexport",href:"",style:{display:"none"}};function Wi(s,e,o,d,t,n){const a=g("AppIcon"),h=g("contextmenu"),f=g("SaveAsPattern");return r(),p(k,null,[l(h,{ref:"blockcontextmenu"},{default:y(()=>[i("div",Ni,[(r(!0),p(k,null,S(t.links,c=>(r(),p(k,null,[c.name=="divider"?(r(),p("div",Li)):(r(),p("a",{key:1,onClick:G(c.action,["prevent"]),class:K(["uip-link-default uip-padding-xxs uip-border-rounder hover:uip-background-muted uip-no-underline uip-flex uip-flex-center uip-flex-between uip-gap-s",{"uip-link-danger":c.danger&&n.isEnabled(c),"uip-link-disabled":!n.isEnabled(c)}]),onMouseenter:m=>n.maybeShowSubMenu(m,c),onMouseleave:m=>n.maybeHideSubMenu(m,c)},[i("span",Ui,u(c.label),1),c.icon?(r(),C(a,{key:0,icon:c.icon,class:K(["uip-flex-no-shrink uip-icon",{"uip-link-muted":!c.danger}])},null,8,["icon","class"])):b("",!0),c.shortcut?(r(),p("span",Ei,[(r(!0),p(k,null,S(c.shortcut,m=>(r(),p(k,null,[m.type=="icon"?(r(),C(a,{key:0,icon:m.value,class:"uip-icon"},null,8,["icon"])):b("",!0),m.type=="text"?(r(),p("span",ji,u(m.value),1)):b("",!0)],64))),256))])):b("",!0),c.children?(r(),C(h,{key:2,ref_for:!0,ref:c.name+"menu",disableTeleport:!0},{default:y(()=>[i("div",Mi,[(r(!0),p(k,null,S(c.children,m=>(r(),p("a",{class:K(["uip-link-default uip-padding-xxs uip-border-rounder hover:uip-background-muted uip-no-underline uip-flex uip-flex-center uip-flex-between uip-gap-s",{"uip-link-danger":c.danger&&n.isEnabled(m),"uip-link-disabled":!n.isEnabled(m)}]),onClick:G(m.action,["prevent"]),type:"menuLink"},[i("span",Fi,u(m.label),1),l(a,{icon:m.icon,class:"uip-flex-no-shrink uip-text-muted uip-icon"},null,8,["icon"])],10,Ri))),256))])]),_:2},1536)):b("",!0)],42,qi))],64))),256))])]),_:1},512),i("a",Hi,null,512),l(f,{ref:"saveaspattern"},null,512)],64)}const zi=B($i,[["render",Wi]]),{__:lt}=wp.i18n,Gi={data(){return{history:[],currentIndex:-1,track:!1,currentPage:null,maxHistory:20,strings:{undo:lt("Undo","uipress-lite"),redo:lt("Redo","uipress-lite")}}},inject:["uiTemplate"],watch:{"uiTemplate.content":{immediate:!0,handler(){this.track&&this.addToHistory()},deep:!0},"$route.params.templateID":{immediate:!0,handler(s,e){s!==e&&(this.history=[],this.currentIndex=-1)},deep:!0}},mounted(){this.track=!0,document.addEventListener("keydown",this.watchHistoryKeys)},beforeUnmount(){document.removeEventListener("keydown",this.watchHistoryKeys)},methods:{addToHistory(){const s=this.cloneTemplate(this.uiTemplate.content);if(this.history[this.currentIndex]&&JSON.stringify(this.history[this.currentIndex])===JSON.stringify(s))return;this.history=this.history.slice(0,this.currentIndex+1);const e=this.cloneTemplate(this.uiTemplate.content);this.history.push(e),this.currentIndex++,this.history.length>this.maxHistory&&(this.history.shift(),this.currentIndex--)},cloneTemplate(s){return JSON.parse(JSON.stringify(s))},watchHistoryKeys(s){s.target.tagName==="INPUT"||s.target.tagName==="TEXTAREA"||s.keyCode===90&&(s.metaKey||s.ctrlKey)&&(s.shiftKey?this.handleForwardsInHistory():this.handleBackInHistory())},handleBackInHistory(){this.currentIndex<=0||(this.uipApp.scrolling=!0,this.track=!1,this.currentIndex--,this.uiTemplate.content=this.cloneTemplate(this.history[this.currentIndex]),W(()=>{this.track=!0,this.uipApp.scrolling=!1}))},handleForwardsInHistory(){this.currentIndex>=this.history.length-1||(this.uipApp.scrolling=!0,this.track=!1,this.currentIndex++,this.uiTemplate.content=this.cloneTemplate(this.history[this.currentIndex]),W(()=>{this.track=!0,this.uipApp.scrolling=!1}))}},template:`
    

	  	`},Ki={class:"uip-flex uip-gap-xxs uip-flex-center uip-background-muted uip-border-rounder uip-padding-xs uip-padding-top-xxs uip-padding-bottom-xxs"};function Ji(s,e,o,d,t,n){const a=g("AppIcon");return r(),p("div",Ki,[l(a,{title:t.strings.undo,onClick:e[0]||(e[0]=h=>n.handleBackInHistory()),class:K(["hover:uip-background-muted uip-border-round uip-flex uip-flex-center uip-icon uip-link-default uip-text-xl uip-ratio-1-1 uip-line-height-1 uip-icon-medium",{"uip-link-disabled":t.currentIndex<=0}]),icon:"undo"},null,8,["title","class"]),l(a,{title:t.strings.redo,onClick:e[1]||(e[1]=h=>n.handleForwardsInHistory()),class:K(["hover:uip-background-muted uip-border-round uip-flex uip-flex-center uip-icon uip-link-default uip-text-xl uip-ratio-1-1 uip-line-height-1 uip-icon-medium",{"uip-link-disabled":t.currentIndex>=t.history.length-1}]),icon:"redo"},null,8,["title","class"])])}const Qi=B(Gi,[["render",Ji]]),{__:A}=wp.i18n,Xi={components:{templateHistory:Qi},inject:["uiTemplate"],data(){return{templateID:this.$route.params.templateID,saving:!1,helpLoaded:!1,allUiTemplates:[],ui:{strings:{backToList:A("Back to template list","uipress-lite"),zoomIn:A("Zoom in","uipress-lite"),zoomOut:A("Zoom out","uipress-lite"),darkMode:A("Dark mode","uipress-lite"),preview:A("Preview","uipress-lite"),import:A("Import template","uipress-lite"),export:A("Export template","uipress-lite"),templateLibrary:A("Template Library","uipress-lite"),mobile:A("Mobile","uipress-lite"),desktop:A("Desktop","uipress-lite"),tablet:A("Tablet","uipress-lite"),saveTemplate:A("Save","uipress-lite"),help:A("Help","uipress-lite"),docs:A("Documentation and guides","uipress-lite"),draft:A("Draft","uipress-lite"),newTemplate:A("New template","uipress-lite"),recentTemplates:A("Recent templates","uipress-lite"),templateName:A("Template name","uipress-lite"),active:A("Active","uipress-lite"),draft:A("Draft","uipress-lite"),exitBuilder:A("Exit builder","uipress-lite"),patterns:A("Patterns","uipress-lite"),library:A("Library","uipress-lite"),siteSettings:A("Site settings","uipress-lite"),settings:A("Settings","uipress-lite"),templateSettings:A("Template settings","uipress-lite"),next:A("Next","uipress-lite"),previous:A("Previous","uipress-lite"),done:A("Done","uipress-lite"),close:A("Close","uipress-lite"),tips:A("Tips and updates","uipress-lite"),userInterface:A("User interface","uipress-lite"),adminPage:A("Admin Page","uipress-lite"),toolBar:A("Frontend toolbar","uipress-lite")}},previewOptions:[{value:"builder",label:A("Builder","uipress-lite")},{value:"preview",label:A("Preview","uipress-lite")}]}},watch:{"uipApp.data.templateDarkMode":{handler(s,e){const o=s?"dark":"light",d=document.querySelectorAll("iframe");d&&d.forEach(t=>{t.contentWindow.document.documentElement.setAttribute("data-theme",o)})},deep:!0},"uipApp.data.userPrefs.darkTheme":{handler(s,e){this.uiTemplate.display!=="prod"&&(this.uipApp.data.templateDarkMode=s)},deep:!0},"$route.params.templateID":{handler(){this.templateID=this.$route.params.templateID}}},beforeUnmount(){window.removeEventListener("keydown",this.handleCommandS)},mounted(){this.mountShortCuts()},computed:{returnSettingsLink(){return"/uibuilder/"+this.$route.params.templateID+"/settings/template"},returnLoadStyle(){if(this.saving)return"opacity:0;"}},methods:{mountShortCuts(){window.addEventListener("keydown",this.handleCommandS)},handleCommandS(s){s.keyCode==83&&(s.ctrlKey||s.metaKey)&&(s.preventDefault(),this.saveTemplate())},detectOperatingSystem(){const s=window.navigator.userAgent.toLowerCase();return s.includes("mac")||s.includes("ipad")||s.includes("iphone")?"Mac":"Windows"},async saveTemplate(){const s={globalSettings:JSON.parse(JSON.stringify(this.uiTemplate.globalSettings)),content:this.uiTemplate.content},e=JSON.stringify(s,(t,n)=>n==="true"||n===!0?"uiptrue":n==="false"||n===!1?"uipfalse":n===""?"uipblank":n);let o=new FormData;o.append("action","uip_save_ui_template"),o.append("security",uip_ajax.security),o.append("templateID",this.templateID),o.append("template",e);const d=await this.sendServerRequest(uip_ajax.ajax_url,o);if(d.error)return this.uipApp.notifications.notify(A("Unable to save template","uipress-lite"),d.message,"","error",!0),this.saving=!1,!1;if(d.success)return await this.saveStylePresets(),this.uipApp.notifications.notify(A("Template saved","uipress-lite"),"","success",!0),this.unsavedChanges=!1,this.saving=!1,!0},async saveStylePresets(){const s=JSON.stringify(this.uipApp.data.options.block_preset_styles,(o,d)=>d==="true"||d===!0?"uiptrue":d==="false"||d===!1?"uipfalse":d===""?"uipblank":d);let e=new FormData;return e.append("action","uip_save_site_option"),e.append("security",uip_ajax.security),e.append("option",s),e.append("optionName","block_preset_styles"),await this.sendServerRequest(uip_ajax.ajax_url,e),!0},exportTemplate(){let s="uip-ui-template-",e=JSON.stringify({uipLayout:this.uiTemplate.content}),o=this.uiTemplate.globalSettings.name,d=new Date,t=String(d.getDate()).padStart(2,"0"),n=String(d.getMonth()+1).padStart(2,"0"),a=d.getFullYear(),h=n+"-"+t+"-"+a,f=s+o+"-"+h+".json",c="data:text/json;charset=utf-8,"+encodeURIComponent(e),m=this.$refs.templateexport;m.setAttribute("href",c),m.setAttribute("download",f),m.click();let v=A("Layout exported","uipress-lite");this.uipApp.notifications.notify(v,"","success",!0)},importTemplate(s){let e=this.uipApp.notifications.notify(A("Importing layout","uipress-lite"),"","default",!1,!0),d=s.target.files[0];if(d.type!="application/json"){this.uipApp.notifications.notify(A("Templates must be in valid JSON format","uipress-lite"),"","error",!0,!1),this.uipApp.notifications.remove(e);return}if(d.size>1e6){this.uipApp.notifications.notify(A("Uploaded file is too big","uipress-lite"),"","error",!0,!1),this.uipApp.notifications.remove(e);return}let t=new FileReader;t.readAsText(d,"UTF-8"),t.onload=n=>{let a=n.target.result,h;try{h=JSON.parse(a)}catch(f){this.uipApp.notifications.notify(f,"","error",!0,!1),this.uipApp.notifications.remove(e);return}if(h!=null){if(!Array.isArray(h)&&!this.isObject(h)){this.uipApp.notifications.notify("Template is not valid","","error",!0,!1),this.uipApp.notifications.remove(e);return}let f,c=A("Template imported","uipress-lite");if(Array.isArray(h))f=h;else if("uipLayout"in h)Array.isArray(h.uipLayout)?f=h.uipLayout:f=[h.uipLayout];else{this.uipApp.notifications.notify(A("Template mismatch","uipress-lite"),"","error",!0,!1),this.uipApp.notifications.remove(e);return}ut(f,!0).then(m=>{m.includes(!1)?(this.uipApp.notifications.notify(A("File is not a valid JSON template","uipress-lite"),"","error",!0,!1),this.uipApp.notifications.remove(e)):(this.uiTemplate.content=f,this.uipApp.notifications.notify(c,"","success",!0,!1),this.uipApp.notifications.remove(e))})}else this.uipApp.notifications.notify(A("JSON parse failed","uipress-lite"),"","error",!0,!1),this.uipApp.notifications.remove(e)}},async createNewUI(){let s=new FormData;s.append("action","uip_create_new_ui_template"),s.append("security",uip_ajax.security),s.append("templateType","ui-template");const e=await this.sendServerRequest(uip_ajax.ajax_url,s);this.uipApp.notifications.notify(A("New template created","uipress-lite"),"","success",!0,!1),this.$router.push("/"),this.$router.push("/uibuilder/"+e.id+"/")}}},Yi={id:"uip-ui-preview-toolbar",class:"uip-flex uip-padding-s uip-gap-xs uip-flex-center uip-flex-between uip-background-default uip-border-bottom uip-flex-wrap uip-position-relative",style:{"z-index":"2"}},Zi={class:"uip-flex uip-flex-center uip-app-frame"},es={class:"uip-flex uip-gap-s uip-flex-center"},ts={class:"uip-flex uip-gap-xs uip-flex-center uip-link-default uip-border-rounder uip-background-muted uip-padding-xs uip-padding-top-xxs uip-padding-bottom-xxs"},is=i("div",{class:"uip-logo uip-w-18 uip-ratio-1-1"},null,-1),ss={class:"uip-max-h-600 uip-overflow-auto uip-flex uip-flex-column"},ns={class:"uip-padding-xs uip-flex uip-flex-column uip-row-gap-xxxs"},os={class:"uip-flex-grow"},ls={class:"uip-flex-grow"},rs=i("div",{class:"uip-border-top uip-margin-top-xxs uip-margin-bottom-xxs"},null,-1),us={class:"uip-flex-grow"},ps={class:"uip-flex-grow"},as={class:"uip-link-default uip-no-underline uip-flex uip-flex-center uip-gap-m uip-padding-xxs uip-border-round hover:uip-background-muted"},cs={class:"uip-flex-grow"},ds={class:"uip-flex-grow"},hs={ref:"templateexport",href:"",style:{display:"none"}},fs=i("div",{class:"uip-border-top uip-margin-top-xxs uip-margin-bottom-xxs"},null,-1),ms={class:"uip-flex-grow"},gs={class:"uip-flex-grow"},xs={class:"uip-flex uip-gap-xxs uip-flex-center"},vs={class:"uip-flex uip-flex-center uip-gap-s"},_s={value:"ui-template"},bs={value:"ui-admin-page"},ys={value:"ui-front-template"},ks={class:"uip-flex uip-gap-xs"},ws=["title"],Ss={class:""},Cs=i("span",{class:"uip-padding-left-xxxs uip-padding-right-xxxs uip-border uip-border-round uip-text-s uip-flex uip-flex-center uip-flex-row","data-theme":"dark"},[i("span",{class:"uip-command-icon uip-text-muted"}),i("span",{class:"uip-text-muted"},"S")],-1),Ds={key:0,class:"uip-position-absolute uip-left-0 uip-right-0"},Ts=i("span",{class:"uip-load-spinner"},null,-1),Os=[Ts];function As(s,e,o,d,t,n){const a=g("AppIcon"),h=g("router-link"),f=g("dropdown"),c=g("templateHistory");return r(),p("div",Yi,[i("div",Zi,[i("div",es,[l(f,{pos:"bottom left",ref:"logomenu"},{trigger:y(()=>[i("div",ts,[is,l(a,{icon:"expand_more",class:"uip-icon uip-text-l uip-text-muted"})])]),content:y(()=>[i("div",ss,[i("div",ns,[l(h,{to:"/",class:"uip-link-default uip-no-underline uip-flex uip-flex-center uip-gap-m uip-padding-xxs uip-border-round hover:uip-background-muted"},{default:y(()=>[i("div",os,u(t.ui.strings.backToList),1),l(a,{icon:"chevron_left",class:"uip-icon uip-text-l uip-text-muted"})]),_:1}),l(h,{onClick:e[0]||(e[0]=m=>s.$refs.logomenu.close()),to:"/site-settings",class:"uip-link-default uip-no-underline uip-flex uip-flex-center uip-gap-m uip-padding-xxs uip-border-round hover:uip-background-muted"},{default:y(()=>[i("div",ls,u(t.ui.strings.siteSettings),1),l(a,{icon:"tune",class:"uip-icon uip-text-l uip-text-muted"})]),_:1}),rs,i("a",{onClick:e[1]||(e[1]=()=>{n.createNewUI(),s.$refs.logomenu.close()}),class:"uip-link-default uip-no-underline uip-flex uip-flex-center uip-gap-m uip-padding-xxs uip-border-round hover:uip-background-muted"},[i("div",us,u(t.ui.strings.newTemplate),1),l(a,{icon:"add",class:"uip-icon uip-text-l uip-text-muted"})]),l(h,{onClick:e[2]||(e[2]=m=>s.$refs.logomenu.close()),to:n.returnSettingsLink,class:"uip-link-default uip-no-underline uip-flex uip-flex-center uip-gap-m uip-padding-xxs uip-border-round hover:uip-background-muted"},{default:y(()=>[i("div",ps,u(t.ui.strings.templateSettings),1),l(a,{icon:"settings",class:"uip-icon uip-text-l uip-text-muted"})]),_:1},8,["to"]),i("label",as,[i("div",cs,u(t.ui.strings.import),1),l(a,{icon:"file_upload",class:"uip-icon uip-text-l uip-text-muted"}),i("input",{hidden:"",accept:".json",type:"file",single:"",id:"uip-import-layout",onChange:e[3]||(e[3]=m=>n.importTemplate(m,"template"))},null,32)]),i("a",{onClick:e[4]||(e[4]=()=>{n.exportTemplate("template"),s.$refs.logomenu.close()}),class:"uip-link-default uip-no-underline uip-flex uip-flex-center uip-gap-m uip-padding-xxs uip-border-round hover:uip-background-muted"},[i("div",ds,u(t.ui.strings.export),1),l(a,{icon:"file_download",class:"uip-icon uip-text-l uip-text-muted"}),i("a",hs,null,512)]),fs,i("a",{onClick:e[5]||(e[5]=m=>s.$refs.logomenu.close()),class:"uip-link-default uip-no-underline uip-flex uip-flex-center uip-gap-m uip-padding-xxs uip-border-round hover:uip-background-muted",href:"https://uipress.co/docs/#/",target:"_BLANK"},[i("div",ms,u(t.ui.strings.docs),1),l(a,{icon:"open_in_new",class:"uip-icon uip-text-l uip-text-muted"})]),i("div",{onClick:e[6]||(e[6]=()=>{s.uipApp.tipsAndTricks.show(),s.$refs.logomenu.close()}),class:"uip-link-default uip-no-underline uip-flex uip-flex-center uip-gap-m uip-padding-xxs uip-border-round hover:uip-background-muted"},[i("div",gs,u(t.ui.strings.tips),1),l(a,{icon:"tips_and_updates",class:"uip-icon uip-text-l uip-text-muted"})])])])]),_:1},512),l(c)])]),i("div",xs,[i("div",vs,[i("span",{class:"uip-text-bold uip-blank-input uip-text-right",contenteditable:"",onInput:e[7]||(e[7]=m=>{n.uiTemplate.globalSettings.name=m.target.innerText})},u(n.uiTemplate.globalSettings.name),33),n.uiTemplate.globalSettings.status?(r(),C(h,{key:0,to:n.returnSettingsLink,class:"uip-border-rounder uip-background-green-wash uip-padding-xxs uip-no-underline uip-link-default"},{default:y(()=>[Z(u(t.ui.strings.active),1)]),_:1},8,["to"])):b("",!0),n.uiTemplate.globalSettings.status?b("",!0):(r(),C(h,{key:1,to:n.returnSettingsLink,class:"uip-border-rounder uip-background-orange-wash uip-padding-xxs uip-no-underline uip-link-default"},{default:y(()=>[Z(u(t.ui.strings.draft),1)]),_:1},8,["to"])),w(i("select",{class:"uip-input uip-input-small uip-border-rounder","onUpdate:modelValue":e[8]||(e[8]=m=>n.uiTemplate.globalSettings.type=m)},[i("option",_s,u(t.ui.strings.userInterface),1),i("option",bs,u(t.ui.strings.adminPage),1),i("option",ys,u(t.ui.strings.toolBar),1)],512),[[X,n.uiTemplate.globalSettings.type]])])]),i("div",ks,[i("div",{onClick:e[9]||(e[9]=m=>{n.uiTemplate.isPreview=!n.uiTemplate.isPreview,s.uipApp.blockSettings.close()}),title:t.ui.strings.preview,class:K(["uip-border-rounder uip-flex uip-gap-xxs uip-flex-center uip-padding-xxs",n.uiTemplate.isPreview?"uip-button-primary uip-text-inverse":"uip-button-default"])},[l(a,{icon:"play_arrow",class:"uip-icon uip-text-xl"})],10,ws),l(h,{to:n.returnSettingsLink,class:"uip-button-default uip-no-underline uip-flex uip-gap-xxs uip-flex-center uip-text-s"},{default:y(()=>[l(a,{icon:"settings",class:"uip-icon uip-text-l"}),i("div",Ss,u(t.ui.strings.settings),1)]),_:1},8,["to"]),i("button",{onClick:e[10]||(e[10]=m=>n.saveTemplate()),class:"uip-button-primary uip-flex uip-flex-center uip-flex-middle uip-position-relative uip-text-s",type:"button"},[i("span",{style:ce(n.returnLoadStyle),class:"uip-flex uip-flex-center uip-flex-middle uip-gap-xs"},[i("span",null,u(t.ui.strings.saveTemplate),1),Cs],4),t.saving?(r(),p("div",Ds,Os)):b("",!0)])])])}const Ps=B(Xi,[["render",As]]),{__:ye}=wp.i18n,Vs={emits:["update","go-back"],components:{Confirm:Je},props:{preset:[String,Boolean],block:Object,activePart:String,presetID:String},data(){return{presetName:"",strings:{presetName:ye("Preset name","uipress-lite"),update:ye("Update","uipress-lite"),delete:ye("Delete","uipress-lite"),explanation:ye("Create a new style preset from the current block style. Style presets can be used on any block and updating in one place will update across all your templates.","uipress-lite")}}},mounted(){this.setName()},methods:{setName(){this.activePart=="root"||this.activePart;const s=this.uipApp.data.options.block_preset_styles;if(!this.presetID)return!1;this.isObject(s)&&this.presetID in s&&(this.presetName=s[this.presetID].name)},async deletePreset(){if(await this.$refs.confirm.show({title:ye("Delete preset","uipress-lite"),message:ye("Are you sure you want to delete this custom preset?","uipress-lite"),okButton:ye("Delete preset","uipress-lite"),disableTeleport:!0})){if(!this.uipApp.data.options.block_preset_styles)return;delete this.uipApp.data.options.block_preset_styles[this.presetID],this.$emit("go-back")}},updatePreset(){this.uipApp.data.options.block_preset_styles&&(this.uipApp.data.options.block_preset_styles[this.presetID].name=this.presetName,this.$emit("go-back"))}}},Is={class:"uip-flex uip-flex-column uip-padding-left-xs uip-gap-s"},Bs=["placeholder"],$s={class:"uip-flex uip-flex-between uip-gap-xs"},Ns=["disabled"];function Ls(s,e,o,d,t,n){const a=g("Confirm");return r(),p("div",Is,[w(i("input",{class:"uip-input",type:"text","onUpdate:modelValue":e[0]||(e[0]=h=>t.presetName=h),placeholder:t.strings.presetName},null,8,Bs),[[D,t.presetName]]),i("div",$s,[i("button",{onClick:e[1]||(e[1]=h=>n.deletePreset()),class:"uip-button-danger uip-flex-grow"},u(t.strings.delete),1),i("button",{onClick:e[2]||(e[2]=(...h)=>n.updatePreset&&n.updatePreset(...h)),class:"uip-button-default uip-flex-grow",disabled:!t.presetName},u(t.strings.update),9,Ns)]),l(a,{ref:"confirm"},null,512)])}const qs=B(Vs,[["render",Ls]]);wp.i18n;const Us={},Es={class:"uip-flex uip-flex-column uip-padding-left-xs uip-gap-s"},js={class:"uip-text-s"},Ms=["placeholder"],Rs=["disabled"];function Fs(s,e,o,d,t,n){return r(),p("div",Es,[i("div",js,u(s.strings.explanation),1),w(i("input",{class:"uip-input",type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>s.newName=a),placeholder:s.strings.presetName},null,8,Ms),[[D,s.newName]]),i("button",{onClick:e[1]||(e[1]=(...a)=>s.newPreset&&s.newPreset(...a)),class:"uip-button-default",disabled:!s.newName},u(s.strings.createPreset),9,Rs)])}const Hs=B(Us,[["render",Fs]]),{__:Ne}=wp.i18n,Ws={emits:["update","request-screen"],components:{},props:{preset:[String,Boolean],block:Object,activePart:String},data(){return{open:!0,strings:{searchPresets:Ne("Search presets","uipress-lite"),newPreset:Ne("New preset","uipress-lite"),noPresets:Ne("No presets yet","uipress-lite"),editPreset:Ne("Edit preset","uipress-lite")},search:""}},computed:{returnPresets(){const s=this.uipApp.data.options.block_preset_styles,e=this.search.toLowerCase();let o=this.isObject(s)?s:{},d={};for(let t in o)o[t].name.toLowerCase().includes(e)&&(d[t]=o[t]);return d},returnCurrentPreset(){const s=this.activePart=="root"?"style":this.activePart;return this.hasNestedPath(this.block,"settings",s,"preset")}},methods:{requestNewPreset(){const s={component:"NewPreset",label:this.strings.newPreset};this.$emit("request-screen",s)},choosePreset(s){const e=this.activePart=="root"?"style":this.activePart;this.ensureNestedObject(this.block,"settings",e,"preset"),this.block.settings[e].preset=s},editPreset(s){const e={component:"EditPreset",presetID:s,label:this.strings.editPreset};this.$emit("request-screen",e)}}},zs={class:"uip-flex uip-flex-column"},Gs={class:"uip-flex uip-flex-center uip-gap-xs uip-margin-bottom-s"},Ks={class:"uip-flex uip-gap-xs uip-flex-center uip-padding-xxs uip-padding-left-xs uip-background-muted uip-border-rounder uip-flex-grow"},Js=["placeholder"],Qs={key:0,class:"uip-text-s"},Xs={class:"uip-flex uip-flex-column uip-row-gap-xxs"},Ys=["onClick"],Zs={class:""};function en(s,e,o,d,t,n){const a=g("AppIcon");return r(),p("div",zs,[i("div",Gs,[i("div",Ks,[l(a,{icon:"search",class:"uip-icon"}),w(i("input",{class:"uip-blank-input uip-text-s",type:"text","onUpdate:modelValue":e[0]||(e[0]=h=>t.search=h),placeholder:t.strings.searchPresets},null,8,Js),[[D,t.search]])]),i("a",{onClick:e[1]||(e[1]=(...h)=>n.requestNewPreset&&n.requestNewPreset(...h)),class:"uip-link-muted uip-background-muted uip-border-rounder uip-icon uip-padding-xxs"},[l(a,{icon:"add"})])]),Object.keys(n.returnPresets).length?b("",!0):(r(),p("div",Qs,u(t.strings.noPresets),1)),i("div",Xs,[(r(!0),p(k,null,S(n.returnPresets,(h,f)=>(r(),p("a",{onClick:c=>n.choosePreset(f),class:K([n.returnCurrentPreset==f?"uip-background-muted uip-link-emphasis":"hover:uip-background-muted uip-link-muted","uip-padding-xxs uip-border-rounder uip-no-wrap uip-flex uip-flex-center uip-flex-between uip-gap-s uip-border-rounder"])},[i("span",Zs,u(h.name),1),l(a,{onClick:G(c=>n.editPreset(f),["prevent","stop"]),icon:"edit",class:"uip-icon"},null,8,["onClick"])],10,Ys))),256))])])}const tn=B(Ws,[["render",en]]),{__:He}=wp.i18n,sn={emits:["update"],components:{screenControl:Me,PresetList:tn,NewPreset:Hs,EditPreset:qs},props:{block:Object,activePart:String},data(){return{open:!1,preset:!0,strings:{presets:He("Preset","uipress-lite"),usePreset:He("Use preset","uipress-lite"),add:He("Add","uipress-lite")}}},watch:{"uipApp.data.options.block_preset_styles":{handler(){this.saveStylePresets()},deep:!0}},mounted(){this.returnCurrentPresetName&&(this.open=!0)},computed:{returnVisibilityIcon(){if(this.open)return"expand_more";if(!this.open)return"chevron_left"},returnPresetScreen(){return{component:"PresetList",preset:this.preset,label:this.strings.presets}},returnCurrentPresetName(){const s=this.activePart=="root"?"style":this.activePart,e=this.hasNestedPath(this.block,"settings",s,"preset"),o=this.uipApp.data.options.block_preset_styles;if(!e)return!1;if(this.isObject(o)&&e in o)return o[e].name}},methods:{toggleVisibility(){this.open=!this.open},async saveStylePresets(){const s=this.prepareJSON(this.uipApp.data.options.block_preset_styles);let e=new FormData;e.append("action","uip_save_site_option"),e.append("security",uip_ajax.security),e.append("option",s),e.append("optionName","block_preset_styles"),await this.sendServerRequest(uip_ajax.ajax_url,e)},removePreset(){const s=this.activePart=="root"?"style":this.activePart;this.hasNestedPath(this.block,"settings",s,"preset")&&delete this.block.settings[s].preset}},template:`
	  
		 
	  
	  
	  `},nn={class:"uip-flex uip-flex-column uip-row-gap-s"},on={class:"uip-flex uip-gap-s uip-flex-center uip-flex-between"},ln={class:"uip-text-bold uip-text-emphasis"},rn={key:0,class:"uip-flex-grow"},un=i("div",{class:"uip-w-6 uip-ratio-1-1 uip-border-circle uip-background-secondary"},null,-1),pn=[un],an={key:0,class:"uip-padding-left-s uip-grid-col-1-3"},cn={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},dn={class:"uip-background-muted uip-border-rounder uip-padding-xxxs uip-padding-right-xxs uip-flex uip-flex-between uip-flex-center uip-link-default"},hn={key:0,class:"uip-flex-grow uip-padding-xs uip-padding-top-xxxs uip-padding-bottom-xxxs uip-flex uip-gap-xxs uip-flex-center uip-link-default uip-text-s"},fn={key:1,class:"uip-padding-xs uip-padding-top-xxxs uip-padding-bottom-xxxs uip-background-highlight uip-border-rounder uip-border uip-flex uip-gap-xxs uip-flex-center uip-link-default uip-text-s"},mn={class:"uip-padding-s uip-w-240"};function gn(s,e,o,d,t,n){const a=g("AppIcon"),h=g("screenControl"),f=g("dropdown");return r(),p("div",nn,[i("div",on,[i("div",{class:"uip-flex uip-gap-xs uip-flex-center uip-cursor-pointer uip-flex-between uip-flex-grow",onClick:e[0]||(e[0]=c=>n.toggleVisibility())},[i("span",ln,u(t.strings.presets),1),n.returnCurrentPresetName?(r(),p("div",rn,pn)):b("",!0),l(a,{class:"uip-link-muted uip-icon",icon:n.returnVisibilityIcon},null,8,["icon"])])]),t.open?(r(),p("div",an,[i("div",cn,[i("span",null,u(t.strings.usePreset),1)]),l(f,{pos:"left top",snapX:["#uip-block-settings"],ref:"presetsSwitcher"},{trigger:y(()=>[i("div",dn,[n.returnCurrentPresetName?(r(),p("div",fn,u(n.returnCurrentPresetName),1)):(r(),p("div",hn,u(t.strings.add)+"... ",1)),n.returnCurrentPresetName?(r(),C(a,{key:2,onClick:e[1]||(e[1]=G(c=>n.removePreset(),["prevent","stop"])),icon:"close",class:"uip-icon"})):b("",!0)])]),content:y(()=>[i("div",mn,[l(h,{startScreen:n.returnPresetScreen,homeScreen:n.returnPresetScreen.component,closer:s.$refs.presetsSwitcher.close,showNavigation:!0},{componenthandler:y(({processScreen:c,currentScreen:m,goBack:v})=>[(r(),C(ge,null,[(r(),C(ie(m.component),{onRequestScreen:x=>{c(x)},onGoBack:x=>v(),block:o.block,preset:m.preset,presetID:m.presetID,activePart:o.activePart},null,40,["onRequestScreen","onGoBack","block","preset","presetID","activePart"]))],1024))]),_:1},8,["startScreen","homeScreen","closer"])])]),_:1},512)])):b("",!0)])}const xn=B(sn,[["render",gn]]),{__:We}=wp.i18n,vn={emits:["update"],components:{},props:{block:Object,activePart:String},data(){return{part:null,strings:{blockPart:We("Block part","uipress-lite"),blockParts:We("Block parts","uipress-lite"),root:We("Root","uipress-lite")}}},watch:{part:{handler(){this.$emit("update",this.part)}},activePart:{handler(){this.part=this.activePart},immediate:!0}},computed:{returnActivePart(){if(this.part=="root")return this.strings.root;const s=this.returnBlockParts,e=s.findIndex(o=>o.name==this.part);if(!(e<0))return s[e].label},returnBlockPartsLength(){return this.returnBlockParts.length},returnBlockParts(){const s=this.block.moduleName,d=[...this.uipApp.data.blocks.find(n=>n.metadata.moduleName==s).metadata.optionsEnabled];return["advanced","style","block"].forEach(n=>{const a=d.findIndex(h=>h.name==n);a>=0&&d.splice(a,1)}),d}},methods:{selectPart(s){this.part=s,this.$refs.blockPartSwitcher.close()}}},_n={class:"uip-background-muted uip-border-rounder uip-padding-xs uip-flex uip-flex-between uip-flex-center uip-link-default"},bn={class:""},yn={class:"uip-text-muted"},kn={class:"uip-padding-s uip-flex uip-flex-column uip-text-weight-normal uip-w-240 uip-row-gap-xs"},wn={class:"uip-flex uip-flex-between uip-flex-center"},Sn={class:"uip-text-emphasis uip-text-bold uip-text-s"},Cn={class:"uip-flex uip-flex-column"},Dn=i("span",null,"root",-1),Tn=[Dn],On=["onClick"],An={class:"uip-flex uip-flex-column"},Pn={class:""},Vn={class:"uip-text-muted uip-text-s"};function In(s,e,o,d,t,n){const a=g("AppIcon"),h=g("dropdown");return n.returnBlockPartsLength?(r(),C(h,{key:0,pos:"left top",snapX:["#uip-block-settings"],ref:"blockPartSwitcher",class:"uip-position-sticky uip-top-16 uip-z-index-2"},{trigger:y(()=>[i("div",_n,[i("div",bn,[i("span",yn,u(t.strings.blockPart)+":",1),Z(" "+u(n.returnActivePart),1)]),l(a,{icon:"expand_more",class:"uip-icon"})])]),content:y(()=>[i("div",kn,[i("div",wn,[i("div",Sn,u(t.strings.blockParts),1),i("div",{onClick:e[0]||(e[0]=f=>s.$refs.blockPartSwitcher.close()),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[l(a,{icon:"close",class:"uip-icon"})])]),i("div",Cn,[i("a",{onClick:e[1]||(e[1]=f=>n.selectPart("root")),class:K([t.part=="root"?"uip-background-muted uip-link-emphasis":"hover:uip-background-muted uip-link-default","uip-padding-xxs uip-border-rounder uip-no-wrap uip-flex uip-flex-center uip-flex-between uip-gap-s uip-border-rounder"])},Tn,2),(r(!0),p(k,null,S(n.returnBlockParts,f=>(r(),p("a",{onClick:c=>n.selectPart(f.name),class:K([f.name==t.part?"uip-background-muted uip-link-emphasis":"hover:uip-background-muted uip-link-default","uip-padding-xxs uip-border-rounder uip-no-wrap uip-flex uip-flex-center uip-flex-between uip-gap-s uip-border-rounder"])},[i("div",An,[i("span",Pn,u(f.label),1),i("span",Vn,u(f.class),1)]),l(a,{icon:f.icon,class:"uip-icon"},null,8,["icon"])],10,On))),256))])])]),_:1},512)):b("",!0)}const Bn=B(vn,[["render",In]]),$n={props:{title:String,startOpen:Boolean},data(){return{open:!1}},mounted(){this.startOpen&&(this.open=!0)},computed:{returnVisibilityIcon(){if(this.open)return"expand_more";if(!this.open)return"chevron_left"}},methods:{toggleVisibility(){this.open=!this.open}}},Nn={class:"uip-flex uip-flex-column uip-row-gap-s"},Ln={class:"uip-flex uip-gap-s uip-flex-center uip-flex-between"},qn={class:"uip-text-bold uip-text-emphasis"},Un={key:0,class:"uip-padding-left-s"};function En(s,e,o,d,t,n){const a=g("AppIcon");return r(),p("div",Nn,[i("div",Ln,[i("div",{class:"uip-flex uip-gap-xxs uip-flex-center uip-cursor-pointer uip-flex-between uip-flex-grow",onClick:e[0]||(e[0]=h=>n.toggleVisibility())},[i("span",qn,u(o.title),1),l(a,{class:"uip-link-muted uip-icon",icon:n.returnVisibilityIcon},null,8,["icon"])])]),t.open?(r(),p("div",Un,[Ee(s.$slots,"default")])):b("",!0)])}const jn=B($n,[["render",En]]),{__:Se}=wp.i18n,Mn=[{value:"start",label:Se("Start","uipress-lite")},{value:"center",label:Se("Center","uipress-lite")},{value:"end",label:Se("End","uipress-lite")},{value:"space-around",label:Se("Space around","uipress-lite")},{value:"space-between",label:Se("Space between","uipress-lite")},{value:"space-evenly",label:Se("Space evenly","uipress-lite")}],{__:ke}=wp.i18n,Rn={normal:{value:"normal",label:ke("Normal","uipress-lite")},baseline:{value:"baseline",label:ke("Baseline","uipress-lite")},center:{value:"center",label:ke("Center","uipress-lite")},end:{value:"end",label:ke("End","uipress-lite")},"space-around":{value:"space-around",label:ke("Space around","uipress-lite")},"space-between":{value:"space-between",label:ke("Space between","uipress-lite")},"space-evenly":{value:"space-evenly",label:ke("Space evenly","uipress-lite")}},{__:Le}=wp.i18n,Fn={"flex-start":{value:"flex-start",tip:Le("Start","uipress-lite"),icon:"align_horizontal_left"},center:{value:"center",tip:Le("Center","uipress-lite"),icon:"align_horizontal_center"},end:{value:"end",tip:Le("End","uipress-lite"),icon:"align_horizontal_right"},stretch:{value:"stretch",tip:Le("Stretch","uipress-lite"),icon:"expand"}},{__:qe}=wp.i18n,Hn={"flex-start":{value:"flex-start",tip:qe("Start","uipress-lite"),icon:"align_vertical_top"},center:{value:"center",tip:qe("Center","uipress-lite"),icon:"align_vertical_center"},end:{value:"end",tip:qe("End","uipress-lite"),icon:"align_vertical_bottom"},stretch:{value:"stretch",tip:qe("Stretch","uipress-lite"),icon:"expand"}},{__:Q}=wp.i18n,Wn={emits:["update"],props:{value:Object,blockSettings:Object},data(){return{open:!1,updating:!1,options:{},strings:{direction:Q("Direction","uipress-lite"),distribute:Q("Distribute","uipress-lite"),align:Q("Align","uipress-lite"),wrap:Q("Wrap","uipress-lite"),gap:Q("Gap","uipress-lite"),type:Q("Type","uipress-lite"),columns:Q("Columns","uipress-lite"),rows:Q("Rows","uipress-lite"),columnWidth:Q("Column width","uipress-lite"),place:Q("Place","uipress-lite"),minimumColumnWidth:Q("Min width","uipress-lite"),responsive:Q("Responsive","uipress-lite")},layoutType:{stack:{value:"stack",label:Q("Stack","uipress-lite")},grid:{value:"grid",label:Q("Grid","uipress-lite")}},directions:{row:{value:"row",icon:"arrow_right_alt",tip:Q("Horizontal","uipress-lite")},column:{value:"column",icon:"height",tip:Q("Vertical","uipress-lite")}},distribution:Mn,alignments:Hn,verticalAlignments:Fn,flexWrap:{wrap:{value:"wrap",label:Q("Yes","uipress-lite")},nowrap:{value:"nowrap",label:Q("No","uipress-lite")}},alignContent:Rn,responsiveOptions:{false:{value:!1,label:Q("No","uipress-lite")},true:{value:!0,label:Q("Yes","uipress-lite")}}}},watch:{value:{handler(s,e){this.updating||this.injectProp()},deep:!0,immediate:!0},options:{handler(s,e){this.updating||this.$emit("update",this.options)},deep:!0}},computed:{returnAlignOptions(){return this.options.direction=="row"?this.alignments:this.verticalAlignments},returnDefaultOptions(){return{direction:"row",distribute:"start",align:"flex-start",wrap:null,type:null,placeContent:"normal",gap:{value:0,units:"px"},columns:2,rows:2,columnWidth:{value:200,units:"px"},minColumnWidth:{value:200,units:"px"},responsive:!1}}},methods:{async injectProp(){this.updating=!0;const s=this.returnDefaultOptions,e=this.isObject(this.value)?this.value:{};this.options={...s,...e},await W(),this.updating=!1}}},zn={class:"uip-flex uip-flex-column uip-row-gap-xs"},Gn={class:"uip-grid-col-1-3"},Kn={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Jn={class:"uip-position-relative"},Qn={class:"uip-grid-col-1-3"},Xn={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Yn={class:"uip-position-relative"},Zn={class:"uip-grid-col-1-3"},eo={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},to={class:"uip-position-relative"},io=["value"],so={class:"uip-grid-col-1-3"},no={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},oo={class:"uip-grid-col-1-3"},lo={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},ro={class:"uip-position-relative"},uo=["value"],po={class:"uip-grid-col-1-3"},ao={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},co={class:"uip-position-relative"},ho={class:"uip-grid-col-1-3"},fo={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},mo={class:"uip-position-relative"},go={class:"uip-grid-col-1-3"},xo={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},vo={key:0,class:"uip-grid-col-1-3"},_o={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},bo={key:1,class:"uip-grid-col-1-3"},yo={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},ko={class:"uip-position-relative"},wo={key:2,class:"uip-grid-col-1-3"},So={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Co={class:"uip-position-relative"},Do={key:2,class:"uip-grid-col-1-3"},To={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Oo={class:"uip-position-relative"};function Ao(s,e,o,d,t,n){const a=g("toggle-switch"),h=g("uip-number"),f=g("value-units");return r(),p("div",zn,[i("div",Gn,[i("div",Kn,[i("span",null,u(t.strings.type),1)]),i("div",Jn,[l(a,{options:t.layoutType,activeValue:t.options.type,returnValue:function(c){t.options.type=c}},null,8,["options","activeValue","returnValue"])])]),t.options.type=="stack"?(r(),p(k,{key:0},[i("div",Qn,[i("div",Xn,[i("span",null,u(t.strings.direction),1)]),i("div",Yn,[l(a,{options:t.directions,activeValue:t.options.direction,returnValue:function(c){t.options.direction=c}},null,8,["options","activeValue","returnValue"])])]),i("div",Zn,[i("div",eo,[i("span",null,u(t.strings.distribute),1)]),i("div",to,[w(i("select",{class:"uip-input-small uip-padding-top-xxxs uip-padding-bottom-xxxs uip-max-w-100p uip-w-100p uip-border-rounder",style:{"padding-top":"2px","padding-bottom":"2px","border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[0]||(e[0]=c=>t.options.distribute=c)},[(r(!0),p(k,null,S(t.distribution,c=>(r(),p("option",{value:c.value},u(c.label),9,io))),256))],512),[[X,t.options.distribute]])])]),i("div",so,[i("div",no,[i("span",null,u(t.strings.align),1)]),l(a,{options:n.returnAlignOptions,activeValue:t.options.align,returnValue:function(c){t.options.align=c}},null,8,["options","activeValue","returnValue"])]),i("div",oo,[i("div",lo,[i("span",null,u(t.strings.place),1)]),i("div",ro,[w(i("select",{class:"uip-input-small uip-padding-top-xxxs uip-padding-bottom-xxxs uip-max-w-100p uip-w-100p uip-border-rounder",style:{"padding-top":"2px","padding-bottom":"2px","border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[1]||(e[1]=c=>t.options.placeContent=c)},[(r(!0),p(k,null,S(t.alignContent,c=>(r(),p("option",{value:c.value},u(c.label),9,uo))),256))],512),[[X,t.options.placeContent]])])]),i("div",po,[i("div",ao,[i("span",null,u(t.strings.wrap),1)]),i("div",co,[l(a,{options:t.flexWrap,activeValue:t.options.wrap,returnValue:function(c){t.options.wrap=c}},null,8,["options","activeValue","returnValue"])])])],64)):b("",!0),t.options.type=="grid"?(r(),p(k,{key:1},[i("div",ho,[i("div",fo,[i("span",null,u(t.strings.responsive),1)]),i("div",mo,[l(a,{options:t.responsiveOptions,activeValue:t.options.responsive,returnValue:function(c){t.options.responsive=c}},null,8,["options","activeValue","returnValue"])])]),i("div",go,[i("div",xo,[i("span",null,u(t.strings.columns),1)]),l(h,{value:t.options.columns,returnData:c=>{t.options.columns=c},step:1},null,8,["value","returnData"])]),t.options.responsive?b("",!0):(r(),p("div",vo,[i("div",_o,[i("span",null,u(t.strings.rows),1)]),l(h,{value:t.options.rows,returnData:c=>{t.options.rows=c},step:1},null,8,["value","returnData"])])),t.options.responsive?b("",!0):(r(),p("div",bo,[i("div",yo,[i("span",null,u(t.strings.columnWidth),1)]),i("div",ko,[l(f,{value:t.options.columnWidth,returnData:function(c){t.options.columnWidth=c}},null,8,["value","returnData"])])])),t.options.responsive?(r(),p("div",wo,[i("div",So,[i("span",null,u(t.strings.minimumColumnWidth),1)]),i("div",Co,[l(f,{value:t.options.minColumnWidth,returnData:function(c){t.options.minColumnWidth=c}},null,8,["value","returnData"])])])):b("",!0)],64)):b("",!0),t.options.type?(r(),p("div",Do,[i("div",To,[i("span",null,u(t.strings.gap),1)]),i("div",Oo,[l(f,{value:t.options.gap,returnData:function(c){t.options.gap=c}},null,8,["value","returnData"])])])):b("",!0)])}const Po=B(Wn,[["render",Ao]]),{__:re}=wp.i18n,Vo={emits:["update"],props:{value:Object},data(){return{option:this.returnDefaultOptions,updating:!1,growOptions:{grow:{value:"grow",label:re("Yes","uipress-lite")},none:{value:"none",label:re("No","uipress-lite")}},shrinkOptions:{none:{value:"none",label:re("No","uipress-lite")},shrink:{value:"shrink",label:re("Yes","uipress-lite")}},strings:{height:re("Height","uipress-lite"),width:re("Width","uipress-lite"),maxHeight:re("Max height","uipress-lite"),maxWidth:re("Max width","uipress-lite"),minHeight:re("Min height","uipress-lite"),minWidth:re("Min width","uipress-lite"),grow:re("Grow","uipress-lite"),flexShrink:re("Shrink","uipress-lite")}}},watch:{value:{handler(s,e){this.updating||this.injectProp()},deep:!0,immediate:!0},option:{handler(s,e){this.updating||this.$emit("update",this.option)},deep:!0}},computed:{returnOption(){return this.option},returnDefaultOptions(){return{grow:"none",flexShrink:"none",updating:!1,enabled:{maxHeight:!1,minHeight:!1,maxWidth:!1,minWidth:!1,flexShrink:!1},width:{value:"",units:"%"},height:{value:"",units:"%"},maxWidth:{value:"",units:"%"},maxHeight:{value:"",units:"%"},minWidth:{value:"",units:"%"},minHeight:{value:"",units:"%"}}}},methods:{async injectProp(){this.updating=!0;const s=this.returnDefaultOptions,e=this.isObject(this.value)?this.value:{};this.option={...s,...e},await W(),this.updating=!1}}},Io={class:"uip-flex uip-flex-column uip-row-gap-xs"},Bo={class:"uip-grid-col-1-3"},$o={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},No={class:"uip-position-relative"},Lo={class:"uip-grid-col-1-3"},qo={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Uo={class:"uip-position-relative"},Eo={key:0,class:"uip-grid-col-1-3"},jo={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Mo={class:"uip-position-relative uip-flex"},Ro={key:1,class:"uip-grid-col-1-3"},Fo={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Ho={class:"uip-position-relative uip-flex"},Wo={class:"uip-grid-col-1-3"},zo={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Go={class:"uip-position-relative"},Ko={key:2,class:"uip-grid-col-1-3"},Jo={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Qo={class:"uip-position-relative uip-flex"},Xo={key:3,class:"uip-grid-col-1-3"},Yo={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Zo={class:"uip-position-relative uip-flex"},el={key:4,class:"uip-grid-col-1-3"},tl={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},il={class:"uip-position-relative uip-flex"},sl={class:"uip-grid-col-1-3"},nl=i("div",null,null,-1),ol={class:"uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted uip-w-100p"},ll={class:"uip-padding-xs uip-flex uip-flex-column"};function rl(s,e,o,d,t,n){const a=g("toggle-switch"),h=g("value-units"),f=g("AppIcon"),c=g("dropdown");return r(),p("div",Io,[i("div",Bo,[i("div",$o,[i("span",null,u(t.strings.grow),1)]),i("div",No,[l(a,{options:t.growOptions,activeValue:t.option.grow,returnValue:function(m){t.option.grow=m}},null,8,["options","activeValue","returnValue"])])]),i("div",Lo,[i("div",qo,[i("span",null,u(t.strings.height),1)]),i("div",Uo,[l(h,{value:n.returnOption.height,returnData:function(m){t.option.height=m}},null,8,["value","returnData"])])]),t.option.enabled.minHeight?(r(),p("div",Eo,[i("div",jo,[i("span",null,u(t.strings.minHeight),1)]),i("div",Mo,[l(h,{value:n.returnOption.minHeight,returnData:function(m){t.option.minHeight=m},class:"uip-flex-grow"},null,8,["value","returnData"]),i("button",{onClick:e[0]||(e[0]=m=>{t.option.enabled.minHeight=!1,t.option.minHeight.value=""}),class:"uip-button-default uip-border-rounder uip-icon uip-padding-xxs uip-link-muted uip-margin-left-xs"}," close ")])])):b("",!0),t.option.enabled.maxHeight?(r(),p("div",Ro,[i("div",Fo,[i("span",null,u(t.strings.maxHeight),1)]),i("div",Ho,[l(h,{value:n.returnOption.maxHeight,returnData:function(m){t.option.maxHeight=m},class:"uip-flex-grow"},null,8,["value","returnData"]),i("button",{onClick:e[1]||(e[1]=m=>{t.option.enabled.maxHeight=!1,t.option.maxHeight.value=""}),class:"uip-button-default uip-border-rounder uip-icon uip-padding-xxs uip-link-muted uip-margin-left-xs"}," close ")])])):b("",!0),i("div",Wo,[i("div",zo,[i("span",null,u(t.strings.width),1)]),i("div",Go,[l(h,{value:n.returnOption.width,returnData:function(m){t.option.width=m}},null,8,["value","returnData"])])]),t.option.enabled.minWidth?(r(),p("div",Ko,[i("div",Jo,[i("span",null,u(t.strings.minWidth),1)]),i("div",Qo,[l(h,{value:n.returnOption.minWidth,returnData:function(m){t.option.minWidth=m},class:"uip-flex-grow"},null,8,["value","returnData"]),i("button",{onClick:e[2]||(e[2]=m=>{t.option.enabled.minWidth=!1,t.option.minWidth.value=""}),class:"uip-button-default uip-border-rounder uip-icon uip-padding-xxs uip-link-muted uip-margin-left-xs"}," close ")])])):b("",!0),t.option.enabled.maxWidth?(r(),p("div",Xo,[i("div",Yo,[i("span",null,u(t.strings.maxWidth),1)]),i("div",Zo,[l(h,{value:n.returnOption.maxWidth,returnData:function(m){t.option.maxWidth=m},class:"uip-flex-grow"},null,8,["value","returnData"]),i("button",{onClick:e[3]||(e[3]=m=>{t.option.enabled.maxWidth=!1,t.option.maxWidth.value=""}),class:"uip-button-default uip-border-rounder uip-icon uip-padding-xxs uip-link-muted uip-margin-left-xs"}," close ")])])):b("",!0),t.option.enabled.flexShrink?(r(),p("div",el,[i("div",tl,[i("span",null,u(t.strings.flexShrink),1)]),i("div",il,[l(a,{options:t.shrinkOptions,activeValue:t.option.flexShrink,returnValue:function(m){t.option.flexShrink=m}},null,8,["options","activeValue","returnValue"]),i("button",{onClick:e[4]||(e[4]=m=>{t.option.enabled.flexShrink=!1,t.option.flexShrink=!1}),class:"uip-button-default uip-border-rounder uip-icon uip-padding-xxs uip-link-muted uip-margin-left-xs"}," close ")])])):b("",!0),i("div",sl,[nl,l(c,{pos:"bottom left",width:"uip-flex uip-w-100p"},{trigger:y(()=>[i("button",ol,[l(f,{icon:"add"})])]),content:y(()=>[i("div",ll,[i("div",{onClick:e[5]||(e[5]=m=>t.option.enabled.minHeight=!0),class:"uip-link-muted hover:uip-background-muted uip-border-round uip-padding-xxs"},u(t.strings.minHeight),1),i("div",{onClick:e[6]||(e[6]=m=>t.option.enabled.maxHeight=!0),class:"uip-link-muted hover:uip-background-muted uip-border-round uip-padding-xxs"},u(t.strings.maxHeight),1),i("div",{onClick:e[7]||(e[7]=m=>t.option.enabled.minWidth=!0),class:"uip-link-muted hover:uip-background-muted uip-border-round uip-padding-xxs"},u(t.strings.minWidth),1),i("div",{onClick:e[8]||(e[8]=m=>t.option.enabled.maxWidth=!0),class:"uip-link-muted hover:uip-background-muted uip-border-round uip-padding-xxs"},u(t.strings.maxWidth),1),i("div",{onClick:e[9]||(e[9]=m=>t.option.enabled.flexShrink=!0),class:"uip-link-muted hover:uip-background-muted uip-border-round uip-padding-xxs"},u(t.strings.flexShrink),1)])]),_:1})])])}const ul=B(Vo,[["render",rl]]);var De=De||{};De.parse=function(){var s={linearGradient:/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,repeatingLinearGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,radialGradient:/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,repeatingRadialGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},e="";function o(T){var F=new Error(e+": "+T);throw F.source=e,F}function d(){var T=t();return e.length>0&&o("Invalid input not EOF"),T}function t(){return oe(n)}function n(){return a("linear-gradient",s.linearGradient,f)||a("repeating-linear-gradient",s.repeatingLinearGradient,f)||a("radial-gradient",s.radialGradient,v)||a("repeating-radial-gradient",s.repeatingRadialGradient,v)}function a(T,F,J){return h(F,function(de){var st=J();return st&&(ve(s.comma)||o("Missing comma before color stops")),{type:T,orientation:st,colorStops:oe(Be)}})}function h(T,F){var J=ve(T);if(J){ve(s.startCall)||o("Missing (");var de=F(J);return ve(s.endCall)||o("Missing )"),de}}function f(){return c()||m()}function c(){return le("directional",s.sideOrCorner,1)}function m(){return le("angular",s.angleValue,1)}function v(){var T,F=x(),J;return F&&(T=[],T.push(F),J=e,ve(s.comma)&&(F=x(),F?T.push(F):e=J)),T}function x(){var T=_()||L();if(T)T.at=E();else{var F=P();if(F){T=F;var J=E();J&&(T.at=J)}else{var de=xe();de&&(T={type:"default-radial",at:de})}}return T}function _(){var T=le("shape",/^(circle)/i,0);return T&&(T.style=tt()||P()),T}function L(){var T=le("shape",/^(ellipse)/i,0);return T&&(T.style=$e()||P()),T}function P(){return le("extent-keyword",s.extentKeywords,1)}function E(){if(le("position",/^at/,0)){var T=xe();return T||o("Missing positioning value"),T}}function xe(){var T=se();if(T.x||T.y)return{type:"position",value:T}}function se(){return{x:$e(),y:$e()}}function oe(T){var F=T(),J=[];if(F)for(J.push(F);ve(s.comma);)F=T(),F?J.push(F):o("One extra comma");return J}function Be(){var T=q();return T||o("Expected color definition"),T.length=$e(),T}function q(){return gt()||vt()||xt()||Re()}function Re(){return le("literal",s.literalColor,0)}function gt(){return le("hex",s.hexColor,1)}function xt(){return h(s.rgbColor,function(){return{type:"rgb",value:oe(et)}})}function vt(){return h(s.rgbaColor,function(){return{type:"rgba",value:oe(et)}})}function et(){return ve(s.number)[1]}function $e(){return le("%",s.percentageValue,1)||_t()||tt()}function _t(){return le("position-keyword",s.positionKeywords,1)}function tt(){return le("px",s.pixelValue,1)||le("em",s.emValue,1)}function le(T,F,J){var de=ve(F);if(de)return T=="hex"&&(de[J]="#"+de[J]),{type:T,value:de[J]}}function ve(T){var F,J;return J=/^[\n\r\t\s]+/.exec(e),J&&it(J[0].length),F=T.exec(e),F&&it(F[0].length),F}function it(T){e=e.substr(T)}return function(T){return e=T.toString(),d()}}();var De=De||{};De.stringify=function(){var s={"visit_linear-gradient":function(e){return s.visit_gradient(e)},"visit_repeating-linear-gradient":function(e){return s.visit_gradient(e)},"visit_radial-gradient":function(e){return s.visit_gradient(e)},"visit_repeating-radial-gradient":function(e){return s.visit_gradient(e)},visit_gradient:function(e){var o=s.visit(e.orientation);return o&&(o+=", "),e.type+"("+o+s.visit(e.colorStops)+")"},visit_shape:function(e){var o=e.value,d=s.visit(e.at),t=s.visit(e.style);return t&&(o+=" "+t),d&&(o+=" at "+d),o},"visit_default-radial":function(e){var o="",d=s.visit(e.at);return d&&(o+=d),o},"visit_extent-keyword":function(e){var o=e.value,d=s.visit(e.at);return d&&(o+=" at "+d),o},"visit_position-keyword":function(e){return e.value},visit_position:function(e){return s.visit(e.value.x)+" "+s.visit(e.value.y)},"visit_%":function(e){return e.value+"%"},visit_em:function(e){return e.value+"em"},visit_px:function(e){return e.value+"px"},visit_literal:function(e){return s.visit_color(e.value,e)},visit_hex:function(e){return s.visit_color("#"+e.value,e)},visit_rgb:function(e){return s.visit_color("rgb("+e.value.join(", ")+")",e)},visit_rgba:function(e){return s.visit_color("rgba("+e.value.join(", ")+")",e)},visit_color:function(e,o){var d=e,t=s.visit(o.length);return t&&(d+=" "+t),d},visit_angular:function(e){return e.value+"deg"},visit_directional:function(e){return"to "+e.value},visit_array:function(e){var o="",d=e.length;return e.forEach(function(t,n){o+=s.visit(t),n<d-1&&(o+=", ")}),o},visit:function(e){if(!e)return"";var o="";if(e instanceof Array)return s.visit_array(e,o);if(e.type){var d=s["visit_"+e.type];if(d)return d(e);throw Error("Missing visitor visit_"+e.type)}else throw Error("Invalid node.")}};return function(e){return s.visit(e)}}();const{__:Ce}=wp.i18n,pl={props:{value:String,returnData:Function},data(){return{grad:this.value,dragging:null,mouseDown:!1,gradientHover:!1,controlhover:!1,controlNewx:0,strings:{colour:Ce("Colour","uipress-lite"),deleteStop:Ce("Delete stop","uipress-lite")},gradTypes:{"linear-gradient":{value:"linear-gradient",label:Ce("Linear","uipress-lite")},"radial-gradient":{value:"radial-gradient",label:Ce("Radial","uipress-lite")}},radialTypes:{circle:{value:"circle",label:Ce("Circle","uipress-lite")},ellipse:{value:"ellipse",label:Ce("Ellipse","uipress-lite")}},gradient:{shape:"circle",type:"linear-gradient",orientation:{type:"angular",value:"0"},colorStops:[{length:{type:"%",value:"0"},type:"hex",value:"#92FE9D"},{length:{type:"%",value:"100"},type:"hex",value:"#00C9FF"}]}}},watch:{gradient:{handler(){this.grad=this.returnGradAsString,this.returnData(this.grad)},deep:!0},"gradient.colorStops":{handler(){this.gradient.colorStops=this.gradient.colorStops.sort((s,e)=>s.length.value-e.length.value)},deep:!0}},created:function(){this.parseGradient()},computed:{returnGradAsString(){let s=this.gradient.type;if(this.gradient.colorStops.length<1)return"";if(s=="linear-gradient")return this.returnLinearGradient();if(s=="radial-gradient")return this.returnRadialGradient()},returnGradAsLinear(){return this.gradient.colorStops.length<1?"":this.returnLinearGradient(!0)},lineAngle(){let s=120,e=65,o=48,t=(90-this.gradient.orientation.value)*(Math.PI/180),n=s+o*Math.cos(t),a=e-o*Math.sin(t);return{x:n,y:a}}},methods:{returnRadialGradient(){let s="radial-gradient",e="circle";this.gradient.shape&&(e=this.gradient.shape);let o=[];for(let t of this.gradient.colorStops){let n=t.value;t.length&&(n+=" "+t.length.value+t.length.type),o.push(n)}let d=o.join(",");return`${s}(${e},${d})`},returnLinearGradient(s){let e="linear-gradient",o;this.gradient.orientation.type=="directional"?o="to "+this.gradient.orientation.value:(this.gradient.orientation.value||(this.gradient.orientation.value=0),o=this.gradient.orientation.value+"deg"),s&&(o="90deg");let d=[];for(let n of this.gradient.colorStops){let a=n.value;n.length&&(a+=" "+n.length.value+n.length.type),d.push(a)}let t=d.join(",");return`${e}(${o},${t})`},parseGradient(){if(!this.grad||!this.grad.includes("gradient"))return;let s;try{s=De.parse(this.grad)}catch{return}this.gradient={...this.gradient,...structuredClone(s[0])}},addStop(){let s={type:"heax",value:"#00c9ff",length:{type:"%",value:"50"}};this.gradient.colorStops.push(s)},setGradType(s){this.gradient.type=s},returnDynamicColorScreen(s){return{component:"ColorPicker",label:this.strings.colour,value:s.value,returnData:e=>{if(e.startsWith("--"))return s.value=`var(${e})`;s.value=e}}},startPointDrag(s,e){if(e.button!==2){if(e.detail===2){this.loadColorPicker(s);return}this.dragging=s,this.mouseDown=!0,document.addEventListener("mousemove",this.onMoveColor),document.addEventListener("mouseup",this.endDragColor),setTimeout(()=>{this.mouseDown=!1},500)}},onMoveColor(s){if(!this.dragging||!this.$refs.gradientcontrol)return;const e=this.$refs.gradientcontrol.getBoundingClientRect(),o=(s.clientX-e.left)/e.width*100;this.dragging.length.value=Math.min(Math.max(0,o),100)},endDragColor(){this.dragging=null,document.removeEventListener("mousemove",this.onMoveColor),document.removeEventListener("mouseup",this.endDragColor)},loadColorPicker(s){this.$emit("request-screen",this.returnDynamicColorScreen(s))},pushNewColorAtLocation(s){if(s.detail===2)return;let o={type:"heax",value:"#00c9ff",length:{type:"%",value:this.getRelativeCoordinates(s).x}};this.gradient.colorStops.push(o)},getRelativeCoordinates(s){const o=this.$refs.gradientcontrol.getBoundingClientRect();let d=s.clientX-o.left,t=s.clientY-o.top,n=d/o.width*100,a=t/o.height*100;return{x:n.toFixed(2),y:a.toFixed(2)}},startRotate(){this.dragging=!0,document.addEventListener("mousemove",this.performRotate),document.addEventListener("mouseup",this.stopRotate)},performRotate(s){if(!this.dragging)return;const o=this.$refs.anglecenter.getBoundingClientRect(),d=o.left+o.width/2,t=o.top+o.height/2,n=s.clientX-d,a=t-s.clientY;let h=Math.atan2(a,n);if(s.shiftKey){let f=(h*(180/Math.PI)+90)%360;f=Math.round(f/45)*45,h=(f-90)*(Math.PI/180)}this.gradient.orientation.value=(90-h*(180/Math.PI))%360},stopRotate(){this.dragging=!1,document.removeEventListener("mousemove",this.performRotate),document.removeEventListener("mouseup",this.stopRotate)},setNewControlPos(s){this.controlhover=!0;let e=s.offsetX;e>240&&(e=240),this.controlNewx=parseFloat(e).toFixed(0)}}},al={class:"uip-flex uip-flex-column uip-row-gap-s"},cl=["cx"],dl=["onMousedown","onContextmenu","cx","fill"],hl={class:"uip-padding-xs uip-flex uip-flex-column uip-text-weight-normal uip-text-s"},fl=["onClick"],ml={class:""},gl=["x2","y2"],xl={ref:"anglecenter",cx:"50%",cy:"50%",rx:"4",ry:"4",fill:"transparent",stroke:"#fff","stroke-width":"2",style:{filter:"drop-shadow(0px 0px 1px grey)"}},vl=["cx","cy"];function _l(s,e,o,d,t,n){const a=g("toggle-switch"),h=g("AppIcon"),f=g("contextmenu");return r(),p("div",al,[l(a,{activeValue:t.gradient.type,options:t.gradTypes,small:!0,returnValue:c=>{t.gradient.type=c},class:"uip-text-s"},null,8,["activeValue","options","returnValue"]),i("div",{class:"",onMouseleave:e[3]||(e[3]=c=>t.controlhover=!1),onMousemove:e[4]||(e[4]=(...c)=>n.setNewControlPos&&n.setNewControlPos(...c))},[t.dragging?(r(),p("div",{key:0,onClick:e[0]||(e[0]=G(c=>t.dragging=!1,["stop","prevent"])),onMouseup:e[1]||(e[1]=G(c=>t.dragging=!1,["stop","prevent"])),style:{position:"fixed",left:"0",right:"0",top:"0",bottom:"0"}},null,32)):b("",!0),(r(),p("svg",{ref:"gradientcontrol",xmlns:"http://www.w3.org/2000/svg",onClick:e[2]||(e[2]=c=>n.pushNewColorAtLocation(c)),class:"uip-h-8 uip-border-rounder uip-overflow-visible uip-background-checkered uip-w-100p",style:ce("background:"+n.returnGradAsLinear)},[i("g",null,[t.controlhover?(r(),p("ellipse",{key:0,cx:t.controlNewx,cy:"50%",rx:"2",ry:"2",fill:"#fff",stroke:"#fff","stroke-width":"2",style:{filter:"drop-shadow(0px 0px 1px grey)"}},null,8,cl)):b("",!0),(r(!0),p(k,null,S(t.gradient.colorStops,(c,m)=>(r(),p("ellipse",{onMousedown:G(v=>n.startPointDrag(c,v),["prevent","stop"]),onContextmenu:G(v=>s.$refs["stopcontext"+m][0].show(v),["prevent","stop"]),cx:c.length.value+"%",cy:"50%",rx:"6",ry:"6",fill:c.value,stroke:"#fff","stroke-width":"2",style:{cursor:"grab",filter:"drop-shadow(0px 0px 1px grey)"}},null,40,dl))),256))])],4))],32),(r(!0),p(k,null,S(t.gradient.colorStops,(c,m)=>(r(),C(f,{ref_for:!0,ref:"stopcontext"+m,disableTeleport:!0},{default:y(()=>[i("div",hl,[i("a",{class:"uip-link-danger uip-flex uip-flex-center uip-flex-between",onClick:G(v=>t.gradient.colorStops.splice(m,1),["prevent"])},[i("span",ml,u(t.strings.deleteStop),1),l(h,{icon:"delete",class:"uip-icon"})],8,fl)])]),_:2},1536))),256)),(r(),p("svg",{ref:"gradientanglecontrol",xmlns:"http://www.w3.org/2000/svg",onMouseenter:e[6]||(e[6]=c=>t.gradientHover=!0),onMouseleave:e[7]||(e[7]=c=>t.gradientHover=!1),class:"uip-border-rounder uip-w-100p uip-h-130 uip-background-checkered",style:ce("background:"+n.returnGradAsString),viewBox:"0 0 240 130"},[w(i("g",null,[i("line",{ref:"angleLine",x1:"120",y1:"65",x2:n.lineAngle.x,y2:n.lineAngle.y,"stroke-width":"2",stroke:"rgba(1,1,1,0.2)"},null,8,gl),i("ellipse",xl,null,512),i("ellipse",{cx:n.lineAngle.x,cy:n.lineAngle.y,rx:"4",ry:"4",fill:"rgba(255, 255, 255, 0.4)",stroke:"#fff","stroke-width":"2",onMousedown:e[5]||(e[5]=G((...c)=>n.startRotate&&n.startRotate(...c),["stop","prevent"])),style:{cursor:"grab",filter:"drop-shadow(0px 0px 1px grey)"}},null,40,vl)],512),[[je,t.gradient.type=="linear-gradient"&&(t.gradientHover||t.dragging)]])],36)),t.gradient.type=="radial-gradient"?(r(),C(a,{key:0,activeValue:t.gradient.shape,options:t.radialTypes,small:!0,returnValue:c=>{t.gradient.shape=c},class:"uip-text-s"},null,8,["activeValue","options","returnValue"])):b("",!0)])}const bl=B(pl,[["render",_l]]),{__:rt}=wp.i18n,yl={components:{ColorPicker:Qe,GradientPicker:bl},props:{returnData:Function,value:Object},data(){return{tab:"color",fill:{}}},watch:{value:{handler(){},deep:!0},fill:{handler(){this.returnData(this.fill)},deep:!0}},created(){this.formatValue()},computed:{returnActiveComp(){let s=this.tab;return this.returnTabs[s]},returnTabs(){return{color:{value:"color",icon:"palette",tip:rt("Colour","uipress-lite"),component:"ColorPicker",setValue:this.fill.value,returnData:s=>{this.fill.value=s,this.fill.value.includes("--")?this.fill.type="variable":this.fill.type="color"}},gradient:{value:"gradient",icon:"gradient",tip:rt("Gradient","uipress-lite"),component:"GradientPicker",setValue:this.fill.value,returnData:s=>{this.fill.value=s,this.fill.type="gradient"}}}}},methods:{formatValue(){this.value&&(this.fill={...this.fill,...this.value})},processScreen(s){this.$emit("request-screen",s)}}},kl={class:"uip-flex uip-flex-column uip-row-gap-s"};function wl(s,e,o,d,t,n){const a=g("toggle-switch");return r(),p("div",kl,[l(a,{activeValue:t.tab,options:n.returnTabs,returnValue:h=>{t.tab=h},class:"uip-text-s",disableOptional:!0},null,8,["activeValue","options","returnValue"]),l(pt,{name:"fade",mode:"out-in"},{default:y(()=>[(r(),C(ge,null,[(r(),C(ie(n.returnActiveComp.component),{onRequestScreen:e[0]||(e[0]=h=>{n.processScreen(h)}),onGoBack:e[1]||(e[1]=h=>s.$emit("go-back")),value:n.returnActiveComp.setValue,returnData:n.returnActiveComp.returnData},null,40,["value","returnData"]))],1024))]),_:1})])}const Sl=B(yl,[["render",wl]]);wp.i18n;const Cl={solid:{icon:"border_outer",value:"solid"},left:{icon:"border_left",value:"left"},top:{icon:"border_top",value:"top"},right:{icon:"border_right",value:"right"},bottom:{icon:"border_bottom",value:"bottom"}},{__:we}=wp.i18n,Dl=[{label:we("Solid","uipress-lite"),value:"solid"},{label:we("Dashed","uipress-lite"),value:"dashed"},{label:we("Dotted","uipress-lite"),value:"dotted"},{label:we("Double","uipress-lite"),value:"double"},{label:we("Groove","uipress-lite"),value:"groove"},{label:we("Ridge","uipress-lite"),value:"ridge"},{label:we("Inset","uipress-lite"),value:"inset"}],{__:he}=wp.i18n,Tl={components:{colorBox:Ie},props:{returnData:Function,value:Object},data(){return{borderOptions:this.returnDefault,strings:{radius:he("Radius","uipress-lite"),topleft:he("Top left","uipress-lite"),topright:he("Top right","uipress-lite"),bottomleft:he("Bottom left","uipress-lite"),bottomright:he("Bottom right","uipress-lite"),colour:he("Colour","uipress-lite"),style:he("Style","uipress-lite"),width:he("Width","uipress-lite"),position:he("Position","uipress-lite"),borderColor:he("Border colour","uipress-lite")},borderPositions:Cl,borderTypes:Dl,updating:!1}},watch:{value:{handler(s,e){this.updating||this.injectProp(s)},deep:!0,immediate:!0},borderOptions:{handler(s,e){this.updating||this.returnData(s)},deep:!0},"borderOptions.radius.value.topleft":{handler(s,e){this.borderOptions.radius.value.sync&&(this.borderOptions.radius.value.topright=this.borderOptions.radius.value.topleft,this.borderOptions.radius.value.bottomleft=this.borderOptions.radius.value.topleft,this.borderOptions.radius.value.bottomright=this.borderOptions.radius.value.topleft)},deep:!0}},computed:{returnDefault(){return{width:{value:"",units:"px"},style:"solid",color:{type:"solid",value:""},position:"solid",radius:{value:{sync:!0,topleft:"",topright:"",bottomleft:"",bottomright:"",units:"px"}}}},returnBorderColor(){if(this.borderOptions.color.value)return this.borderOptions.color.value.startsWith("--")?`background-color:var(${this.borderOptions.color.value})`:`background-color:${this.borderOptions.color.value}`},returnFillScreen(){return{component:"ColorPicker",label:this.strings.borderColor,value:this.borderOptions.color.value,returnData:s=>{s.startsWith("--")?this.borderOptions.color.type="variable":this.borderOptions.color.type="solid",this.borderOptions.color.value=s}}}},methods:{async injectProp(){this.updating=!0,this.borderOptions=this.isObject(this.value)?{...this.returnDefault,...this.value}:this.returnDefault,await this.$nextTick(),this.updating=!1}}},Ol={class:"uip-flex uip-flex-column uip-row-gap-xs uip-padding-left-xs"},Al={class:"uip-grid-col-1-3"},Pl={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Vl={class:"uip-grid-col-1-3"},Il={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Bl={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},$l={class:"uip-grid-col-1-3"},Nl={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Ll={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},ql=["value"],Ul={class:"uip-grid-col-1-3"},El={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},jl={class:"uip-grid-col-1-3"},Ml={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Rl={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-right uip-flex-column uip-row-gap-xs"},Fl={class:"uip-flex uip-flex-row uip-gap-xxxs uip-flex-right"},Hl={class:"uip-flex uip-flex-row uip-padding-xxxs uip-background-muted uip-border-round"},Wl={key:0,class:"uip-flex uip-flex-row uip-padding-xxs uip-background-muted uip-border-round uip-text-center uip-flex-grow"},zl={class:"uip-background-muted uip-border-round"},Gl={key:0},Kl={key:1,class:"uip-flex uip-flex-row uip-gap-xxxs uip-flex-right"},Jl={class:"uip-flex uip-flex-row uip-gap-xxxs uip-flex-right"},Ql={class:"uip-flex uip-flex-row uip-padding-xxs uip-background-muted uip-border-round uip-text-center"},Xl={class:"uip-flex uip-flex-row uip-padding-xxs uip-background-muted uip-border-round uip-text-center"},Yl={class:"uip-flex uip-flex-row uip-padding-xxs uip-background-muted uip-border-round uip-text-center"},Zl={class:"uip-flex uip-flex-row uip-padding-xxs uip-background-muted uip-border-round uip-text-center"};function er(s,e,o,d,t,n){const a=g("colorBox"),h=g("toggle-switch"),f=g("value-units"),c=g("AppIcon"),m=g("units-select"),v=g("uip-tooltip");return r(),p("div",Ol,[i("div",Al,[i("div",Pl,[i("span",null,u(t.strings.colour),1)]),l(a,{onClick:e[0]||(e[0]=x=>s.$emit("request-screen",n.returnFillScreen)),backgroundStyle:n.returnBorderColor,text:t.borderOptions.color.value,remove:()=>{t.borderOptions.color.value=""}},null,8,["backgroundStyle","text","remove"])]),i("div",Vl,[i("div",Il,[i("span",null,u(t.strings.position),1)]),i("div",Bl,[l(h,{options:t.borderPositions,activeValue:t.borderOptions.position,returnValue:function(x){t.borderOptions.position=x}},null,8,["options","activeValue","returnValue"])])]),i("div",$l,[i("div",Nl,[i("span",null,u(t.strings.style),1)]),i("div",Ll,[w(i("select",{class:"uip-input-small uip-padding-top-xxxs uip-padding-bottom-xxxs uip-max-w-100p uip-w-100p uip-border-rounder",style:{"padding-top":"2px","padding-bottom":"2px","border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[1]||(e[1]=x=>t.borderOptions.style=x)},[(r(!0),p(k,null,S(t.borderTypes,x=>(r(),p("option",{value:x.value},u(x.label),9,ql))),256))],512),[[X,t.borderOptions.style]])])]),i("div",Ul,[i("div",El,[i("span",null,u(t.strings.width),1)]),l(f,{value:t.borderOptions.width,returnData:function(x){t.borderOptions.width=x},class:"uip-w-100p"},null,8,["value","returnData"])]),i("div",jl,[i("div",Ml,[i("span",null,u(t.strings.radius),1)]),i("div",Rl,[i("div",Fl,[i("div",Hl,[i("div",{class:K(["uip-icon-m uip-text-xl uip-link-muted uip-border-round",{"uip-background-default uip-text-emphasis":t.borderOptions.radius.value.sync}]),onClick:e[2]||(e[2]=x=>t.borderOptions.radius.value.sync=!0)},[l(c,{icon:"crop_square"})],2),i("div",{class:K(["uip-icon-m uip-text-xl uip-link-muted uip-border-round",{"uip-background-default uip-text-emphasis":!t.borderOptions.radius.value.sync}]),onClick:e[3]||(e[3]=x=>t.borderOptions.radius.value.sync=!1)},[l(c,{icon:"crop_free"})],2)]),t.borderOptions.radius.value.sync?(r(),p("div",Wl,[w(i("input",{class:"uip-blank-input uip-text-center uip-w-60 uip-text-s","onUpdate:modelValue":e[4]||(e[4]=x=>t.borderOptions.radius.value.topleft=x)},null,512),[[D,t.borderOptions.radius.value.topleft]])])):b("",!0),i("div",zl,[l(m,{value:t.borderOptions.radius.value.units,returnData:function(x){t.borderOptions.radius.value.units=x}},null,8,["value","returnData"])])])]),t.borderOptions.radius.value.sync?b("",!0):(r(),p("div",Gl)),t.borderOptions.radius.value.sync?b("",!0):(r(),p("div",Kl,[i("div",Jl,[l(v,{message:t.strings.topleft,delay:0,containerClass:"uip-flex"},{default:y(()=>[i("div",Ql,[w(i("input",{class:"uip-blank-input uip-text-center uip-w-28 uip-text-s","onUpdate:modelValue":e[5]||(e[5]=x=>t.borderOptions.radius.value.topleft=x)},null,512),[[D,t.borderOptions.radius.value.topleft]])])]),_:1},8,["message"]),l(v,{message:t.strings.topright,delay:0,containerClass:"uip-flex"},{default:y(()=>[i("div",Xl,[w(i("input",{class:"uip-blank-input uip-text-center uip-w-28 uip-text-s","onUpdate:modelValue":e[6]||(e[6]=x=>t.borderOptions.radius.value.topright=x)},null,512),[[D,t.borderOptions.radius.value.topright]])])]),_:1},8,["message"]),l(v,{message:t.strings.bottomleft,delay:0,containerClass:"uip-flex"},{default:y(()=>[i("div",Yl,[w(i("input",{class:"uip-blank-input uip-text-center uip-w-28 uip-text-s","onUpdate:modelValue":e[7]||(e[7]=x=>t.borderOptions.radius.value.bottomleft=x)},null,512),[[D,t.borderOptions.radius.value.bottomleft]])])]),_:1},8,["message"]),l(v,{message:t.strings.bottomright,delay:0,containerClass:"uip-flex"},{default:y(()=>[i("div",Zl,[w(i("input",{class:"uip-blank-input uip-text-center uip-w-28 uip-text-s","onUpdate:modelValue":e[8]||(e[8]=x=>t.borderOptions.radius.value.bottomright=x)},null,512),[[D,t.borderOptions.radius.value.bottomright]])])]),_:1},8,["message"])])]))])])}const tr=B(Tl,[["render",er]]),{__:_e}=wp.i18n,ir={components:{colorBox:Ie},props:{returnData:Function,value:Object},data(){return{loading:!0,shadowOptions:{position:"outside",horizDistance:{value:0},verticalDistance:{value:8},blur:{value:16},color:{value:"rgba(135, 135, 135, 0.32)",units:"px"}},positionOptions:{outside:{value:"outside",label:_e("Outside","uipress-lite")},inside:{value:"inside",label:_e("Inside","uipress-lite")}},strings:{horizDistance:_e("Horizontal distance","uipress-lite"),verticalDistance:_e("Vertical distance","uipress-lite"),blur:_e("Blur","uipress-lite"),shadowColour:_e("Colour","uipress-lite"),position:_e("Position","uipress-lite"),shadowColor:_e("Shadow colour","uipress-lite")}}},watch:{shadowOptions:{handler(s,e){this.returnData(this.shadowOptions)},deep:!0}},mounted(){this.processInput()},computed:{returnShadow(){return this.shadowOptions},returnShadowColor(){if(this.shadowOptions.color.value)return this.shadowOptions.color.value.startsWith("--")?`background-color:var(${this.shadowOptions.color.value})`:`background-color:${this.shadowOptions.color.value}`},returnFillScreen(){return{component:"ColorPicker",label:this.strings.shadowColor,value:this.shadowOptions.color.value,returnData:s=>{s.startsWith("--")?this.shadowOptions.color.type="variable":this.shadowOptions.color.type="solid",this.shadowOptions.color.value=s}}}},methods:{processInput(){this.isObject(this.value)&&("horizDistance"in this.value&&(this.shadowOptions.horizDistance={...this.shadowOptions.horizDistance,...this.value.horizDistance}),"verticalDistance"in this.value&&(this.shadowOptions.verticalDistance={...this.shadowOptions.verticalDistance,...this.value.verticalDistance}),"blur"in this.value&&(this.shadowOptions.blur={...this.shadowOptions.blur,...this.value.blur}),"color"in this.value&&(this.shadowOptions.color={...this.shadowOptions.color,...this.value.color}),"position"in this.value&&(this.shadowOptions.position=this.value.position))}}},sr={class:"uip-flex uip-flex-column uip-row-gap-xs uip-padding-left-xs"},nr={class:"uip-grid-col-1-3"},or={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},lr={class:"uip-grid-col-1-3"},rr={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},ur={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},pr={class:"uip-grid-col-1-3"},ar=i("div",{class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},[i("span",null,"X")],-1),cr={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},dr={class:"uip-padding-xxs uip-border-rounder uip-background-muted uip-flex uip-gap-xxs uip-no-text-select"},hr=i("div",{class:"uip-border-right"},null,-1),fr={class:"uip-grid-col-1-3"},mr=i("div",{class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},[i("span",null,"Y")],-1),gr={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},xr={class:"uip-padding-xxs uip-border-rounder uip-background-muted uip-flex uip-gap-xxs uip-no-text-select"},vr=i("div",{class:"uip-border-right"},null,-1),_r={class:"uip-grid-col-1-3"},br={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},yr={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},kr={class:"uip-padding-xxs uip-border-rounder uip-background-muted uip-flex uip-gap-xxs uip-no-text-select"},wr=i("div",{class:"uip-border-right"},null,-1);function Sr(s,e,o,d,t,n){const a=g("colorBox"),h=g("toggle-switch"),f=g("AppIcon");return r(),p("div",sr,[i("div",nr,[i("div",or,[i("span",null,u(t.strings.shadowColour),1)]),l(a,{onClick:e[0]||(e[0]=c=>s.$emit("request-screen",n.returnFillScreen)),backgroundStyle:n.returnShadowColor,text:n.returnShadow.color.value,remove:()=>{t.shadowOptions.color={}}},null,8,["backgroundStyle","text","remove"])]),i("div",lr,[i("div",rr,[i("span",null,u(t.strings.position),1)]),i("div",ur,[l(h,{options:t.positionOptions,activeValue:t.shadowOptions.position,returnValue:function(c){t.shadowOptions.position=c}},null,8,["options","activeValue","returnValue"])])]),i("div",pr,[ar,i("div",cr,[w(i("input",{type:"number",min:"0",class:"uip-input uip-remove-steps uip-background-remove uip-padding-xxxs uip-flex-grow",style:{width:"30px"},"onUpdate:modelValue":e[1]||(e[1]=c=>t.shadowOptions.horizDistance.value=c)},null,512),[[D,t.shadowOptions.horizDistance.value]]),i("div",dr,[l(f,{icon:"remove",class:"uip-link-muted uip-icon uip-text-l",onClick:e[2]||(e[2]=c=>t.shadowOptions.horizDistance.value=parseInt(t.shadowOptions.horizDistance.value)-1)}),hr,l(f,{icon:"add",class:"uip-link-muted uip-icon uip-text-l",onClick:e[3]||(e[3]=c=>t.shadowOptions.horizDistance.value=parseInt(t.shadowOptions.horizDistance.value)+1)})])])]),i("div",fr,[mr,i("div",gr,[w(i("input",{type:"number",min:"0",class:"uip-input uip-remove-steps uip-background-remove uip-padding-xxxs uip-flex-grow",style:{width:"30px"},"onUpdate:modelValue":e[4]||(e[4]=c=>t.shadowOptions.verticalDistance.value=c)},null,512),[[D,t.shadowOptions.verticalDistance.value]]),i("div",xr,[l(f,{icon:"remove",class:"uip-link-muted uip-icon uip-text-l",onClick:e[5]||(e[5]=c=>t.shadowOptions.verticalDistance.value=parseInt(t.shadowOptions.verticalDistance.value)-1)}),vr,l(f,{icon:"add",class:"uip-link-muted uip-icon uip-text-l",onClick:e[6]||(e[6]=c=>t.shadowOptions.verticalDistance.value=parseInt(t.shadowOptions.verticalDistance.value)+1)})])])]),i("div",_r,[i("div",br,[i("span",null,u(t.strings.blur),1)]),i("div",yr,[w(i("input",{type:"number",min:"0",class:"uip-input uip-remove-steps uip-background-remove uip-padding-xxxs uip-flex-grow",style:{width:"30px"},"onUpdate:modelValue":e[7]||(e[7]=c=>t.shadowOptions.blur.value=c)},null,512),[[D,t.shadowOptions.blur.value]]),i("div",kr,[l(f,{icon:"remove",class:"uip-link-muted uip-icon uip-text-l",onClick:e[8]||(e[8]=c=>t.shadowOptions.blur.value=parseInt(t.shadowOptions.blur.value)-1)}),wr,l(f,{icon:"add",class:"uip-link-muted uip-icon uip-text-l",onClick:e[9]||(e[9]=c=>t.shadowOptions.blur.value=parseInt(t.shadowOptions.blur.value)+1)})])])])])}const Cr=B(ir,[["render",Sr]]),{__:ee}=wp.i18n,Dr={components:{colorBox:Ie},props:{returnData:Function,value:Object},data(){return{updating:!1,outlineOptions:this.returnDefault,strings:{topleft:ee("Top left","uipress-lite"),topright:ee("Top right","uipress-lite"),bottomleft:ee("Bottom left","uipress-lite"),bottomright:ee("Bottom right","uipress-lite"),colour:ee("Colour","uipress-lite"),style:ee("Style","uipress-lite"),width:ee("Width","uipress-lite"),offset:ee("Offset","uipress-lite"),outlineColour:ee("Outline colour","seql")},borderTypes:[{label:ee("Solid","uipress-lite"),value:"solid"},{label:ee("Dashed","uipress-lite"),value:"dashed"},{label:ee("Dotted","uipress-lite"),value:"dotted"},{label:ee("Double","uipress-lite"),value:"double"},{label:ee("Groove","uipress-lite"),value:"groove"},{label:ee("Ridge","uipress-lite"),value:"ridge"},{label:ee("Inset","uipress-lite"),value:"inset"}]}},watch:{value:{handler(s,e){this.updating||this.injectProp(s)},deep:!0,immediate:!0},outlineOptions:{handler(s,e){this.updating||this.returnData(s)},deep:!0}},computed:{returnDefault(){return{width:{value:"",units:"px"},offset:{value:"",units:"px"},style:"solid",color:{type:"solid",value:""}}},returnOutlineColor(){if(this.outlineOptions.color.value)return this.outlineOptions.color.value.startsWith("--")?`background-color:var(${this.outlineOptions.color.value})`:`background-color:${this.outlineOptions.color.value}`},returnFillScreen(){return{component:"ColorPicker",label:this.strings.outlineColour,value:this.outlineOptions.color.value,returnData:s=>{s.startsWith("--")?this.outlineOptions.color.type="variable":this.outlineOptions.color.type="solid",this.outlineOptions.color.value=s}}}},methods:{async injectProp(){this.updating=!0,this.outlineOptions=this.isObject(this.value)?{...this.returnDefault,...this.value}:this.returnDefault,await this.$nextTick(),this.updating=!1}}},Tr={class:"uip-grid-col-1-3"},Or={class:"uip-text-muted uip-flex uip-flex-center"},Ar={class:"uip-text-muted uip-flex uip-flex-center"},Pr=["value"],Vr={class:"uip-text-muted uip-flex uip-flex-center"},Ir={class:"uip-text-muted uip-flex uip-flex-center"};function Br(s,e,o,d,t,n){const a=g("colorBox"),h=g("value-units");return r(),p("div",Tr,[i("div",Or,[i("span",null,u(t.strings.colour),1)]),l(a,{onClick:e[0]||(e[0]=f=>s.$emit("request-screen",n.returnFillScreen)),backgroundStyle:n.returnOutlineColor,text:t.outlineOptions.color.value,remove:()=>{t.outlineOptions.color={}}},null,8,["backgroundStyle","text","remove"]),i("div",Ar,[i("span",null,u(t.strings.style),1)]),w(i("select",{class:"uip-input-small uip-padding-top-xxxs uip-padding-bottom-xxxs uip-max-w-100p uip-w-100p uip-border-rounder",style:{"padding-top":"2px","padding-bottom":"2px","border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[1]||(e[1]=f=>t.outlineOptions.style=f)},[(r(!0),p(k,null,S(t.borderTypes,f=>(r(),p("option",{value:f.value},u(f.label),9,Pr))),256))],512),[[X,t.outlineOptions.style]]),i("div",Vr,[i("span",null,u(t.strings.width),1)]),l(h,{value:t.outlineOptions.width,returnData:function(f){t.outlineOptions.width=f},class:"uip-w-100p"},null,8,["value","returnData"]),i("div",Ir,[i("span",null,u(t.strings.offset),1)]),l(h,{value:t.outlineOptions.offset,returnData:function(f){t.outlineOptions.offset=f},class:"uip-w-100p"},null,8,["value","returnData"])])}const $r=B(Dr,[["render",Br]]),{__:H}=wp.i18n,Nr={umits:["update"],components:{colorBox:Ie,backgroundFill:Sl,screenControl:Me,ColorPicker:Qe,colourStyleEditor:ct,imageBGSelect:At,borderDesigner:tr,shadowDesigner:Cr,outlineDesigner:$r},props:{value:Object},data(){return{styles:this.returnDefaultOptions,updating:!1,fillTab:H("Colour","uipress-lite"),strings:{opacity:H("Opacity","uipress-lite"),overflow:H("Overflow","uipress-lite"),fill:H("Fill","uipress-lite"),background:H("Background","uipress-lite"),backgroundImage:H("Background image","uipress-lite"),border:H("Border","uipress-lite"),addImage:H("Add image","uipress-lite"),shadow:H("Shadow","uipress-lite"),radius:H("Radius","uipress-lite"),topleft:H("Top left","uipress-lite"),topright:H("Top right","uipress-lite"),bottomleft:H("Bottom left","uipress-lite"),bottomright:H("Bottom right","uipress-lite"),outline:H("Outline","uipress-lite")},syncOptions:{true:{value:!0,icon:"crop_square",tip:H("Synced","uipress-lite")},false:{value:!1,icon:"crop_free",tip:H("Per side","uipress-lite")}},overflowOptions:[{value:"visible",label:H("Visible","uipress-lite")},{value:"auto",label:H("Auto","uipress-lite")},{value:"hidden",label:H("Hidden","uipress-lite")},{value:"scroll",label:H("Scroll","uipress-lite")}],spacingOptions:{0:{value:"0",label:"0",tip:H("Remove","uipress-lite")},XS:{value:"XS",label:"XS",tip:H("Extra small","uipress-lite")},S:{value:"S",label:"S",tip:H("Small","uipress-lite")},M:{value:"M",label:"M",tip:H("Medium","uipress-lite")},L:{value:"L",label:"L",tip:H("Large","uipress-lite")},XL:{value:"XL",label:"XL",tip:H("Extra large","uipress-lite")},custom:{value:"custom",icon:"more_vert",tip:H("Custom","uipress-lite")}}}},watch:{value:{handler(s,e){this.updating||this.injectProp()},deep:!0,immediate:!0},styles:{handler(s,e){this.updating||this.$emit("update",this.styles)},deep:!0}},computed:{returnDefaultOptions(){return{opacity:1,overflow:"visible",fill:{},backgroundImage:{},outline:{},borders:[],shadows:[],radius:{sync:!0,topleft:"",topright:"",bottomleft:"",bottomright:"",units:"px"}}},returnDefaultRadius(){return{sync:!0,topleft:"",topright:"",bottomleft:"",bottomright:"",units:"px"}},returnFillStyle(){if(!("value"in this.styles.fill)||!this.styles.fill.value)return;let s=this.styles.fill.value;return s.includes("--")?`background:var(${s})`:`background:${s}`},returnOutlineStyle(){if(!this.styles.outline.color||!("value"in this.styles.outline.color)||!this.styles.outline.color.value)return;let s=this.styles.outline.color.value;return s.includes("--")?`background:var(${s})`:`background:${s}`},returnFillValue(){return!("value"in this.styles.fill)||!this.styles.fill.value?"":this.styles.fill.value},returnStyles(){return this.styles},blockFillScreen(){return{component:"backgroundFill",value:this.returnStyles.fill,label:this.fillTab,returnData:s=>{this.styles.fill=s}}},outlineScreen(){return{component:"outlineDesigner",value:this.returnStyles.outline,label:this.strings.outline,returnData:s=>{this.styles.outline=s}}},returnBackgroundImage(){let s=this.styles.backgroundImage.url;return s?`background-size:cover;background-image: url(${s})`:""}},methods:{borderScreen(s,e){return{component:"borderDesigner",value:s,label:this.strings.border,returnData:o=>{this.styles.borders[e]=o}}},shadowScreen(s,e){return{component:"shadowDesigner",value:s,label:this.strings.shadow,returnData:o=>{this.styles.shadows[e]=o}}},async injectProp(){this.updating=!0;const s=this.returnDefaultOptions,e=this.isObject(this.value)?this.value:{};this.styles={...s,...e},e.borders||(this.styles.borders=[]),e.shadows||(this.styles.shadows=[]),e.radius||(this.styles.radius={...this.returnDefaultRadius}),await W(),this.updating=!1},returnBorderColor(s){let e=s.color,o="";return e&&e.value&&(e.value.includes("--")?o="background-color:var("+e.value+");":o="background-color:"+e.value),o},returnShadowColor(s){let e=s.color,o="";return e&&e.value&&(e.value.includes("--")?o="background-color:var("+e.value+");":o="background-color:"+e.value),o},handleUnitChange(s,e){s.topleft=e.value,s.units=e.units},async pushNewBorder(){this.styles.borders.push({style:"solid",color:{value:"#fff"}}),await W();const s=this.styles.borders.length-1;this.$refs["borderDrop-"+s][0].show()},async pushNewShadow(){this.styles.shadows.push({position:"outside",color:{value:"#fff"}}),await W();const s=this.styles.shadows.length-1;this.$refs["shadowDrop-"+s][0].show()}}},Lr={class:"uip-flex uip-flex-column uip-row-gap-xs"},qr={class:"uip-grid-col-1-3"},Ur={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Er={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},jr={class:"uip-grid-col-1-3"},Mr={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Rr={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},Fr={class:"uip-padding-s uip-w-240"},Hr={class:"uip-grid-col-1-3"},Wr={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},zr={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},Gr={class:"uip-padding-s uip-w-240 uip-flex uip-flex-column uip-row-gap-s"},Kr={class:"uip-flex uip-flex-between uip-flex-center"},Jr={class:"uip-text-emphasis uip-text-bold uip-text-s"},Qr={class:"uip-grid-col-1-3"},Xr={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Yr={class:"uip-flex uip-flex-column uip-row-gap-xs"},Zr={class:"uip-flex uip-gap-xs uip-flex-center"},eu={key:0,class:"uip-flex uip-flex-row uip-gap-xxxs"},tu={class:"uip-flex uip-flex-column uip-row-gap-xxs uip-flex-grow"},iu=i("div",{class:"uip-text-muted uip-text-xxs uip-text-center"},"T",-1),su={class:"uip-flex uip-flex-column uip-row-gap-xxs uip-flex-grow"},nu=i("div",{class:"uip-text-muted uip-text-xxs uip-text-center"},"R",-1),ou={class:"uip-flex uip-flex-column uip-row-gap-xxs uip-flex-grow"},lu=i("div",{class:"uip-text-muted uip-text-xxs uip-text-center"},"B",-1),ru={class:"uip-flex uip-flex-column uip-row-gap-xxs uip-flex-grow"},uu=i("div",{class:"uip-text-muted uip-text-xxs uip-text-center"},"L",-1),pu={class:"uip-grid-col-1-3"},au={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},cu={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},du=["value"],hu={class:"uip-grid-col-1-3"},fu={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-flex-start uip-padding-top-xxs"},mu={class:"uip-flex uip-flex-column uip-row-gap-xs"},gu={class:"uip-padding-s uip-w-240"},xu={class:"uip-grid-col-1-3"},vu={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-flex-start uip-padding-top-xxs"},_u={class:"uip-flex uip-flex-column uip-row-gap-xs"},bu={class:"uip-flex uip-gap-xs uip-row-gap-xs uip-flex-center"},yu={class:"uip-padding-s uip-w-240"},ku={class:"uip-grid-col-1-3"},wu={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Su={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},Cu={class:"uip-padding-s uip-w-240"};function Du(s,e,o,d,t,n){const a=g("colorBox"),h=g("screenControl"),f=g("dropdown"),c=g("AppIcon"),m=g("imageBGSelect"),v=g("value-units"),x=g("toggle-switch");return r(),p("div",Lr,[i("div",qr,[i("div",Ur,[i("span",null,u(t.strings.opacity),1)]),i("div",Er,[w(i("input",{type:"number",class:"uip-input uip-padding-xxxs uip-w-50p uip-border-rounder",style:{"border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[0]||(e[0]=_=>t.styles.opacity=_)},null,512),[[D,t.styles.opacity]]),w(i("input",{type:"range",min:"0",max:"1","onUpdate:modelValue":e[1]||(e[1]=_=>t.styles.opacity=_),step:"0.1",class:"uip-range uip-w-50p"},null,512),[[D,t.styles.opacity]])])]),i("div",jr,[i("div",Mr,[i("span",null,u(t.strings.fill),1)]),i("div",Rr,[l(f,{pos:"left center",snapX:["#uip-block-settings","#uip-template-settings","#uip-global-settings"],ref:"fillDrop",class:"uip-w-100p"},{trigger:y(()=>[l(a,{backgroundStyle:n.returnFillStyle,text:n.returnFillValue,remove:()=>{t.styles.fill={}}},null,8,["backgroundStyle","text","remove"])]),content:y(()=>[i("div",Fr,[l(h,{startScreen:n.blockFillScreen,homeScreen:n.blockFillScreen.component,closer:s.$refs.fillDrop.close,showNavigation:!0},{componenthandler:y(({processScreen:_,currentScreen:L,goBack:P})=>[(r(),C(ge,null,[(r(),C(ie(L.component),{onTabChange:e[2]||(e[2]=E=>{t.fillTab=E}),onRequestScreen:E=>{_(E)},onGoBack:E=>P(),returnData:L.returnData,value:L.value,args:L.args},null,40,["onRequestScreen","onGoBack","returnData","value","args"]))],1024))]),_:1},8,["startScreen","homeScreen","closer"])])]),_:1},512)])]),i("div",Hr,[i("div",Wr,[i("span",null,u(t.strings.background),1)]),i("div",zr,[l(f,{pos:"left center",snapX:["#uip-block-settings","#uip-template-settings","#uip-global-settings"],ref:"backgroundDrop",class:"uip-w-100p"},{trigger:y(()=>[l(a,{backgroundStyle:n.returnBackgroundImage,text:t.styles.backgroundImage.url,remove:()=>{t.styles.backgroundImage={}}},null,8,["backgroundStyle","text","remove"])]),content:y(()=>[i("div",Gr,[i("div",Kr,[i("div",Jr,u(t.strings.backgroundImage),1),i("div",{onClick:e[3]||(e[3]=_=>s.$refs.backgroundDrop.close()),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[l(c,{icon:"close",class:"uip-icon"})])]),l(m,{value:t.styles.backgroundImage,returnData:_=>{t.styles.backgroundImage=_}},null,8,["value","returnData"])])]),_:1},512)])]),i("div",Qr,[i("div",Xr,[i("span",null,u(t.strings.radius),1)]),i("div",Yr,[i("div",Zr,[l(v,{value:{value:t.styles.radius.topleft,units:t.styles.radius.units},returnData:_=>{n.handleUnitChange(t.styles.radius,_)},class:"uip-flex-grow"},null,8,["value","returnData"]),l(x,{options:t.syncOptions,activeValue:t.styles.radius.sync,returnValue:_=>{t.styles.radius.sync=_},style:{width:"50%"}},null,8,["options","activeValue","returnValue"])]),t.styles.radius.sync?b("",!0):(r(),p("div",eu,[i("div",tu,[w(i("input",{class:"uip-input-small uip-text-center uip-text-s uip-w-100p uip-flex-grow uip-remove-steps",type:"number","onUpdate:modelValue":e[4]||(e[4]=_=>t.styles.radius.topleft=_)},null,512),[[D,t.styles.radius.topleft]]),iu]),i("div",su,[w(i("input",{class:"uip-input-small uip-text-center uip-text-s uip-w-100p uip-flex-grow uip-remove-steps",type:"number","onUpdate:modelValue":e[5]||(e[5]=_=>t.styles.radius.topright=_)},null,512),[[D,t.styles.radius.topright]]),nu]),i("div",ou,[w(i("input",{class:"uip-input-small uip-text-center uip-text-s uip-w-100p uip-flex-grow uip-remove-steps",type:"number","onUpdate:modelValue":e[6]||(e[6]=_=>t.styles.radius.bottomright=_)},null,512),[[D,t.styles.radius.bottomright]]),lu]),i("div",ru,[w(i("input",{class:"uip-input-small uip-text-center uip-text-s uip-w-100p uip-flex-grow uip-remove-steps",type:"number","onUpdate:modelValue":e[7]||(e[7]=_=>t.styles.radius.bottomleft=_)},null,512),[[D,t.styles.radius.bottomleft]]),uu])]))])]),i("div",pu,[i("div",au,[i("span",null,u(t.strings.overflow),1)]),i("div",cu,[w(i("select",{class:"uip-input-small uip-padding-top-xxxs uip-padding-bottom-xxxs uip-max-w-100p uip-w-100p uip-border-rounder",style:{"padding-top":"2px","padding-bottom":"2px","border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[8]||(e[8]=_=>t.styles.overflow=_)},[(r(!0),p(k,null,S(t.overflowOptions,_=>(r(),p("option",{value:_.value},u(_.label),9,du))),256))],512),[[X,t.styles.overflow]])])]),i("div",hu,[i("div",fu,[i("span",null,u(t.strings.border),1)]),i("div",mu,[(r(!0),p(k,null,S(t.styles.borders,(_,L)=>(r(),p("div",{key:L,class:"uip-flex uip-gap-xs uip-row-gap-xs uip-flex-center"},[l(f,{pos:"left center",class:"uip-w-100p",ref_for:!0,ref:"borderDrop-"+L,snapX:["#uip-block-settings","#uip-template-settings","#uip-global-settings"]},{trigger:y(()=>[l(a,{backgroundStyle:n.returnBorderColor(_,L),text:_.style,remove:()=>{t.styles.borders.splice(L,1)}},null,8,["backgroundStyle","text","remove"])]),content:y(()=>[i("div",gu,[l(h,{startScreen:n.borderScreen(_,L),homeScreen:n.borderScreen(_,L).component,closer:s.$refs["borderDrop-"+L][0].close,showNavigation:!0},{componenthandler:y(({processScreen:P,currentScreen:E,goBack:xe})=>[(r(),C(ge,null,[(r(),C(ie(E.component),{onTabChange:e[9]||(e[9]=se=>{t.fillTab=se}),onRequestScreen:se=>{P(se)},onGoBack:se=>xe(),returnData:E.returnData,value:E.value,args:E.args},null,40,["onRequestScreen","onGoBack","returnData","value","args"]))],1024))]),_:2},1032,["startScreen","homeScreen","closer"])])]),_:2},1536)]))),128)),i("button",{class:"uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted uip-line-height-1",onClick:e[10]||(e[10]=_=>n.pushNewBorder())},[l(c,{icon:"add"})])])]),i("div",xu,[i("div",vu,[i("span",null,u(t.strings.shadow),1)]),i("div",_u,[(r(!0),p(k,null,S(t.styles.shadows,(_,L)=>(r(),p("div",bu,[l(f,{pos:"left center",class:"uip-w-100p",ref_for:!0,ref:"shadowDrop-"+L,snapX:["#uip-block-settings","#uip-template-settings","#uip-global-settings"]},{trigger:y(()=>[l(a,{backgroundStyle:n.returnShadowColor(_),text:_.position,remove:()=>{t.styles.shadows.splice(L,1)}},null,8,["backgroundStyle","text","remove"])]),content:y(()=>[i("div",yu,[l(h,{startScreen:n.shadowScreen(_,L),homeScreen:n.shadowScreen(_,L).component,closer:s.$refs["shadowDrop-"+L][0].close,showNavigation:!0},{componenthandler:y(({processScreen:P,currentScreen:E,goBack:xe})=>[(r(),C(ge,null,[(r(),C(ie(E.component),{onTabChange:e[11]||(e[11]=se=>{t.fillTab=se}),onRequestScreen:se=>{P(se)},onGoBack:se=>xe(),returnData:E.returnData,value:E.value,args:E.args},null,40,["onRequestScreen","onGoBack","returnData","value","args"]))],1024))]),_:2},1032,["startScreen","homeScreen","closer"])])]),_:2},1536)]))),256)),i("button",{class:"uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted uip-line-height-1",onClick:e[12]||(e[12]=_=>n.pushNewShadow())},[l(c,{icon:"add"})])])]),i("div",ku,[i("div",wu,[i("span",null,u(t.strings.outline),1)]),i("div",Su,[l(f,{pos:"left center",snapX:["#uip-block-settings","#uip-template-settings","#uip-global-settings"],ref:"outlineDrop",class:"uip-w-100p"},{trigger:y(()=>[l(a,{backgroundStyle:n.returnOutlineStyle,text:t.styles.outline.style,remove:()=>{t.styles.outline={}}},null,8,["backgroundStyle","text","remove"])]),content:y(()=>[i("div",Cu,[l(h,{startScreen:n.outlineScreen,homeScreen:n.outlineScreen.component,closer:s.$refs.outlineDrop.close,showNavigation:!0},{componenthandler:y(({processScreen:_,currentScreen:L,goBack:P})=>[(r(),C(ge,null,[(r(),C(ie(L.component),{onTabChange:e[13]||(e[13]=E=>{t.fillTab=E}),onRequestScreen:E=>{_(E)},onGoBack:E=>P(),returnData:L.returnData,value:L.value,args:L.args},null,40,["onRequestScreen","onGoBack","returnData","value","args"]))],1024))]),_:1},8,["startScreen","homeScreen","closer"])])]),_:1},512)])])])}const Tu=B(Nr,[["render",Du]]),{__:te}=wp.i18n,Ou={emits:["update"],props:{value:Object},data(){return{spacing:this.returnDefaultOptions,strings:{right:te("Right","uipress-lite"),left:te("Left","uipress-lite"),top:te("Top","uipress-lite"),bottom:te("Bottom","uipress-lite"),custom:te("Custom","uipress-lite"),padding:te("Paddding","uipress-lite"),margin:te("Margin","uipress-lite")},syncOptions:{true:{value:!0,icon:"crop_square",tip:te("Synced","uipress-lite")},false:{value:!1,icon:"crop_free",tip:te("Per side","uipress-lite")}},spacingOptions:{0:{value:"0",label:"0",tip:te("Remove","uipress-lite")},XS:{value:"XS",label:"XS",tip:te("Extra small","uipress-lite")},S:{value:"S",label:"S",tip:te("Small","uipress-lite")},M:{value:"M",label:"M",tip:te("Medium","uipress-lite")},L:{value:"L",label:"L",tip:te("Large","uipress-lite")},XL:{value:"XL",label:"XL",tip:te("Extra large","uipress-lite")},custom:{value:"custom",icon:"more_vert",tip:te("Custom","uipress-lite")}}}},watch:{value:{handler(s,e){this.updating||this.injectProp()},deep:!0,immediate:!0},spacing:{handler(s,e){this.maybeSyncSides(),!this.updating&&this.$emit("update",this.spacing)},deep:!0}},computed:{returnDefaultOptions(){return{padding:{preset:"0",sync:!0,units:"px"},margin:{preset:"0",sync:!0,units:"px"}}}},methods:{maybeSyncSides(){this.spacing.padding.sync==!0&&(this.spacing.padding.right=this.spacing.padding.left,this.spacing.padding.top=this.spacing.padding.left,this.spacing.padding.bottom=this.spacing.padding.left),this.spacing.margin.sync==!0&&(this.spacing.margin.right=this.spacing.margin.left,this.spacing.margin.top=this.spacing.margin.left,this.spacing.margin.bottom=this.spacing.margin.left)},async injectProp(){this.updating=!0;const s=this.returnDefaultOptions;switch(this.spacing={...s},this.isObject(this.value)&&("padding"in this.value&&(this.spacing.padding={...s.padding,...this.value.padding}),"margin"in this.value&&(this.spacing.margin={...s.margin,...this.value.margin})),this.spacing.margin.preset){case"remove":this.spacing.margin.preset="0";break;case"small":this.spacing.margin.preset="S";break;case"medium":this.spacing.margin.preset="M";break;case"large":this.spacing.margin.preset="L";break}switch(this.spacing.padding.preset){case"remove":this.spacing.padding.preset="0";break;case"small":this.spacing.padding.preset="S";break;case"medium":this.spacing.padding.preset="M";break;case"large":this.spacing.padding.preset="L";break}await W(),this.updating=!1},handleUnitChange(s,e){s.left=e.value,s.units=e.units}}},Au={class:"uip-flex uip-flex-column uip-row-gap-xs"},Pu={class:"uip-grid-col-1-3"},Vu={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-flex-start uip-padding-top-xxs"},Iu={class:"uip-flex uip-flex-column uip-row-gap-xs"},Bu={key:0,class:"uip-flex uip-gap-xs uip-flex-center"},$u={key:1,class:"uip-flex uip-flex-row uip-gap-xxxs"},Nu={class:"uip-flex uip-flex-column uip-row-gap-xxs uip-flex-grow"},Lu=i("div",{class:"uip-text-muted uip-text-xxs uip-text-center"},"T",-1),qu={class:"uip-flex uip-flex-column uip-row-gap-xxs uip-flex-grow"},Uu=i("div",{class:"uip-text-muted uip-text-xxs uip-text-center"},"R",-1),Eu={class:"uip-flex uip-flex-column uip-row-gap-xxs uip-flex-grow"},ju=i("div",{class:"uip-text-muted uip-text-xxs uip-text-center"},"B",-1),Mu={class:"uip-flex uip-flex-column uip-row-gap-xxs uip-flex-grow"},Ru=i("div",{class:"uip-text-muted uip-text-xxs uip-text-center"},"L",-1),Fu={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-flex-start uip-padding-top-xxs"},Hu={class:"uip-flex uip-flex-column uip-row-gap-xs"},Wu={key:0,class:"uip-flex uip-gap-xs uip-flex-center"},zu={key:1,class:"uip-flex uip-flex-row uip-gap-xxxs"},Gu={class:"uip-flex uip-flex-column uip-row-gap-xxs uip-flex-grow"},Ku=i("div",{class:"uip-text-muted uip-text-xxs uip-text-center"},"T",-1),Ju={class:"uip-flex uip-flex-column uip-row-gap-xxs uip-flex-grow"},Qu=i("div",{class:"uip-text-muted uip-text-xxs uip-text-center"},"R",-1),Xu={class:"uip-flex uip-flex-column uip-row-gap-xxs uip-flex-grow"},Yu=i("div",{class:"uip-text-muted uip-text-xxs uip-text-center"},"B",-1),Zu={class:"uip-flex uip-flex-column uip-row-gap-xxs uip-flex-grow"},ep=i("div",{class:"uip-text-muted uip-text-xxs uip-text-center"},"L",-1);function tp(s,e,o,d,t,n){const a=g("toggle-switch"),h=g("value-units");return r(),p("div",Au,[i("div",Pu,[i("div",Vu,[i("span",null,u(t.strings.padding),1)]),i("div",Iu,[l(a,{options:t.spacingOptions,activeValue:t.spacing.padding.preset,returnValue:function(f){t.spacing.padding.preset=f}},null,8,["options","activeValue","returnValue"]),t.spacing.padding.preset=="custom"?(r(),p("div",Bu,[l(h,{value:{value:t.spacing.padding.left,units:t.spacing.padding.units},returnData:f=>{n.handleUnitChange(t.spacing.padding,f)},class:"uip-flex-grow"},null,8,["value","returnData"]),l(a,{options:t.syncOptions,activeValue:t.spacing.padding.sync,returnValue:f=>{t.spacing.padding.sync=f},style:{width:"50%"}},null,8,["options","activeValue","returnValue"])])):b("",!0),t.spacing.padding.sync?b("",!0):(r(),p("div",$u,[i("div",Nu,[w(i("input",{class:"uip-input-small uip-text-center uip-text-s uip-w-100p uip-flex-grow uip-remove-steps",type:"number","onUpdate:modelValue":e[0]||(e[0]=f=>t.spacing.padding.top=f)},null,512),[[D,t.spacing.padding.top]]),Lu]),i("div",qu,[w(i("input",{class:"uip-input-small uip-text-center uip-text-s uip-w-100p uip-flex-grow uip-remove-steps",type:"number","onUpdate:modelValue":e[1]||(e[1]=f=>t.spacing.padding.right=f)},null,512),[[D,t.spacing.padding.right]]),Uu]),i("div",Eu,[w(i("input",{class:"uip-input-small uip-text-center uip-text-s uip-w-100p uip-flex-grow uip-remove-steps",type:"number","onUpdate:modelValue":e[2]||(e[2]=f=>t.spacing.padding.bottom=f)},null,512),[[D,t.spacing.padding.bottom]]),ju]),i("div",Mu,[w(i("input",{class:"uip-input-small uip-text-center uip-text-s uip-w-100p uip-flex-grow uip-remove-steps",type:"number","onUpdate:modelValue":e[3]||(e[3]=f=>t.spacing.padding.left=f)},null,512),[[D,t.spacing.padding.left]]),Ru])]))]),i("div",Fu,[i("span",null,u(t.strings.margin),1)]),i("div",Hu,[l(a,{options:t.spacingOptions,activeValue:t.spacing.margin.preset,returnValue:function(f){t.spacing.margin.preset=f}},null,8,["options","activeValue","returnValue"]),t.spacing.margin.preset=="custom"?(r(),p("div",Wu,[l(h,{value:{value:t.spacing.margin.left,units:t.spacing.margin.units},returnData:f=>{n.handleUnitChange(t.spacing.margin,f)},class:"uip-flex-grow"},null,8,["value","returnData"]),l(a,{options:t.syncOptions,activeValue:t.spacing.margin.sync,returnValue:f=>{t.spacing.margin.sync=f},style:{width:"50%"}},null,8,["options","activeValue","returnValue"])])):b("",!0),t.spacing.margin.sync?b("",!0):(r(),p("div",zu,[i("div",Gu,[w(i("input",{class:"uip-input-small uip-text-center uip-text-s uip-w-100p uip-flex-grow uip-remove-steps",type:"number","onUpdate:modelValue":e[4]||(e[4]=f=>t.spacing.margin.top=f)},null,512),[[D,t.spacing.margin.top]]),Ku]),i("div",Ju,[w(i("input",{class:"uip-input-small uip-text-center uip-text-s uip-w-100p uip-flex-grow uip-remove-steps",type:"number","onUpdate:modelValue":e[5]||(e[5]=f=>t.spacing.margin.right=f)},null,512),[[D,t.spacing.margin.right]]),Qu]),i("div",Xu,[w(i("input",{class:"uip-input-small uip-text-center uip-text-s uip-w-100p uip-flex-grow uip-remove-steps",type:"number","onUpdate:modelValue":e[6]||(e[6]=f=>t.spacing.margin.bottom=f)},null,512),[[D,t.spacing.margin.bottom]]),Yu]),i("div",Zu,[w(i("input",{class:"uip-input-small uip-text-center uip-text-s uip-w-100p uip-flex-grow uip-remove-steps",type:"number","onUpdate:modelValue":e[7]||(e[7]=f=>t.spacing.margin.left=f)},null,512),[[D,t.spacing.margin.left]]),ep])]))])])])}const ip=B(Ou,[["render",tp]]),{__:V}=wp.i18n,sp={emits:["update"],components:{colorBox:Ie,screenControl:Me,ColorPicker:Qe,colourStyleEditor:ct},props:{value:Object,args:Object},data(){return{option:this.returnDefaultOptions,updating:!1,strings:{fontSize:V("size","uipress-lite"),lineHeight:V("Line height","uipress-lite"),fontWeight:V("Weight","uipress-lite"),textTransform:V("Transform","uipress-lite"),fontFamily:V("Font","uipress-lite"),colour:V("Colour","uipress-lite"),align:V("Align","uipress-lite"),decoration:V("Decoration","uipress-lite"),fontURL:V("Font url","uipress-lite"),customFontName:V("Font family","uipress-lite"),spacing:V("Spacing","uipress-lite")},alignOptions:{left:{value:"left",icon:"format_align_left",tip:V("Left","uipress-lite")},center:{value:"center",icon:"format_align_center",tip:V("Center","uipress-lite")},right:{value:"right",icon:"format_align_right",tip:V("Right","uipress-lite")},justify:{value:"justify",icon:"format_align_justify",tip:V("Justify","uipress-lite")}},decorationOptions:{none:{value:"none",icon:"block",tip:V("None","uipress-lite")},italic:{value:"italic",icon:"format_italic",tip:V("Italic","uipress-lite")},underline:{value:"underline",icon:"format_underlined",tip:V("Underline","uipress-lite")},strikethrough:{value:"strikethrough",icon:"format_strikethrough",tip:V("Strikethrough","uipress-lite")}},fontSizeOptions:{XS:{value:"XS",label:"XS",tip:V("Extra small","uipress-lite")},S:{value:"S",label:"S",tip:V("Small","uipress-lite")},M:{value:"M",label:"M",tip:V("Medium","uipress-lite")},L:{value:"L",label:"L",tip:V("Large","uipress-lite")},XL:{value:"XL",label:"XL",tip:V("Extra large","uipress-lite")},custom:{value:"custom",icon:"more_vert",tip:V("Custom","uipress-lite")}},fontWeights:[{value:"100",label:V("100","uipress-lite")},{value:"200",label:V("200","uipress-lite")},{value:"300",label:V("300","uipress-lite")},{value:"400",label:V("400","uipress-lite")},{value:"500",label:V("500","uipress-lite")},{value:"600",label:V("600","uipress-lite")},{value:"700",label:V("700","uipress-lite")},{value:"800",label:V("800","uipress-lite")},{value:"900",label:V("900","uipress-lite")},{value:"bold",label:V("Bold","uipress-lite")},{value:"bolder",label:V("Bolder","uipress-lite")},{value:"lighter",label:V("Lighter","uipress-lite")},{value:"normal",label:V("Normal","uipress-lite")},{value:"inherit",label:V("Inherit","uipress-lite")}],textTransform:[{value:"none",label:V("None","uipress-lite")},{value:"capitalize",label:V("Capitalize","uipress-lite")},{value:"lowercase",label:V("Lowercase","uipress-lite")},{value:"uppercase",label:V("Uppercase","uipress-lite")}],fonts:[...Vt,{value:"custom",label:V("Custom","uipress-lite")}]}},watch:{value:{handler(s,e){this.updating||this.injectProp()},deep:!0,immediate:!0},option:{handler(s,e){this.updating||this.$emit("update",this.option)},deep:!0}},computed:{returnDefaultOptions(){return{align:"left",weight:"inherit",decoration:"none",color:{value:"",type:"solid"},font:"inherit",size:{preset:"M",units:"px"},spacing:{units:"px"},lineHeight:{units:"em"},customURL:"",customName:"",transform:"none"}},returnOption(){return this.option},colorFillScreen(){return{component:"ColorPicker",value:this.option.color.value,label:this.strings.colour,returnData:s=>{s.startsWith("--")?this.option.color.type="variable":this.option.color.type="solid",this.option.color.value=s}}},returnTextColor(){if(this.option.color.value)return this.option.color.value.startsWith("--")?`background-color:var(${this.option.color.value})`:`background-color:${this.option.color.value}`}},methods:{async injectProp(){this.updating=!0,this.option=this.isObject(this.value)?{...this.value}:this.returnDefaultOptions,this.isObject(this.value)&&(this.value.color||(this.option.color=this.returnDefaultOptions.color),this.value.size||(this.option.size=this.returnDefaultOptions.size),this.value.spacing||(this.option.spacing=this.returnDefaultOptions.spacing),this.value.lineHeight||(this.option.lineHeight=this.returnDefaultOptions.lineHeight)),await W(),this.updating=!1}}},np={class:"uip-flex uip-flex-column uip-row-gap-s"},op={class:"uip-grid-col-1-3"},lp={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},rp={class:"uip-flex uip-flex-column uip-row-gap-xs uip-flex-start"},up={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},pp={class:"uip-flex uip-flex-column uip-row-gap-xs uip-flex-start"},ap={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},cp={class:"uip-flex uip-flex-column uip-row-gap-xs uip-flex-start"},dp={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},hp={class:"uip-flex uip-flex-column uip-row-gap-xs uip-flex-start"},fp=i("div",null,null,-1),mp={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},gp={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},xp={class:"uip-padding-s uip-w-240"},vp={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},_p={class:"uip-flex uip-flex-column uip-row-gap-xs uip-flex-start"},bp={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},yp={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},kp={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Sp={class:"uip-flex uip-row-gap-xs"},Cp={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Dp={class:"uip-flex uip-row-gap-xs"},Tp={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Op={class:"uip-flex uip-row-gap-xs"};function Ap(s,e,o,d,t,n){const a=g("default-select"),h=g("toggle-switch"),f=g("value-units"),c=g("colorBox"),m=g("screenControl"),v=g("dropdown");return r(),p("div",np,[i("div",op,[i("div",lp,[i("span",null,u(t.strings.fontFamily),1)]),i("div",rp,[l(a,{value:n.returnOption.font,args:{options:t.fonts},returnData:function(x){t.option.font=x}},null,8,["value","args","returnData"])]),t.option.font=="custom"?(r(),p(k,{key:0},[i("div",up,[i("span",null,u(t.strings.fontURL),1)]),i("div",pp,[w(i("input",{type:"text",class:"uip-input-small uip-w-100p","onUpdate:modelValue":e[0]||(e[0]=x=>t.option.customURL=x)},null,512),[[D,t.option.customURL]])]),i("div",ap,[i("span",null,u(t.strings.customFontName),1)]),i("div",cp,[w(i("input",{type:"text",class:"uip-input-small uip-w-100p","onUpdate:modelValue":e[1]||(e[1]=x=>t.option.customName=x)},null,512),[[D,t.option.customName]])])],64)):b("",!0),i("div",dp,[i("span",null,u(t.strings.fontSize),1)]),i("div",hp,[l(h,{options:t.fontSizeOptions,activeValue:t.option.size.preset,returnValue:function(x){t.option.size.preset=x}},null,8,["options","activeValue","returnValue"])]),t.option.size.preset=="custom"?(r(),p(k,{key:1},[fp,i("div",null,[l(f,{value:t.option.size,returnData:x=>{t.option.size=x}},null,8,["value","returnData"])])],64)):b("",!0),i("div",mp,[i("span",null,u(t.strings.colour),1)]),i("div",gp,[l(v,{pos:"left center",snapX:["#uip-block-settings","#uip-template-settings","#uip-global-settings"],ref:"colorDrop",class:"uip-w-100p"},{trigger:y(()=>[l(c,{backgroundStyle:n.returnTextColor,text:t.option.color.value,remove:()=>{t.option.color={}}},null,8,["backgroundStyle","text","remove"])]),content:y(()=>[i("div",xp,[l(m,{startScreen:n.colorFillScreen,homeScreen:n.colorFillScreen.component,closer:s.$refs.colorDrop.close,showNavigation:!0},{componenthandler:y(({processScreen:x,currentScreen:_,goBack:L})=>[(r(),C(ge,null,[(r(),C(ie(_.component),{onTabChange:e[2]||(e[2]=P=>{s.fillTab=P}),onRequestScreen:P=>{x(P)},onGoBack:P=>L(),returnData:_.returnData,value:_.value,args:_.args},null,40,["onRequestScreen","onGoBack","returnData","value","args"]))],1024))]),_:1},8,["startScreen","homeScreen","closer"])])]),_:1},512)]),i("div",vp,[i("span",null,u(t.strings.align),1)]),i("div",_p,[l(h,{options:t.alignOptions,activeValue:t.option.align,returnValue:function(x){t.option.align=x}},null,8,["options","activeValue","returnValue"])]),i("div",bp,[i("span",null,u(t.strings.lineHeight),1)]),l(f,{value:t.option.lineHeight,returnData:function(x){t.option.lineHeight=x}},null,8,["value","returnData"]),i("div",yp,[i("span",null,u(t.strings.spacing),1)]),l(f,{value:t.option.spacing,returnData:x=>{t.option.spacing=x}},null,8,["value","returnData"]),i("div",kp,[i("span",null,u(t.strings.fontWeight),1)]),i("div",Sp,[l(a,{value:n.returnOption.weight,args:{options:t.fontWeights},returnData:function(x){t.option.weight=x}},null,8,["value","args","returnData"])]),i("div",Cp,[i("span",null,u(t.strings.textTransform),1)]),i("div",Dp,[l(a,{value:n.returnOption.transform,args:{options:t.textTransform},returnData:function(x){t.option.transform=x}},null,8,["value","args","returnData"])]),i("div",Tp,[i("span",null,u(t.strings.decoration),1)]),i("div",Op,[l(h,{options:t.decorationOptions,activeValue:t.option.decoration,returnValue:function(x){t.option.decoration=x}},null,8,["options","activeValue","returnValue"])])])])}const Pp=B(sp,[["render",Ap]]),{__:M}=wp.i18n,Vp={emits:["update"],props:{value:Object},data(){return{option:this.returnDefaultOptions,updating:!1,verticalAlignOptions:{none:{value:"none",icon:"block",tip:M("None","uipress-lite")},top:{value:"top",icon:"align_vertical_top",tip:M("Top","uipress-lite")},center:{value:"center",icon:"align_vertical_center",tip:M("Center","uipress-lite")},bottom:{value:"bottom",icon:"align_vertical_bottom",tip:M("Bottom","uipress-lite")}},horizontalAlignOptions:{none:{value:"none",icon:"block",tip:M("None","uipress-lite")},left:{value:"left",icon:"align_horizontal_left",tip:M("Left","uipress-lite")},center:{value:"center",icon:"align_horizontal_center",tip:M("Center","uipress-lite")},right:{value:"right",icon:"align_horizontal_right",tip:M("Right","uipress-lite")}},positionOptions:[{label:M("Relative","uipress-lite"),value:"relative"},{label:M("Absolute","uipress-lite"),value:"absolute"},{label:M("Fixed","uipress-lite"),value:"fixed"},{label:M("Sticky","uipress-lite"),value:"sticky"},{label:M("Static","uipress-lite"),value:"static"}],displayOptions:[{label:M("Block","uipress-lite"),value:"block"},{label:M("Inline","uipress-lite"),value:"inline"},{label:M("Flex","uipress-lite"),value:"flex"},{label:M("Grid","uipress-lite"),value:"grid"},{label:M("Inherit","uipress-lite"),value:"inherit"},{label:M("None","uipress-lite"),value:"none"}],strings:{position:M("Position","uipress-lite"),left:M("Left","uipress-lite"),top:M("Top","uipress-lite"),right:M("Right","uipress-lite"),bottom:M("Bottom","uipress-lite"),inset:M("Inset","uipress-lite"),verticalAlign:M("Vertical align","uipress-lite"),horizontalAlign:M("Horizontal align","uipress-lite"),zIndex:M("z-index","uipress-lite"),display:M("Display","uipress-lite")}}},watch:{value:{handler(s,e){this.updating||this.injectProp()},deep:!0,immediate:!0},option:{handler(s,e){this.updating||this.$emit("update",this.option)},deep:!0}},computed:{returnDefaultOptions(){return{position:"",display:"",verticalAlign:"none",horizontalAlign:"none",zIndex:"",offset:{units:"px",left:0,right:0,top:0,bottom:0}}}},methods:{async injectProp(){this.updating=!0;const s=this.returnDefaultOptions,e=this.isObject(this.value)?this.value:{};this.option={...s,...e},this.isObject(this.value)&&"offset"in this.value&&(this.option.offset={...this.value.offset}),await W(),this.updating=!1}}},Ip={class:"uip-flex uip-flex-column uip-row-gap-xs"},Bp={class:"uip-grid-col-1-3"},$p={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Np={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},Lp={class:"uip-grid-col-1-3"},qp={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Up={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},Ep={class:"uip-grid-col-1-3"},jp={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Mp={class:"uip-flex uip-flex-row uip-gap-xxxs"},Rp={class:"uip-flex uip-flex-row uip-padding-xxxs uip-background-muted uip-border-rounder uip-text-center"},Fp={class:"uip-flex uip-flex-row uip-padding-xxxs uip-background-muted uip-border-rounder uip-text-center"},Hp={class:"uip-flex uip-flex-row uip-padding-xxxs uip-background-muted uip-border-rounder uip-text-center"},Wp={class:"uip-flex uip-flex-row uip-padding-xxxs uip-background-muted uip-border-rounder uip-text-center"},zp={class:"uip-background-muted uip-border-rounder uip-flex uip-flex-grow"},Gp={class:"uip-grid-col-1-3"},Kp={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Jp={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},Qp={class:"uip-grid-col-1-3"},Xp={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Yp={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},Zp={class:"uip-grid-col-1-3"},ea={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"};function ta(s,e,o,d,t,n){const a=g("default-select"),h=g("uip-tooltip"),f=g("units-select"),c=g("toggle-switch"),m=g("uip-number");return r(),p("div",Ip,[i("div",Bp,[i("div",$p,[i("span",null,u(t.strings.position),1)]),i("div",Np,[l(a,{value:t.option.position,returnData:function(v){t.option.position=v},args:{options:t.positionOptions}},null,8,["value","returnData","args"])])]),i("div",Lp,[i("div",qp,[i("span",null,u(t.strings.display),1)]),i("div",Up,[l(a,{value:t.option.display,returnData:function(v){t.option.display=v},args:{options:t.displayOptions}},null,8,["value","returnData","args"])])]),i("div",Ep,[i("div",jp,[i("span",null,u(t.strings.inset),1)]),i("div",Mp,[l(h,{message:t.strings.left,delay:0,class:"uip-flex uip-flex-grow"},{default:y(()=>[i("div",Rp,[w(i("input",{class:"uip-blank-input uip-text-center uip-w-22 uip-text-s","onUpdate:modelValue":e[0]||(e[0]=v=>t.option.offset.left=v)},null,512),[[D,t.option.offset.left]])])]),_:1},8,["message"]),l(h,{message:t.strings.right,delay:0,class:"uip-flex uip-flex-grow"},{default:y(()=>[i("div",Fp,[w(i("input",{class:"uip-blank-input uip-text-center uip-w-22 uip-text-s","onUpdate:modelValue":e[1]||(e[1]=v=>t.option.offset.right=v)},null,512),[[D,t.option.offset.right]])])]),_:1},8,["message"]),l(h,{message:t.strings.top,delay:0,class:"uip-flex uip-flex-grow"},{default:y(()=>[i("div",Hp,[w(i("input",{class:"uip-blank-input uip-text-center uip-w-22 uip-text-s","onUpdate:modelValue":e[2]||(e[2]=v=>t.option.offset.top=v)},null,512),[[D,t.option.offset.top]])])]),_:1},8,["message"]),l(h,{message:t.strings.bottom,delay:0,class:"uip-flex uip-flex-grow"},{default:y(()=>[i("div",Wp,[w(i("input",{class:"uip-blank-input uip-text-center uip-w-22 uip-text-s","onUpdate:modelValue":e[3]||(e[3]=v=>t.option.offset.bottom=v)},null,512),[[D,t.option.offset.bottom]])])]),_:1},8,["message"]),i("div",zp,[l(f,{value:t.option.offset.units,returnData:function(v){t.option.offset.units=v}},null,8,["value","returnData"])])])]),i("div",Gp,[i("div",Kp,[i("span",null,u(t.strings.verticalAlign),1)]),i("div",Jp,[l(c,{options:t.verticalAlignOptions,activeValue:t.option.verticalAlign,returnValue:function(v){t.option.verticalAlign=v}},null,8,["options","activeValue","returnValue"])])]),i("div",Qp,[i("div",Xp,[i("span",null,u(t.strings.horizontalAlign),1)]),i("div",Yp,[l(c,{options:t.horizontalAlignOptions,activeValue:t.option.horizontalAlign,returnValue:function(v){t.option.horizontalAlign=v}},null,8,["options","activeValue","returnValue"])])]),i("div",Zp,[i("div",ea,[i("span",null,u(t.strings.zIndex),1)]),l(m,{value:t.option.zIndex,returnData:v=>{t.option.zIndex=v},placeHolder:"",step:.1},null,8,["value","returnData"])])])}const ia=B(Vp,[["render",ta]]),{__:ue}=wp.i18n,sa={emits:["update"],components:{flexLayout:Po,Dimensions:ul,Styles:Tu,Spacing:ip,TextFormat:Pp,PositionDesigner:ia,EffectsDesigner:Pt},props:{styleSettings:Object,component:String,title:String,startOpen:Boolean,styleName:String},data(){return{blockStyle:{},open:!1,activeState:"default",colorTheme:"light",loading:!1,strings:{toggleColour:ue("Toggle dark / light mode","uipress-lite"),resetSection:ue("Reset section","uipress-lite")},pseudoSelectors:[{value:"default",label:ue("Default","uipress-lite")},{value:":active",label:ue(":active","uipress-lite")},{value:":focus",label:ue(":focus","uipress-lite")},{value:":hover",label:ue(":hover","uipress-lite")},{value:":visited",label:ue(":visited","uipress-lite")},{value:"::before",label:ue("::before","uipress-lite")},{value:"::after",label:ue("::after","uipress-lite")},{value:":menu-collapsed",label:ue("Menu collapsed","uipress-lite")},{value:"tablet",label:ue("Tablet","uipress-lite")},{value:"mobile",label:ue("Mobile","uipress-lite")}]}},watch:{styleSettings:{handler(){this.injectPropValue()},deep:!0,immediate:!0}},computed:{returnVisibilityIcon(){if(this.open)return"expand_more";if(!this.open)return"chevron_left"},returnCurrentBlockStyle(){let s;switch(this.activeState){case"default":s=this.colorTheme=="light"?this.blockStyle.value:this.blockStyle.darkValue;break;default:const e=this.activeState,o=this.colorTheme;this.ensureNestedObject(this.blockStyle,"pseudo",o,e),s=this.blockStyle.pseudo[o][e];break}return s||(s={}),s},returnActiveState(){const s=this.pseudoSelectors.findIndex(e=>e.value==this.activeState);return this.pseudoSelectors[s].label},returnThemeIcon(){return this.colorTheme=="light"?"light_mode":"dark_mode"}},mounted(){this.startOpen&&(this.open=!0)},methods:{injectPropValue(){if(!this.isObject(this.styleSettings))return this.blockStyle={};this.blockStyle=this.styleSettings},toggleVisibility(){this.open=!this.open},handleStyleUpdate(s){switch(this.blockStyle.settingName||(this.blockStyle.settingName=this.styleName),this.activeState){case"default":const e=this.colorTheme=="light"?"value":"darkValue";this.blockStyle[e]=s,this.break;default:const o=this.activeState,d=this.colorTheme;this.ensureNestedObject(this.blockStyle,"pseudo",d,o),this.blockStyle.pseudo[d][o]=s;break}},itemHasPseudo(s){const e=this.colorTheme;let o=this.hasNestedPath(this.blockStyle,"pseudo",e,s);return!(!o||Object.keys(o).length===0)},toggleColorMode(){const s=this.colorTheme=="light"?"dark":"light";this.colorTheme=s},clearPseudo(s){this.hasNestedPath(this.blockStyle,"pseudo","light",s)&&delete this.blockStyle.pseudo.light[s],this.hasNestedPath(this.blockStyle,"pseudo","dark",s)&&delete this.blockStyle.pseudo.dark[s]},resetStyleSection(){delete this.blockStyle.value,delete this.blockStyle.darkValue,delete this.blockStyle.pseudo,this.$refs.styleoptions.close()}}},na={class:"uip-flex uip-flex-column uip-row-gap-s"},oa={class:"uip-text-bold uip-text-emphasis"},la={key:0,class:"uip-padding-left-s"},ra={class:"uip-padding-xs uip-flex uip-flex-column uip-text-weight-normal uip-text-s"},ua=["onClick"],pa=["onClick"],aa={class:"uip-padding-xs uip-flex uip-flex-column uip-text-weight-normal uip-text-s"};function ca(s,e,o,d,t,n){const a=g("AppIcon"),h=g("contextmenu");return r(),p("div",na,[i("div",{class:"uip-flex uip-gap-s uip-flex-center uip-flex-between",onContextmenu:e[3]||(e[3]=G(f=>s.$refs.styleoptions.show(f),["prevent","stop"]))},[i("div",{class:K(["uip-flex uip-gap-xxs uip-flex-center uip-cursor-pointer uip-flex-between",{"uip-flex-grow":!t.open}]),onClick:e[0]||(e[0]=f=>n.toggleVisibility())},[i("span",oa,u(o.title),1),l(a,{class:"uip-link-muted uip-icon",icon:n.returnVisibilityIcon},null,8,["icon"])],2),t.open?(r(),p("div",{key:0,onClick:e[2]||(e[2]=G(f=>s.$refs.blockstates.show(f),["prevent","stop"])),class:"uip-flex uip-gap-xs uip-fade-in"},[l(a,{onClick:G(n.toggleColorMode,["prevent","stop"]),title:t.strings.toggleColour,class:"uip-link-default hover:uip-background-muted uip-border-rounder uip-icon uip-padding-xxs uip-padding-top-xxxs uip-padding-bottom-xxxs",icon:n.returnThemeIcon},null,8,["onClick","title","icon"]),i("div",{onClick:e[1]||(e[1]=G(f=>s.$refs.blockstates.show(f),["prevent","stop"])),class:"uip-text-xs uip-padding-xxxs uip-padding-left-xs uip-padding-right-xxs uip-border-rounder uip-background-muted uip-link-default uip-flex uip-gap-xxs uip-flex-center"},[i("span",null,u(n.returnActiveState),1),l(a,{class:"uip-link-muted uip-icon",icon:"expand_more"})])])):b("",!0)],32),t.open?(r(),p("div",la,[(r(),C(ie(o.component),{value:n.returnCurrentBlockStyle,onUpdate:n.handleStyleUpdate},null,40,["value","onUpdate"]))])):b("",!0),l(h,{ref:"blockstates"},{default:y(()=>[i("div",ra,[(r(!0),p(k,null,S(t.pseudoSelectors,f=>(r(),p("a",{onClick:c=>{t.activeState=f.value,s.$refs.blockstates.close()},class:K([t.activeState==f.value?"uip-background-muted uip-text-emphasis":"hover:uip-background-muted","uip-link-default uip-padding-xxs uip-border-rounder uip-no-wrap uip-flex uip-flex-center uip-flex-between uip-gap-s"])},[i("span",null,u(f.label),1),n.itemHasPseudo(f.value)?(r(),p("a",{key:0,onClick:G(c=>n.clearPseudo(f.value),["prevent","stop"]),class:"uip-link-muted uip-icon uip-link-muted"},[l(a,{icon:"close"})],8,pa)):b("",!0)],10,ua))),256))])]),_:1},512),l(h,{ref:"styleoptions"},{default:y(()=>[i("div",aa,[i("a",{onClick:e[4]||(e[4]=(...f)=>n.resetStyleSection&&n.resetStyleSection(...f)),class:"hover:uip-background-muted uip-link-danger uip-padding-xxs uip-border-rounder uip-no-wrap uip-flex uip-flex-center uip-flex-between uip-gap-s"},[i("span",null,u(t.strings.resetSection),1),l(a,{icon:"restart_alt",class:"uip-icon"})])])]),_:1},512)])}const da=B(sa,[["render",ca]]),{__:fe}=wp.i18n,Ye=[{value:"=",label:fe("Equal","uipress-lite")},{value:"!=",label:fe("Not equal","uipress-lite")},{value:">",label:fe("Greater than","uipress-lite")},{value:">=",label:fe("Greater than or equal","uipress-lite")},{value:"<",label:fe("Lesser than","uipress-lite")},{value:"<=",label:fe("Lesser than or equal","uipress-lite")},{value:"LIKE",label:fe("LIKE","uipress-lite")},{value:"NOT LIKE",label:fe("NOT LIKE","uipress-lite")},{value:"IN",label:fe("IN","uipress-lite")},{value:"NOT IN",label:fe("NOT IN","uipress-lite")}],{__:be}=wp.i18n,Ze=[{value:"NUMERIC",label:be("NUMERIC","uipress-lite")},{value:"CHAR",label:be("CHAR","uipress-lite")},{value:"DATE",label:be("DATE","uipress-lite")},{value:"DATETIME",label:be("DATETIME","uipress-lite")},{value:"DECIMAL",label:be("DECIMAL","uipress-lite")},{value:"SIGNED",label:be("SIGNED","uipress-lite")},{value:"TIME",label:be("TIME","uipress-lite")},{value:"UNSIGNED",label:be("UNSIGNED","uipress-lite")}];wp.i18n;const dt={term_id:{value:"term_id",label:"term_id"},name:{value:"name",label:"name"},slug:{value:"slug",label:"slug"},term_taxonomy_id:{value:"term_taxonomy_id",label:"term_taxonomy_id"}},{__:pe}=wp.i18n,ht=[{value:"none",label:pe("None","uipress-lite")},{value:"ID",label:pe("ID","uipress-lite")},{value:"author",label:pe("Author","uipress-lite")},{value:"title",label:pe("Title","uipress-lite")},{value:"name",label:pe("Name","uipress-lite")},{value:"type",label:pe("Post type","uipress-lite")},{value:"date",label:pe("Date","uipress-lite")},{value:"modified",label:pe("Modified","uipress-lite")},{value:"rand",label:pe("Random","uipress-lite")},{value:"comment_count",label:pe("Commend count","uipress-lite")},{value:"meta_value",label:pe("Meta value","uipress-lite")}],{__:ae}=wp.i18n,ft=[{value:"none",label:ae("None","uipress-lite")},{value:"ID",label:ae("ID","uipress-lite")},{value:"display_name",label:ae("Name","uipress-lite")},{value:"user_name",label:ae("Username","uipress-lite")},{value:"user_login",label:ae("User login","uipress-lite")},{value:"user_nicename",label:ae("Nicename","uipress-lite")},{value:"user_email",label:ae("Email","uipress-lite")},{value:"user_registered",label:ae("Registered date","uipress-lite")},{value:"post_count",label:ae("Post count","uipress-lite")},{value:"rand",label:ae("Random","uipress-lite")},{value:"meta_value",label:ae("Meta value","uipress-lite")}],{__:me}=wp.i18n,mt=[{value:"none",label:me("None","uipress-lite")},{value:"ID",label:me("ID","uipress-lite")},{value:"domain",label:me("Domain","uipress-lite")},{value:"path",label:me("Path","uipress-lite")},{value:"network_id",label:me("Network ID","uipress-lite")},{value:"last_updated",label:me("Last updated","uipress-lite")},{value:"registered",label:me("Registered","uipress-lite")},{value:"domain_length",label:me("Domain length","uipress-lite")},{value:"path_length",label:me("Path length","uipress-lite")}],{__:N}=wp.i18n,ha={components:{PostTypeSelectPreview:bt,StatusTypeSelectPreview:yt,UserRoleSelectPreview:kt},props:{returnData:Function,value:Object,blockSettings:Object},data(){return{open:!1,options:{type:"post",postType:["post"],order:"DESC",orderBy:"date",roles:[],orderBykEY:"",perPage:20,status:["publish"],relation:"AND",taxRelation:"AND",offset:"",taxQuery:[],metaQuery:[],limitToAuthor:!1,showPagination:!1,search:!1},strings:{type:N("Type","uipress-lite"),postType:N("Post type","uipress-lite"),orderBy:N("Order by","uipress-lite"),perPage:N("Per page","uipress-lite"),offset:N("Offset","uipress-lite"),metaQuery:N("Meta query","uipress-lite"),taxQuery:N("Tax query","uipress-lite"),postTypes:N("Post types","uipress-lite"),searchPostTypes:N("Search post types","uipress-lite"),seacrhStatus:N("Search statuses","uipress-lite"),metaKey:N("Meta key","uipress-lite"),metaValue:N("Meta value","uipress-lite"),terms:N("Terms","uipress-lite"),compare:N("Compare","uipress-lite"),order:N("Order","uipress-lite"),metaKey:N("Meta key","uipress-lite"),status:N("Status","uipress-lite"),relation:N("Relation","uipress-lite"),postStatus:N("Post statuses","uipress-lite"),seacrhPostStatus:N("Search post statuses","uipress-lite"),pagination:N("Pagination","uipress-lite"),roles:N("Roles","uipress-lite"),searchRoles:N("Search roles","uipress-lite"),search:N("Search","uipress-lite"),usersOwnContent:N("Own content","uipress-lite"),taxonomy:N("Taxonomy","uipress-lite"),field:N("Field","uipress-lite"),taxValue:N("Tax value","uipress-lite"),includeChildren:N("Include children","uipress-lite")},fieldTypes:dt,queryType:{post:{value:"post",label:N("Posts","uipress-lite")},user:{value:"user",label:N("Users","uipress-lite")}},relationOptions:{AND:{value:"AND",label:N("AND","uipress-lite")},OR:{value:"OR",label:N("OR","uipress-lite")}},comparisons:Ye,dataTypes:Ze,showPagination:{false:{value:!1,label:N("Hide","uipress-lite")},true:{value:!0,label:N("Show","uipress-lite")}},activeSection:"query",metaSections:{query:{value:"query",label:N("Query","uipress-lite")},meta:{value:"meta",label:N("Meta","uipress-lite")},tax:{value:"tax",label:N("Tax","uipress-lite")},settings:{value:"settings",label:N("Settings","uipress-lite")}},updating:!1,orderByOptions:ht,orderByOptionsUser:ft,orderByOptionsSites:mt}},watch:{value:{handler(s,e){this.updating||this.formatValue()},deep:!0,immediate:!0},options:{handler(s,e){this.returnData(s)},deep:!0}},mounted(){this.maybePushSiteOption()},computed:{returnOrderOptions(){if(this.options.type=="post")return this.orderByOptions;if(this.options.type=="user")return this.orderByOptionsUser;if(this.options.type=="site")return this.orderByOptionsSites},returnMetaSections(){let s={...this.metaSections};return this.options.type!="post"&&(delete s.tax,this.activeSection=="tax"&&(this.activeSection="query")),s}},methods:{async formatValue(){this.updating=!0,this.options=this.isObject(this.value)?{...this.options,...this.value}:{...this.options},await this.$nextTick(),this.updating=!1},maybePushSiteOption(){this.uipApp.data.options.multisite&&(this.queryType.site={value:"site",label:N("Sites","uipress-lite")})},defaultMetaQuery(){return structuredClone({key:"",value:"",compare:"=",type:"CHAR"})},defaultTaxQuery(){return structuredClone({taxonomy:"",value:"",fieldType:"term_id",compare:"=",includeChildren:!0})},returnTaxPostTypes(s){return s.toString()},requestMetaScreen(s){const e={component:"MetaBuilder",value:s,label:this.strings.metaQuery,returnData:o=>{s=o}};this.$emit("request-screen",e)},async addNewMeta(){const s=this.defaultMetaQuery();this.options.metaQuery.push(s),await W();const e=this.options.metaQuery.length-1;let o=this.options.metaQuery[e];this.requestMetaScreen(o)},requestTaxScreen(s){const e={component:"TaxBuilder",value:s,label:this.strings.taxQuery,returnData:o=>{s=o}};this.$emit("request-screen",e)},async addNewTax(){const s=this.defaultTaxQuery();this.options.taxQuery.push(s),await W();const e=this.options.taxQuery.length-1;let o=this.options.taxQuery[e];this.requestTaxScreen(o)},requestOrderByScreen(){const s={component:"OrderByBuilder",value:this.options,label:this.strings.orderBy,returnData:e=>{this.options=e}};this.$emit("request-screen",s)},requestPostTypeScreen(){const s={component:"PostTypeSelect",label:this.strings.postTypes,attributes:{selected:this.options.postType,placeHolder:this.strings.postTypes,searchPlaceHolder:this.strings.searchPostTypes,updateSelected:e=>{this.options.postType=e}}};this.$emit("request-screen",s)},requestPostStatusScreen(){const s={component:"StatusTypeSelect",label:this.strings.postStatus,attributes:{selected:this.options.status,placeHolder:this.strings.postStatus,availableOptions:this.uipApp.data.options.post_statuses,searchPlaceHolder:this.strings.seacrhStatus,updateSelected:e=>{this.options.status=e}}};this.$emit("request-screen",s)},requestRoleSelectScreen(){const s={component:"UserRoleSelect",label:this.strings.roles,attributes:{type:"roles",selected:this.options.roles,placeHolder:this.strings.roles,searchPlaceHolder:this.strings.searchRoles,updateSelected:e=>{this.options.roles=e}}};this.$emit("request-screen",s)}}},fa={class:"uip-flex uip-flex-column uip-row-gap-s"},ma={class:"uip-flex uip-flex-column uip-row-gap-xs uip-padding-left-xs"},ga={class:"uip-grid-col-1-3"},xa={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},va={key:0,class:"uip-grid-col-1-3"},_a={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},ba={key:1,class:"uip-grid-col-1-3"},ya={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},ka={key:2,class:"uip-grid-col-1-3"},wa={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Sa={class:"uip-grid-col-1-3"},Ca={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Da={class:"uip-text-capitalize uip-flex uip-gap-xxs"},Ta=i("span",{class:"uip-text-muted"},"|",-1),Oa={class:"uip-text-muted"},Aa={class:"uip-grid-col-1-3"},Pa={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Va={class:"uip-position-relative uip-flex uip-gap-xs"},Ia={class:"uip-padding-xxs uip-border-rounder uip-background-muted uip-flex uip-gap-xxs uip-no-text-select uip-flex-center"},Ba=i("div",{class:"uip-border-right uip-h-12"},null,-1),$a={class:"uip-grid-col-1-3"},Na={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},La={class:"uip-position-relative uip-flex uip-gap-xs"},qa={class:"uip-padding-xxs uip-border-rounder uip-background-muted uip-flex uip-gap-xxs uip-no-text-select uip-flex-center"},Ua=i("div",{class:"uip-border-right uip-h-12"},null,-1),Ea={class:"uip-grid-col-1-3"},ja={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-padding-top-xxxs uip-flex-start"},Ma={class:"uip-flex uip-flex-column uip-row-gap-xxs"},Ra={class:"uip-flex uip-gap-xs uip-row-gap-xs uip-flex-center"},Fa=["onClick"],Ha={class:"uip-text-muted uip-flex-grow"},Wa={key:0,class:"uip-text-muted"},za=["onClick"],Ga={class:"uip-grid-col-1-3"},Ka={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Ja={class:"uip-position-relative"},Qa={class:"uip-grid-col-1-3"},Xa={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-padding-top-xxxs uip-flex-start"},Ya={class:"uip-flex uip-flex-column uip-row-gap-xxs"},Za={class:"uip-flex uip-gap-xs uip-row-gap-xs uip-flex-center"},ec=["onClick"],tc={class:"uip-flex uip-flex-center uip-flex-grow uip-gap-xxs"},ic={class:"uip-text-muted"},sc={key:0,class:"uip-text-muted"},nc={class:"uip-text-muted"},oc=["onClick"],lc={class:"uip-grid-col-1-3"},rc={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},uc={class:"uip-position-relative"},pc={class:"uip-grid-col-1-3"},ac={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},cc={class:"uip-grid-col-1-3"},dc={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},hc={class:"uip-grid-col-1-3"},fc={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"};function mc(s,e,o,d,t,n){const a=g("toggle-switch"),h=g("PostTypeSelectPreview"),f=g("UserRoleSelectPreview"),c=g("StatusTypeSelectPreview"),m=g("AppIcon"),v=g("switch-select");return r(),p("div",fa,[l(a,{options:n.returnMetaSections,activeValue:t.activeSection,returnValue:x=>{t.activeSection=x}},null,8,["options","activeValue","returnValue"]),i("div",ma,[t.activeSection=="query"?(r(),p(k,{key:0},[i("div",ga,[i("div",xa,[i("span",null,u(t.strings.type),1)]),l(a,{options:t.queryType,activeValue:t.options.type,returnValue:function(x){t.options.type=x}},null,8,["options","activeValue","returnValue"])]),t.options.type=="post"?(r(),p("div",va,[i("div",_a,[i("span",null,u(t.strings.postType),1)]),l(h,{onClick:e[0]||(e[0]=x=>n.requestPostTypeScreen()),selected:t.options.postType,placeHolder:t.strings.postTypes,searchPlaceHolder:t.strings.searchPostTypes,updateSelected:x=>{t.options.postType=x}},null,8,["selected","placeHolder","searchPlaceHolder","updateSelected"])])):b("",!0),t.options.type=="user"?(r(),p("div",ba,[i("div",ya,[i("span",null,u(t.strings.roles),1)]),l(f,{onClick:e[1]||(e[1]=x=>n.requestRoleSelectScreen()),type:"roles",selected:t.options.roles,placeHolder:t.strings.roles,searchPlaceHolder:t.strings.searchRoles,updateSelected:x=>{t.options.roles=x}},null,8,["selected","placeHolder","searchPlaceHolder","updateSelected"])])):b("",!0),t.options.type=="post"?(r(),p("div",ka,[i("div",wa,[i("span",null,u(t.strings.status),1)]),l(c,{onClick:e[2]||(e[2]=x=>n.requestPostStatusScreen()),availableOptions:s.uipApp.data.options.post_statuses,selected:t.options.status,placeHolder:t.strings.postStatus,searchPlaceHolder:t.strings.seacrhStatus,updateSelected:function(x){t.options.status=x}},null,8,["availableOptions","selected","placeHolder","searchPlaceHolder","updateSelected"])])):b("",!0),i("div",Sa,[i("div",Ca,[i("span",null,u(t.strings.order),1)]),i("div",{onClick:e[3]||(e[3]=x=>n.requestOrderByScreen()),class:"uip-background-muted uip-border-rounder uip-padding-xxs uip-padding-left-xs uip-flex uip-gap-xs uip-w-100p uip-pointer-cursor"},[i("div",Da,[i("span",null,u(t.options.orderBy),1),Ta,i("span",Oa,u(t.options.order),1)])])]),i("div",Aa,[i("div",Pa,[i("span",null,u(t.strings.perPage),1)]),i("div",Va,[w(i("input",{type:"number",min:"1",class:"uip-input uip-input-small uip-remove-steps uip-background-remove uip-padding-xxxs uip-flex-grow",style:{width:"30px"},"onUpdate:modelValue":e[4]||(e[4]=x=>t.options.perPage=x)},null,512),[[D,t.options.perPage]]),i("div",Ia,[l(m,{icon:"remove",class:"uip-link-muted uip-icon",onClick:e[5]||(e[5]=x=>t.options.perPage=parseInt(t.options.perPage)-1)}),Ba,l(m,{icon:"add",class:"uip-link-muted uip-icon",onClick:e[6]||(e[6]=x=>t.options.perPage=parseInt(t.options.perPage)+1)})])])]),i("div",$a,[i("div",Na,[i("span",null,u(t.strings.offset),1)]),i("div",La,[w(i("input",{type:"number",min:"0",class:"uip-input uip-input-small uip-remove-steps uip-background-remove uip-padding-xxxs uip-flex-grow",style:{width:"30px"},"onUpdate:modelValue":e[7]||(e[7]=x=>t.options.offset=x)},null,512),[[D,t.options.offset]]),i("div",qa,[l(m,{icon:"remove",class:"uip-link-muted uip-icon",onClick:e[8]||(e[8]=x=>t.options.offset=parseInt(t.options.offset)-1)}),Ua,l(m,{icon:"add",class:"uip-link-muted uip-icon",onClick:e[9]||(e[9]=x=>t.options.offset=parseInt(t.options.offset)+1)})])])])],64)):b("",!0),t.activeSection=="meta"?(r(),p(k,{key:1},[i("div",Ea,[i("div",ja,[i("span",null,u(t.strings.metaQuery),1)]),i("div",Ma,[(r(!0),p(k,null,S(t.options.metaQuery,(x,_)=>(r(),p("div",Ra,[i("div",{onClick:L=>n.requestMetaScreen(x),class:"uip-background-muted uip-border-rounder uip-padding-xxxs uip-padding-left-xs uip-flex uip-flex-center uip-text-s uip-gap-xxs uip-w-100p uip-cursor-pointer"},[i("span",Ha,u(x.type),1),i("span",null,u(x.key),1),x.type&&x.key?(r(),p("span",Wa,"|")):b("",!0),i("a",{onClick:G(L=>t.options.metaQuery.splice(_,1),["prevent","stop"]),class:"uip-link-muted uip-icon uip-border-rounder uip-padding-xxs uip-link-muted"},[l(m,{icon:"close"})],8,za)],8,Fa)]))),256)),i("button",{class:"uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted uip-w-100p uip-text-s",onClick:e[10]||(e[10]=x=>n.addNewMeta())},[l(m,{icon:"add"})])])]),i("div",Ga,[i("div",Ka,[i("span",null,u(t.strings.relation),1)]),i("div",Ja,[l(a,{options:t.relationOptions,activeValue:t.options.relation,returnValue:function(x){t.options.relation=x}},null,8,["options","activeValue","returnValue"])])])],64)):b("",!0),t.activeSection=="tax"?(r(),p(k,{key:2},[i("div",Qa,[i("div",Xa,[i("span",null,u(t.strings.taxQuery),1)]),i("div",Ya,[(r(!0),p(k,null,S(t.options.taxQuery,(x,_)=>(r(),p("div",Za,[i("div",{onClick:L=>n.requestTaxScreen(x),class:"uip-background-muted uip-border-rounder uip-padding-xxxs uip-padding-left-xs uip-flex uip-flex-center uip-text-s uip-gap-xxs uip-w-100p uip-cursor-pointer"},[i("div",tc,[i("span",ic,u(x.fieldType),1),x.taxonomy&&x.fieldType?(r(),p("span",sc,"|")):b("",!0),i("span",nc,u(x.taxonomy),1)]),i("a",{onClick:G(L=>t.options.taxQuery.splice(_,1),["prevent","stop"]),class:"uip-link-muted uip-icon uip-border-rounder uip-padding-xxs uip-link-muted"},[l(m,{icon:"close"})],8,oc)],8,ec)]))),256)),i("button",{class:"uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted uip-w-100p uip-text-s",onClick:e[11]||(e[11]=x=>n.addNewTax())},[l(m,{icon:"add"})])])]),i("div",lc,[i("div",rc,[i("span",null,u(t.strings.relation),1)]),i("div",uc,[l(a,{options:t.relationOptions,activeValue:t.options.taxRelation,returnValue:function(x){t.options.taxRelation=x}},null,8,["options","activeValue","returnValue"])])])],64)):b("",!0),t.activeSection=="settings"?(r(),p(k,{key:3},[i("div",pc,[i("div",ac,[i("span",null,u(t.strings.usersOwnContent),1)]),l(v,{args:{asText:!0},activeValue:t.options.limitToAuthor,returnValue:function(x){t.options.limitToAuthor=x}},null,8,["activeValue","returnValue"])]),i("div",cc,[i("div",dc,[i("span",null,u(t.strings.pagination),1)]),l(a,{options:t.showPagination,activeValue:t.options.showPagination,returnValue:function(x){t.options.showPagination=x}},null,8,["options","activeValue","returnValue"])]),i("div",hc,[i("div",fc,[i("span",null,u(t.strings.search),1)]),l(a,{options:t.showPagination,activeValue:t.options.search,returnValue:function(x){t.options.search=x}},null,8,["options","activeValue","returnValue"])])],64)):b("",!0)])])}const gc=B(ha,[["render",mc]]),{__:Te}=wp.i18n,xc={props:{returnData:Function,value:Object},data(){return{strings:{order:Te("Order","uipress-lite"),orderBy:Te("Order by","uipress-lite"),metaKey:Te("Meta key","uipress-lite")},options:{},orderByOptions:ht,orderByOptionsUser:ft,orderByOptionsSites:mt}},watch:{options:{handler(){this.returnData(this.options)},deep:!0}},computed:{returnOrderOptions(){if(this.options.type=="post")return this.orderByOptions;if(this.options.type=="user")return this.orderByOptionsUser;if(this.options.type=="site")return this.orderByOptionsSites},orderDirectionsOptions(){return{DESC:{value:"DESC",label:Te("Descending","uipress-lite")},ASC:{value:"ASC",label:Te("Ascending","uipress-lite")}}}},created(){this.options=this.value}},vc={class:"uip-grid-col-1-3 uip-padding-left-xs"},_c={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},bc={class:"uip-position-relative"},yc={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},kc={class:"uip-position-relative"},wc=["value"],Sc={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Cc={class:"uip-position-relative"};function Dc(s,e,o,d,t,n){const a=g("toggle-switch");return r(),p("div",vc,[i("div",_c,[i("span",null,u(t.strings.order),1)]),i("div",bc,[l(a,{options:n.orderDirectionsOptions,activeValue:t.options.order,returnValue:function(h){t.options.order=h}},null,8,["options","activeValue","returnValue"])]),i("div",yc,[i("span",null,u(t.strings.orderBy),1)]),i("div",kc,[w(i("select",{class:"uip-input-small uip-padding-top-xxxs uip-padding-bottom-xxxs uip-max-w-100p uip-w-100p uip-border-rounder",style:{"padding-top":"2px","padding-bottom":"2px","border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[0]||(e[0]=h=>t.options.orderBy=h)},[(r(!0),p(k,null,S(n.returnOrderOptions,h=>(r(),p("option",{value:h.value},u(h.label),9,wc))),256))],512),[[X,t.options.orderBy]])]),t.options.orderBy=="meta_value"?(r(),p(k,{key:0},[i("div",Sc,[i("span",null,u(t.strings.metaKey),1)]),i("div",Cc,[w(i("input",{type:"text",min:"0",class:"uip-input uip-remove-steps uip-background-remove uip-padding-xxxs uip-flex-grow","onUpdate:modelValue":e[1]||(e[1]=h=>t.options.orderBykEY=h)},null,512),[[D,t.options.orderBykEY]])])],64)):b("",!0)])}const Tc=B(xc,[["render",Dc]]),{__:Oe}=wp.i18n,Oc={props:{returnData:Function,value:Object},data(){return{strings:{taxonomy:Oe("Taxonomy","uipress-lite"),taxValue:Oe("Tax value","uipress-lite"),field:Oe("Field","uipress-lite"),compare:Oe("Compare","uipress-lite"),includeChildren:Oe("Include children")},tax:{},comparisons:Ye,dataTypes:Ze,fieldTypes:dt}},watch:{tax:{handler(){this.returnData(this.tax)},deep:!0}},mounted(){this.tax=this.value},methods:{returnTaxPostTypes(s){return s.toString()}}},Ac={class:"uip-grid-col-1-3 uip-padding-left-xs"},Pc={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Vc={class:"uip-flex uip-flex-center"},Ic=["value"],Bc={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},$c={class:"uip-flex uip-flex-center"},Nc={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Lc={class:"uip-flex uip-flex-center"},qc=["value"],Uc={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Ec={class:"uip-flex uip-flex-center"},jc=["value"],Mc={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Rc={class:"uip-flex uip-flex-center"};function Fc(s,e,o,d,t,n){const a=g("switch-select");return r(),p("div",Ac,[i("div",Pc,[i("span",null,u(t.strings.taxonomy),1)]),i("div",Vc,[w(i("select",{class:"uip-input-small uip-padding-top-xxxs uip-padding-bottom-xxxs uip-max-w-100p uip-w-100p uip-border-rounder",style:{"padding-top":"2px","padding-bottom":"2px","border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[0]||(e[0]=h=>t.tax.taxonomy=h)},[(r(!0),p(k,null,S(s.uipApp.data.options.taxonomies,h=>(r(),p("option",{value:h.name},u(h.label)+" ("+u(n.returnTaxPostTypes(h.object_type))+") ",9,Ic))),256))],512),[[X,t.tax.taxonomy]])]),i("div",Bc,[i("span",null,u(t.strings.taxValue),1)]),i("div",$c,[w(i("input",{placeholder:"term_1, term_2",type:"text",min:"0",class:"uip-input-small uip-w-100p","onUpdate:modelValue":e[1]||(e[1]=h=>t.tax.value=h)},null,512),[[D,t.tax.value]])]),i("div",Nc,[i("span",null,u(t.strings.field),1)]),i("div",Lc,[w(i("select",{class:"uip-input-small uip-padding-top-xxxs uip-padding-bottom-xxxs uip-max-w-100p uip-w-100p uip-border-rounder",style:{"padding-top":"2px","padding-bottom":"2px","border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[2]||(e[2]=h=>t.tax.fieldType=h)},[(r(!0),p(k,null,S(t.fieldTypes,h=>(r(),p("option",{value:h.value},u(h.label),9,qc))),256))],512),[[X,t.tax.fieldType]])]),i("div",Uc,[i("span",null,u(t.strings.compare),1)]),i("div",Ec,[w(i("select",{class:"uip-input-small uip-padding-top-xxxs uip-padding-bottom-xxxs uip-max-w-100p uip-w-100p uip-border-rounder",style:{"padding-top":"2px","padding-bottom":"2px","border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[3]||(e[3]=h=>t.tax.compare=h)},[(r(!0),p(k,null,S(t.comparisons,h=>(r(),p("option",{value:h.value},u(h.label),9,jc))),256))],512),[[X,t.tax.compare]])]),i("div",Mc,[i("span",null,u(t.strings.includeChildren),1)]),i("div",Rc,[l(a,{args:{asText:!0},activeValue:t.tax.includeChildren,returnValue:h=>{t.tax.includeChildren=h}},null,8,["activeValue","returnValue"])])])}const Hc=B(Oc,[["render",Fc]]),{__:Ue}=wp.i18n,Wc={props:{returnData:Function,value:Object},data(){return{strings:{metaKey:Ue("Meta key","uipress-lite"),metaValue:Ue("Meta value","uipress-lite"),compare:Ue("Compare","uipress-lite"),type:Ue("Type","uipress-lite")},meta:{},comparisons:Ye,dataTypes:Ze}},watch:{meta:{handler(){this.returnData(this.meta)},deep:!0}},mounted(){this.meta=this.value}},zc={class:"uip-grid-col-1-3 uip-padding-left-xs"},Gc={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Kc={class:"uip-flex uip-flex-center"},Jc={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Qc={class:"uip-flex uip-flex-center"},Xc={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Yc={class:"uip-flex uip-flex-center"},Zc=["value"],ed={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},td={class:"uip-flex uip-flex-center"},id=["value"];function sd(s,e,o,d,t,n){return r(),p("div",zc,[i("div",Gc,[i("span",null,u(t.strings.metaKey),1)]),i("div",Kc,[w(i("input",{type:"text",min:"0",class:"uip-input uip-remove-steps uip-background-remove uip-padding-xxxs uip-width-100p","onUpdate:modelValue":e[0]||(e[0]=a=>t.meta.key=a)},null,512),[[D,t.meta.key]])]),i("div",Jc,[i("span",null,u(t.strings.metaValue),1)]),i("div",Qc,[w(i("input",{type:"text",min:"0",class:"uip-input uip-remove-steps uip-background-remove uip-padding-xxxs uip-width-100p","onUpdate:modelValue":e[1]||(e[1]=a=>t.meta.value=a)},null,512),[[D,t.meta.value]])]),i("div",Xc,[i("span",null,u(t.strings.compare),1)]),i("div",Yc,[w(i("select",{class:"uip-input-small uip-padding-top-xxxs uip-padding-bottom-xxxs uip-max-w-100p uip-w-100p uip-border-rounder",style:{"padding-top":"2px","padding-bottom":"2px","border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[2]||(e[2]=a=>t.meta.compare=a)},[(r(!0),p(k,null,S(t.comparisons,a=>(r(),p("option",{value:a.value},u(a.label),9,Zc))),256))],512),[[X,t.meta.compare]])]),i("div",ed,[i("span",null,u(t.strings.type),1)]),i("div",td,[w(i("select",{class:"uip-input-small uip-padding-top-xxxs uip-padding-bottom-xxxs uip-max-w-100p uip-w-100p uip-border-rounder",style:{"padding-top":"2px","padding-bottom":"2px","border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[3]||(e[3]=a=>t.meta.type=a)},[(r(!0),p(k,null,S(t.dataTypes,a=>(r(),p("option",{value:a.value},u(a.label),9,id))),256))],512),[[X,t.meta.type]])])])}const nd=B(Wc,[["render",sd]]),{__:Ae}=wp.i18n,od={components:{ScreenControl:Me,PostTypeSelect:wt,QueryBuilder:gc,MetaBuilder:nd,TaxBuilder:Hc,OrderByBuilder:Tc,StatusTypeSelect:St,UserRoleSelect:Ct},props:{returnData:Function,value:Object,blockSettings:Object,block:Object},data(){return{open:!1,strings:{query:Ae("Query","uipress-lite"),editQuery:Ae("Edit query","uipress-lite"),add:Ae("Add","uipress-lite")},enabledDisabled:{false:{value:!1,label:Ae("Disabled","uipress-lite")},true:{value:!0,label:Ae("Enabled","uipress-lite")}}}},watch:{"block.query.enabled":{async handler(){this.block.query.enabled&&(await W(),this.$refs.queryBuilder.show())},deep:!0}},computed:{returnQueryVal(){return"query"in this.block||(this.block.query={enabled:!1,settings:{}}),this.block.query.enabled},queryFillScreen(){return{component:"QueryBuilder",value:this.block.query.settings,label:this.strings.query,returnData:s=>{this.block.query.settings={...s}}}},emptyBlockQuery(){return!this.returnBlockQueryType&&!this.returnBlockQueryPerPage},returnBlockQueryType(){return this.hasNestedPath(this.block,["query","settings","type"])?this.block.query.settings.type:!1},returnBlockQueryPerPage(){return this.hasNestedPath(this.block,["query","settings","perPage"])?this.block.query.settings.perPage:!1},returnQueryPreviewText(){return this.emptyBlockQuery?this.strings.add:this.returnBlockQueryType+" | "+this.returnBlockQueryPerPage}}},ld={class:"uip-grid-col-1-3"},rd={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-text-s"},ud=i("div",null,null,-1),pd={class:"uip-background-muted uip-border-rounder uip-padding-xxs uip-flex uip-flex-center uip-gap-xs uip-cursor-pointer"},ad={class:"uip-background-primary uip-text-inverse uip-border-round uip-padding-xxxs"},cd={class:"uip-no-wrap uip-flex uip-gap-xxs uip-flex-grow uip-flex-center"},dd={class:"uip-text-muted",key:"add"},hd={class:"uip-padding-s uip-w-260"};function fd(s,e,o,d,t,n){const a=g("toggle-switch"),h=g("AppIcon"),f=g("ScreenControl"),c=g("dropdown");return r(),p("div",ld,[i("div",rd,[i("span",null,u(t.strings.query),1)]),l(a,{options:t.enabledDisabled,activeValue:n.returnQueryVal,returnValue:m=>{o.block.query.enabled=m}},null,8,["options","activeValue","returnValue"]),ud,n.returnQueryVal?(r(),C(c,{key:0,pos:"left center",ref:"queryBuilder",snapX:["#uip-block-settings"],class:"uip-w-100p"},{trigger:y(()=>[i("div",pd,[i("div",ad,[l(h,{icon:"all_inclusive",class:"uip-icon"})]),i("div",cd,[i("span",dd,u(n.returnQueryPreviewText),1)]),i("a",{onClick:e[0]||(e[0]=G(m=>o.block.query.settings={},["prevent","stop"])),class:"uip-link-muted uip-padding-xxxs uip-border-rounder uip-text-s hover:uip-background-muted uip-icon"},[l(h,{icon:"close"})])])]),content:y(()=>[i("div",hd,[l(f,{startScreen:n.queryFillScreen,homeScreen:n.queryFillScreen.component,closer:s.$refs.queryBuilder.close,showNavigation:!0},{componenthandler:y(({processScreen:m,currentScreen:v,goBack:x})=>[(r(),C(ge,null,[(r(),C(ie(v.component),at({onTabChange:e[1]||(e[1]=_=>{s.fillTab=_}),onRequestScreen:_=>{m(_)},onGoBack:_=>x(),returnData:v.returnData,value:v.value,args:v.args},v.attributes),null,16,["onRequestScreen","onGoBack","returnData","value","args"]))],1024))]),_:1},8,["startScreen","homeScreen","closer"])])]),_:1},512)):b("",!0)])}const md=B(od,[["render",fd]]),{__:I}=wp.i18n,gd={inject:["uiTemplate"],components:{CodeEditor:Ge(()=>Ke(()=>import("./index-DV2SW0ST.js"),__vite__mapDeps([0,1,2])))},props:{block:Object},data(){return{blocksearch:"",option:this.returnDefaultOptions,updating:!1,strings:{newinteraction:I("New interaction","uipress-lite"),type:I("Type","uipress-lite"),operator:I("Operator","uipress-lite"),searchUsers:I("Search","uipress-lite"),value:I("Value","uipress-lite"),addinteraction:I("Add interaction","uipress-lite"),editinteraction:I("Edit interaction","uipress-lite"),users:I("Users","uipress-lite"),dateAndTime:I("Date and time","uipress-lite"),site:I("Site","uipress-lite"),action:I("Action","uipress-lite"),defaultActions:I("Default","uipress-lite"),uipressActions:I("uiPress","uipress-lite"),siteActions:I("Site","uipress-lite"),target:I("Target","uipress-lite"),CSSselector:I("CSS selector","uipress-lite"),block:I("Block","uipress-lite"),searchBlocks:I("Search blocks","uipress-lite"),blockSpecific:I("Block specific","uipress-lite"),blockList:I("Block list","uipress-lite"),trigger:I("Trigger","uipress-lite"),key:I("Key","uipress-lite")},interactions:{defaultActions:{showElement:{value:"showElement",label:I("Show element","uipress-lite")},hideElement:{value:"hideElement",label:I("Hide element","uipress-lite")},toggleElementVisibility:{value:"toggleElementVisibility",label:I("Toggle element visibility","uipress-lite")},addAttribute:{value:"addAttribute",label:I("Add attribute","uipress-lite")},removeAttribute:{value:"removeAttribute",label:I("Remove attribute","uipress-lite")},toggleAttribute:{value:"toggleAttribute",label:I("Toggle attribute","uipress-lite")},javascript:{value:"javascript",label:I("Custom javascript","uipress-lite")}},uipressActions:{toggleDarkMode:{value:"toggleDarkMode",label:I("Toggle dark mode","uipress-lite")},toggleMenuCollapse:{value:"toggleMenuCollapse",label:I("Toggle menu collapse","uipress-lite")},toggleFulscreenMode:{value:"toggleFulscreenMode",label:I("Toggle fullscreen mode","uipress-lite")}},siteActions:{toggleScreenOptions:{value:"toggleScreenOptions",label:I("Toggle screen options","uipress-lite")},toggleHelpOptions:{value:"toggleHelpOptions",label:I("Toggle help options","uipress-lite")}}}}},watch:{block:{handler(){this.updating||this.injectProp()},deep:!0,immediate:!0}},computed:{returnAllActions(){return{...this.interactions.defaultActions,...this.interactions.uipressActions,...this.interactions.siteActions}},newInteraction(){return{id:this.createUID(),type:"click",target:"self",action:""}},returnInteractionTypes(){return{click:{value:"click",label:I("Click","uipress-lite")},dblclick:{value:"dblclick",label:I("Double click","uipress-lite")},mouseenter:{value:"mouseenter",label:I("Hover / Mouse enter","uipress-lite")},mouseleave:{value:"mouseleave",label:I("Mouse leave","uipress-lite")},focus:{value:"focus",label:I("Focus","uipress-lite")},blur:{value:"blur",label:I("Blur","uipress-lite")}}},returnTargetTypes(){return{self:{value:"self",label:I("Self","uipress-lite")},selector:{value:"selector",label:I("CSS selector","uipress-lite")},block:{value:"block",label:I("Block","uipress-lite")}}},hasinteractions(){return this.option.interactions?this.option.interactions.length:!1},returnDefaultOptions(){return{relation:"and",interactions:[],blockTarget:""}}},methods:{async injectProp(){this.updating=!0,Array.isArray(this.block.interactions)||(this.block.interactions=[]),await W(),this.updating=!1},async addinteraction(){const s=JSON.parse(JSON.stringify(this.newInteraction));this.block.interactions.push(s),await this.$nextTick(),setTimeout(()=>{const o=this.block.interactions.length-1;this.$refs["interaction"+o][0].show()},100)},removeinteraction(s){this.block.interactions.splice(s,1)},returnActionNiceName(s){return s?this.returnAllActions[s]?this.returnAllActions[s].label:s:""},returnInteractionNiceName(s){return this.returnInteractionTypes[s].label},blockInSearch(s){if(!this.blocksearch)return!0;const e=this.blocksearch.toLowerCase(),o=s.name?s.name.toLowerCase():"",d=s.uid?s.uid.toLowerCase():"";return!!(o.includes(e)||d.includes(e))},returnBlockSpecificActions(s){if(!(s in this.uiTemplate.blockRefs))return!1;const e=this.uiTemplate.blockRefs[s].ref;return"returnPublicMethods"in e?e.returnPublicMethods():!1}}},xd={key:0,class:"uip-flex uip-w-100p uip-flex-column uip-row-gap-xs"},vd={class:"uip-grid-col-1-3"},_d={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},bd={class:"uip-flex uip-flex-row uip-gap-xxs"},yd={class:"uip-padding-xxs uip-padding-left-xs uip-border-rounder uip-text-s uip-background-muted uip-flex-grow uip-text-ellipsis uip-no-wrap uip-overflow-hidden uip-max-w-160"},kd=["onClick"],wd={class:"uip-padding-s uip-flex uip-flex-column uip-row-gap-s"},Sd={class:"uip-flex uip-flex-between uip-flex-center"},Cd={class:"uip-text-emphasis uip-text-bold uip-text-s"},Dd=["onClick"],Td={class:"uip-grid-col-1-3"},Od=i("div",{class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},"ID",-1),Ad={class:"uip-flex uip-flex-center uip-gap-xxs"},Pd=["onUpdate:modelValue"],Vd={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Id={class:"uip-flex uip-flex-center"},Bd=["onUpdate:modelValue"],$d=["value"],Nd={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Ld=["onUpdate:modelValue"],qd=["value"],Ud={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Ed={class:"uip-flex uip-flex-center uip-gap-xxs"},jd=["onUpdate:modelValue"],Md={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Rd={class:"uip-flex uip-flex-center uip-gap-xxs"},Fd={class:"uip-padding-xxs uip-padding-left-xs uip-border-rounder uip-text-s uip-background-muted uip-flex-grow uip-text-ellipsis uip-no-wrap uip-overflow-hidden uip-max-w-160 uip-flex uip-gap-xxxs uip-flex-center"},Hd={key:0,class:"uip-text-muted"},Wd={key:1,class:"uip-overflow-hidden uip-text-ellipsis uip-max-w-140"},zd=["onClick"],Gd={class:"uip-w-260 uip-padding-s uip-flex uip-flex-column uip-row-gap-xs"},Kd={class:"uip-flex uip-flex-between uip-flex-center"},Jd={class:"uip-text-emphasis uip-text-bold uip-text-s"},Qd=["onClick"],Xd=["placeholder"],Yd={class:"uip-flex uip-flex-column uip-max-h-300 uip-overflow-auto"},Zd=["onClick"],eh={class:"uip-text-emphasis"},th={class:"uip-text-muted"},ih={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},sh=["onUpdate:modelValue"],nh=["label"],oh=["value"],lh=["label"],rh=["value"],uh=["label"],ph=["value"],ah=["label"],ch=["value"],dh=i("div",{class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},[i("span",null,"Javascript")],-1),hh={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},fh={class:"uip-flex uip-flex-center uip-gap-xxs"},mh=["onUpdate:modelValue"],gh={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},xh={class:"uip-flex uip-flex-center uip-gap-xxs"},vh=["onUpdate:modelValue"],_h={class:"uip-grid-col-1-3"},bh=i("div",null,null,-1);function yh(s,e,o,d,t,n){const a=g("AppIcon"),h=g("dropdown"),f=g("CodeEditor");return o.block.interactions?(r(),p("div",xd,[(r(!0),p(k,null,S(o.block.interactions,(c,m)=>(r(),C(h,{pos:"left center",class:"uip-w-100p",snapX:["#uip-block-settings"],ref_for:!0,ref:"interaction"+m},{trigger:y(()=>[i("div",vd,[i("div",_d,[i("span",null,u(n.returnInteractionNiceName(c.type)),1)]),i("div",bd,[i("div",yd,u(n.returnActionNiceName(c.action)),1),i("button",{class:"uip-button-default uip-border-rounder uip-icon uip-padding-xxs uip-link-muted",onClick:v=>n.removeinteraction(m)},[l(a,{icon:"close"})],8,kd)])])]),content:y(()=>[i("div",wd,[i("div",Sd,[i("div",Cd,u(t.strings.editinteraction),1),i("div",{onClick:v=>s.$refs["interaction"+m][0].close(),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[l(a,{icon:"close",class:"uip-icon"})],8,Dd)]),i("div",Td,[Od,i("div",Ad,[w(i("input",{type:"text",class:"uip-input-small uip-flex-grow",style:{"min-width":"1px"},"onUpdate:modelValue":v=>c.id=v,disabled:"true"},null,8,Pd),[[D,c.id]])]),i("div",Vd,[i("span",null,u(t.strings.trigger),1)]),i("div",Id,[w(i("select",{"onUpdate:modelValue":v=>c.type=v,class:"uip-input uip-input-small uip-padding-top-xxxs uip-padding-bottom-xxxs uip-max-w-100p uip-w-100p uip-border-rounder",style:{"padding-top":"2px","padding-bottom":"2px","border-radius":"var(--uip-border-radius-large)"}},[(r(!0),p(k,null,S(n.returnInteractionTypes,v=>(r(),p("option",{value:v.value},u(v.label),9,$d))),256))],8,Bd),[[X,c.type]])]),i("div",Nd,[i("span",null,u(t.strings.target),1)]),w(i("select",{class:"uip-input uip-input-small uip-padding-top-xxxs uip-padding-bottom-xxxs uip-max-w-100p uip-w-100p uip-border-rounder","onUpdate:modelValue":v=>c.target=v,style:{"padding-top":"2px","padding-bottom":"2px","border-radius":"var(--uip-border-radius-large)"}},[(r(!0),p(k,null,S(n.returnTargetTypes,v=>(r(),p("option",{value:v.value},u(v.label),9,qd))),256))],8,Ld),[[X,c.target]]),c.target=="selector"?(r(),p(k,{key:0},[i("div",Ud,[i("span",null,u(t.strings.CSSselector),1)]),i("div",Ed,[w(i("input",{type:"text",class:"uip-input-small uip-flex-grow",style:{"min-width":"1px"},placeholder:"#element_id","onUpdate:modelValue":v=>c.selector=v},null,8,jd),[[D,c.selector]])])],64)):b("",!0),c.target=="block"?(r(),p(k,{key:1},[i("div",Md,[i("span",null,u(t.strings.block),1)]),i("div",Rd,[l(h,{pos:"bottom right",class:"uip-flex uip-w-100p",ref_for:!0,ref:"blocksearch_"+m},{trigger:y(()=>[i("div",Fd,[c.blockTarget?(r(),p("span",Wd,u(c.blockTarget),1)):(r(),p("span",Hd,u(t.strings.searchBlocks)+"...",1)),c.blockTarget?(r(),p("a",{key:2,onClick:G(v=>c.blockTarget="",["prevent"]),class:"uip-no-underline uip-border-rounder uip-padding-xxxs uip-link-muted"},[l(a,{icon:"close",class:"uip-icon"})],8,zd)):b("",!0)])]),content:y(()=>[i("div",Gd,[i("div",Kd,[i("div",Jd,u(t.strings.blockList),1),i("div",{onClick:v=>s.$refs["blocksearch_"+m][0].close(),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[l(a,{icon:"close",class:"uip-icon"})],8,Qd)]),w(i("input",{type:"text",class:"uip-input-small uip-flex-grow",placeholder:t.strings.searchBlocks,"onUpdate:modelValue":e[0]||(e[0]=v=>t.blocksearch=v),autofocus:""},null,8,Xd),[[D,t.blocksearch]]),i("div",Yd,[(r(!0),p(k,null,S(n.uiTemplate.blockRefs,v=>(r(),p(k,null,[n.blockInSearch(v)?(r(),p("div",{key:0,onClick:x=>{c.blockTarget=v.uid,s.$refs["blocksearch_"+m][0].close()},class:K([c.blockTarget===v.uid?"uip-background-muted":"hover:uip-background-muted","uip-padding-xxs uip-border-rounder uip-text-s uip-cursor-pointer"])},[i("div",eh,u(v.name),1),i("div",th,u(v.uid),1)],10,Zd)):b("",!0)],64))),256))])])]),_:2},1536)])],64)):b("",!0),i("div",ih,[i("span",null,u(t.strings.action),1)]),w(i("select",{class:"uip-input uip-input-small uip-padding-top-xxxs uip-padding-bottom-xxxs uip-max-w-100p uip-w-100p uip-border-rounder","onUpdate:modelValue":v=>c.action=v,style:{"padding-top":"2px","padding-bottom":"2px","border-radius":"var(--uip-border-radius-large)"}},[i("optgroup",{label:t.strings.defaultActions},[(r(!0),p(k,null,S(t.interactions.defaultActions,v=>(r(),p("option",{value:v.value},u(v.label),9,oh))),256))],8,nh),i("optgroup",{label:t.strings.uipressActions},[(r(!0),p(k,null,S(t.interactions.uipressActions,v=>(r(),p("option",{value:v.value},u(v.label),9,rh))),256))],8,lh),i("optgroup",{label:t.strings.siteActions},[(r(!0),p(k,null,S(t.interactions.siteActions,v=>(r(),p("option",{value:v.value},u(v.label),9,ph))),256))],8,uh),c.target=="block"&&c.blockTarget&&n.returnBlockSpecificActions(c.blockTarget)?(r(),p("optgroup",{key:0,label:t.strings.blockSpecific},[(r(!0),p(k,null,S(n.returnBlockSpecificActions(c.blockTarget),v=>(r(),p("option",{value:"_block_"+v},u(v),9,ch))),256))],8,ah)):b("",!0)],8,sh),[[X,c.action]]),c.action=="javascript"?(r(),p(k,{key:2},[dh,l(f,{value:c.javascript,returnData:v=>{c.javascript=v},args:{language:"javascript"}},null,8,["value","returnData"])],64)):b("",!0),c.action=="toggleAttribute"||c.action=="addAttribute"||c.action=="removeAttribute"?(r(),p(k,{key:3},[i("div",hh,[i("span",null,u(t.strings.key),1)]),i("div",fh,[w(i("input",{type:"text",class:"uip-input-small uip-flex-grow",style:{"min-width":"1px"},placeholder:"class","onUpdate:modelValue":v=>c.key=v},null,8,mh),[[D,c.key]])]),i("div",gh,[i("span",null,u(t.strings.value),1)]),i("div",xh,[w(i("input",{type:"text",class:"uip-input-small uip-flex-grow",style:{"min-width":"1px"},placeholder:"uip-background-primary","onUpdate:modelValue":v=>c.keyvalue=v},null,8,vh),[[D,c.keyvalue]])])],64)):b("",!0)])])]),_:2},1536))),256)),i("div",_h,[bh,i("div",{onClick:e[1]||(e[1]=c=>n.addinteraction()),class:"uip-padding-xxs uip-border-rounder uip-background-muted hover:uip-background-grey uip-cursor-pointer uip-flex uip-flex-middle uip-flex-center uip-gap-xs uip-flex-grow"},[l(a,{icon:"add",class:"uip-icon"})])])])):b("",!0)}const kh=B(gd,[["render",yh]]),{__:Pe}=wp.i18n,wh={props:{returnData:Function,value:Object},data(){return{option:{mobile:!1,tablet:!1,desktop:!1},updating:!1,strings:{mobile:Pe("Mobile","uipress-lite"),tablet:Pe("Tablet","uipress-lite"),desktop:Pe("Desktop","uipress-lite")},options:{false:{value:!1,label:Pe("Show","uipress-lite")},true:{value:!0,label:Pe("Hide","uipress-lite")}}}},watch:{value:{handler(s,e){this.updating||this.formatValue()},deep:!0,immediate:!0},option:{handler(s,e){this.updating||this.updateOptions()},deep:!0}},computed:{returnDefault(){return{mobile:!1,tablet:!1,desktop:!1}}},methods:{async formatValue(){this.updating=!0,this.option=this.isObject(this.value)?{...this.returnDefault,...this.value}:{...this.returnDefault},await this.$nextTick(),this.updating=!1},updateOptions(){let s={...this.option};this.returnData(s)}}},Sh={class:"uip-flex uip-flex-column uip-row-gap-xs"},Ch={class:"uip-grid-col-1-3"},Dh={class:"uip-text-muted uip-flex uip-flex-center"},Th={class:"uip-flex uip-gap-xs uip-flex-center uip-text-s"},Oh={class:""},Ah={class:"uip-position-relative"},Ph={class:"uip-grid-col-1-3"},Vh={class:"uip-text-muted uip-flex uip-flex-center"},Ih={class:"uip-flex uip-gap-xs uip-flex-center uip-text-s"},Bh={class:""},$h={class:"uip-position-relative"},Nh={class:"uip-grid-col-1-3"},Lh={class:"uip-text-muted uip-flex uip-flex-center"},qh={class:"uip-flex uip-gap-xs uip-flex-center uip-text-s"},Uh={class:""},Eh={class:"uip-position-relative"};function jh(s,e,o,d,t,n){const a=g("AppIcon"),h=g("toggle-switch");return r(),p("div",Sh,[i("div",Ch,[i("div",Dh,[i("div",Th,[l(a,{icon:"smartphone",class:"uip-icon uip-icon-medium"}),i("div",Oh,u(t.strings.mobile),1)])]),i("div",Ah,[l(h,{options:t.options,activeValue:t.option.mobile,returnValue:function(f){t.option.mobile=f}},null,8,["options","activeValue","returnValue"])])]),i("div",Ph,[i("div",Vh,[i("div",Ih,[l(a,{icon:"tablet",class:"uip-icon uip-icon-medium"}),i("div",Bh,u(t.strings.tablet),1)])]),i("div",$h,[l(h,{options:t.options,activeValue:t.option.tablet,returnValue:function(f){t.option.tablet=f}},null,8,["options","activeValue","returnValue"])])]),i("div",Nh,[i("div",Lh,[i("div",qh,[l(a,{icon:"desktop_windows",class:"uip-icon uip-icon-medium"}),i("div",Uh,u(t.strings.desktop),1)])]),i("div",Eh,[l(h,{options:t.options,activeValue:t.option.desktop,returnValue:function(f){t.option.desktop=f}},null,8,["options","activeValue","returnValue"])])])])}const Mh=B(wh,[["render",jh]]),{__:ze}=wp.i18n,Rh={props:{returnData:Function,value:String,placeHolder:String,args:Object,size:String},data(){return{option:"",userInput:"",selected:[],rendered:!1,search:"",allRules:[],updating:!1,strings:{manualPlaceHolder:ze("Classes","uipress-lite"),searchClasses:ze("Search classes","uipress-lite"),search:ze("Search","uipress-lite")}}},watch:{value:{handler(s,e){this.updating||this.parseInput()},deep:!0,immediate:!0},option:{handler(s,e){this.updating||this.returnData(this.option)},deep:!0},userInput:{handler(s,e){if(!s||!this.rendered||!s.includes(" "))return;let o=s.split(" ");for(const d of o)d&&this.selected.push(d);this.userInput=""}},selected:{handler(s,e){this.returnData(this.selected.join(" "))},deep:!0}},created(){this.getClassNames()},async mounted(){await this.$nextTick(),this.rendered=!0},computed:{allClasses(){return this.allRules}},methods:{async parseInput(){if(this.updating=!0,this.selected=[],this.option=this.value&&typeof this.value<"u"?this.value:"",!this.option.includes(" ")&&this.option!=""){this.selected.push(this.option),await this.$nextTick(),this.updating=!1;return}const s=this.option.split(" ");for(const e of s)e&&this.selected.push(e);await this.$nextTick(),this.updating=!1},submiteNewClass(s){let e=this.userInput;if(!e)return;if(!e.includes(" ")){this.selected.push(e),this.userInput="";return}let o=e.split(" ");for(const d of o)d&&this.selected.push(d);this.userInput=""},getClassNames(){const s=[],e=Array.from(document.styleSheets);for(const d of e){let t;try{t=Array.from(d.cssRules)}catch{continue}for(const n of t){const a=n.selectorText;if(!this.isValidClassSelector(a))continue;const h=a.slice(1);s.push(h)}}s.sort();const o=this.uipApp.data?this.uipApp.data.options.customClasses:[];Array.isArray(o)&&(o.sort(),s.unshift(...o)),this.allRules=[...new Set(s)]},isValidClassSelector(s){if(!s)return!1;const o=["::"," ","[",">",":","~","#"].some(d=>s.includes(d));return s.startsWith(".")&&!o&&!s.slice(1).includes(".")},removeSelected(s){this.selected.splice(s,1)},inSearch(s){if(!this.search)return!0;let e=s.toLowerCase(),o=this.search.toLowerCase();if(e.includes(o))return!0}}},Fh={class:"uip-flex uip-flex-column uip-gap-xs uip-w-100p"},Hh={class:"uip-flex uip-gap-xxs uip-w-100p uip-flex-wrap uip-flex-center"},Wh={class:"uip-button-default uip-border-rounder uip-padding-xxs uip-link-muted"},zh={class:"uip-flex uip-flex-column uip-row-gap-s uip-padding-s uip-w-240"},Gh={class:"uip-flex uip-flex-between uip-flex-center"},Kh={class:"uip-text-emphasis uip-text-bold uip-text-s"},Jh={class:"uip-flex uip-background-muted uip-border-rounder uip-padding-xxs uip-flex-center"},Qh=["placeholder"],Xh={class:"uip-flex uip-flex-column uip-max-h-400",style:{overflow:"auto"}},Yh=["onClick"],Zh={class:""},ef=["placeholder"],tf={key:0,class:"uip-flex uip-gap-xxs uip-w-100p uip-flex-wrap"},sf={class:"uip-padding-left-xs uip-padding-right-xs uip-background-muted uip-border-rounder hover:uip-background-grey uip-flex uip-gap-xxs uip-flex-center uip-text-s"},nf={class:""},of=["onClick"];function lf(s,e,o,d,t,n){const a=g("AppIcon"),h=g("dropdown");return r(),p("div",Fh,[i("div",Hh,[l(h,{pos:"left center",snapX:["#uip-block-settings","#uip-template-settings","#uip-global-settings"],ref:"classDrop"},{trigger:y(()=>[i("div",Wh,[l(a,{icon:"search"})])]),content:y(()=>[i("div",zh,[i("div",Gh,[i("div",Kh,u(t.strings.searchClasses),1),i("div",{onClick:e[0]||(e[0]=G(f=>s.$refs.classDrop.close(),["prevent","stop"])),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[l(a,{icon:"close",class:"uip-icon"})])]),i("div",Jh,[l(a,{icon:"search",class:"uip-icon uip-text-muted uip-margin-right-xs"}),w(i("input",{class:"uip-blank-input uip-flex-grow uip-text-s",type:"search",placeholder:t.strings.search,"onUpdate:modelValue":e[1]||(e[1]=f=>t.search=f),autofocus:""},null,8,Qh),[[D,t.search]])]),i("div",Xh,[(r(!0),p(k,null,S(n.allClasses,f=>(r(),p(k,null,[n.inSearch(f)?(r(),p("div",{key:0,class:"uip-link-muted uip-flex-between uip-flex uip-padding-xxs uip-border-rounder hover:uip-background-muted uip-flex-center",onClick:c=>t.selected.push(f)},[i("div",Zh,u(f),1),l(a,{icon:"add",class:"uip-icon"})],8,Yh)):b("",!0)],64))),256))])])]),_:1},512),w(i("input",{type:"text",class:"uip-input-small uip-flex-grow","onUpdate:modelValue":e[2]||(e[2]=f=>t.userInput=f),onKeyup:e[3]||(e[3]=Dt(G(f=>n.submiteNewClass(f),["prevent"]),["enter"])),placeholder:t.strings.manualPlaceHolder},null,40,ef),[[D,t.userInput]])]),t.selected.length?(r(),p("div",tf,[(r(!0),p(k,null,S(t.selected,(f,c)=>(r(),p("div",sf,[i("span",nf,u(f),1),i("a",{class:"uip-link-muted uip-no-underline uip-icon",onClick:m=>n.removeSelected(c)},[l(a,{icon:"close"})],8,of)]))),256))])):b("",!0)])}const rf=B(Rh,[["render",lf]]),{__:U}=wp.i18n,uf={props:{returnData:Function,value:[String,Array,Object],placeHolder:String,args:Object,size:String},data(){return{option:this.returnDefaultOptions,updating:!1,strings:{newCondition:U("New condition","uipress-lite"),type:U("Type","uipress-lite"),operator:U("Operator","uipress-lite"),searchUsers:U("Search","uipress-lite"),value:U("Value","uipress-lite"),addCondition:U("Add condition","uipress-lite"),editCondition:U("Edit condition","uipress-lite"),users:U("Users","uipress-lite"),dateAndTime:U("Date and time","uipress-lite"),site:U("Site","uipress-lite")},newCondition:{type:"userrole",operator:"is",value:""},conditions:{relations:{and:{value:"and",label:U("And","uipress-lite")},or:{value:"or",label:U("Or","uipress-lite")}},operators:{is:{value:"is",label:U("Is (===)","uipress-lite"),shortHand:"==="},isnot:{value:"isnot",label:U("Is not (!=)","uipress-lite"),shortHand:"!=="},contains:{value:"contains",label:U("Contains","uipress-lite"),shortHand:"contains"}},numericalOperators:{greaterThan:{value:"greaterThan",label:U("Greater than (>)","uipress-lite"),shortHand:">"},greaterThanEqualTo:{value:"greaterThanEqualTo",label:U("Greater than or equal to (>=)","uipress-lite"),shortHand:">="},lessThan:{value:"lessThan",label:U("Less than (<)","uipress-lite"),shortHand:"<"},lessThanEqualTo:{value:"lessThanEqualTo",label:U("Less than or equal to (<=)","uipress-lite"),shortHand:"<="}}}}},watch:{value:{handler(){this.updating||this.injectProp()},deep:!0,immediate:!0},option:{handler(s,e){this.updating||this.returnData(this.option)},deep:!0}},computed:{returnAllOperators(){return{...this.conditions.operators,...this.conditions.numericalOperators}},returnUserTypes(){return[{value:"userrole",label:U("User role","uipress-lite")},{value:"userlogin",label:U("User login","uipress-lite")},{value:"userid",label:U("User ID","uipress-lite")},{value:"useremail",label:U("User email","uipress-lite")}]},returnDateTypes(){return[{value:"weekday",label:U("Weekday (EN)","uipress-lite")},{value:"date",label:U("Date (YYYY-MM-DD)","uipress-lite")},{value:"time",label:U("Time (HH:MM)","uipress-lite")}]},returnSiteTypes(){return[{value:"siteTitle",label:U("Site title","uipress-lite")},{value:"siteURL",label:U("Site URL","uipress-lite")},{value:"adminURL",label:U("Admin URL","uipress-lite")},{value:"currentPageName",label:U("Current page name","uipress-lite")},{value:"currentURL",label:U("Current URL","uipress-lite")},{value:"locale",label:U("Language (en-US)","uipress-lite")},{value:"pluginActive",label:U("Plugin is active (uipress-lite)","uipress-lite")},{value:"notificationCount",label:U("Notification count","uipress-lite")},{value:"darkMode",label:U("Dark mode (true | false)","uipress-lite")}]},hasConditions(){return this.option.conditions?this.option.conditions.length:!1},returnDefaultOptions(){return{relation:"and",conditions:[]}}},methods:{returnOperators(s){return["date","time","userid","notificationCount"].includes(s)?{...this.conditions.operators,...this.conditions.numericalOperators}:this.conditions.operators},async injectProp(){this.updating=!0,this.option=this.isObject(this.value)?this.value:{relation:"and",conditions:[]},await W(),this.updating=!1},async addCondition(){const s=JSON.parse(JSON.stringify(this.newCondition));this.option.conditions.push(s),await this.$nextTick(),setTimeout(()=>{const o=this.option.conditions.length-1;this.$refs["condition"+o][0].show()},100)},removeCondition(s){this.option.conditions.splice(s,1)},handleUserReturn(s,e){e.value=s},maybeShowUserSearch(s){return!!this.returnUserTypes.find(o=>o.value===s)}}},pf={class:"uip-flex uip-w-100p uip-flex-column uip-row-gap-xs"},af={class:"uip-flex uip-flex-row uip-gap-xxs"},cf={class:"uip-padding-xxs uip-border-rounder uip-text-s uip-background-muted uip-flex-grow uip-text-ellipsis uip-no-wrap uip-overflow-hidden uip-max-w-160"},df=["onClick"],hf={class:"uip-padding-s uip-flex uip-flex-column uip-row-gap-s"},ff={class:"uip-flex uip-flex-between uip-flex-center"},mf={class:"uip-text-emphasis uip-text-bold uip-text-s"},gf=["onClick"],xf={class:"uip-grid-col-1-3"},vf={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},_f={class:"uip-flex uip-flex-center"},bf=["onUpdate:modelValue"],yf=["label"],kf=["value"],wf=["label"],Sf=["value"],Cf=["label"],Df=["value"],Tf={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Of=["onUpdate:modelValue"],Af=["value"],Pf={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Vf={class:"uip-flex uip-flex-center uip-gap-xxs"},If=["onUpdate:modelValue"];function Bf(s,e,o,d,t,n){const a=g("AppIcon"),h=g("user-role-search"),f=g("dropdown"),c=g("toggle-switch");return r(),p("div",pf,[(r(!0),p(k,null,S(t.option.conditions,(m,v)=>(r(),C(f,{pos:"left center",class:"uip-w-100p",snapX:["#uip-block-settings"],ref_for:!0,ref:"condition"+v},{trigger:y(()=>[i("div",af,[i("div",cf,u(m.type)+" "+u(n.returnAllOperators[m.operator].shortHand)+" "+u(m.value),1),i("button",{class:"uip-button-default uip-border-rounder uip-padding-xxs uip-link-muted",onClick:x=>n.removeCondition(v)},[l(a,{icon:"close"})],8,df)])]),content:y(()=>[i("div",hf,[i("div",ff,[i("div",mf,u(t.strings.editCondition),1),i("div",{onClick:x=>s.$refs["condition"+v][0].close(),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[l(a,{icon:"close"})],8,gf)]),i("div",xf,[i("div",vf,[i("span",null,u(t.strings.type),1)]),i("div",_f,[w(i("select",{"onUpdate:modelValue":x=>m.type=x,class:"uip-input uip-input-small uip-padding-top-xxxs uip-padding-bottom-xxxs uip-max-w-100p uip-w-100p uip-border-rounder",style:{"padding-top":"2px","padding-bottom":"2px","border-radius":"var(--uip-border-radius-large)"}},[i("optgroup",{label:t.strings.users},[(r(!0),p(k,null,S(n.returnUserTypes,x=>(r(),p("option",{value:x.value},u(x.label),9,kf))),256))],8,yf),i("optgroup",{label:t.strings.dateAndTime},[(r(!0),p(k,null,S(n.returnDateTypes,x=>(r(),p("option",{value:x.value},u(x.label),9,Sf))),256))],8,wf),i("optgroup",{label:t.strings.site},[(r(!0),p(k,null,S(n.returnSiteTypes,x=>(r(),p("option",{value:x.value},u(x.label),9,Df))),256))],8,Cf)],8,bf),[[X,m.type]])]),i("div",Tf,[i("span",null,u(t.strings.operator),1)]),w(i("select",{class:"uip-input uip-input-small uip-padding-top-xxxs uip-padding-bottom-xxxs uip-max-w-100p uip-w-100p uip-border-rounder","onUpdate:modelValue":x=>m.operator=x,style:{"padding-top":"2px","padding-bottom":"2px","border-radius":"var(--uip-border-radius-large)"}},[(r(!0),p(k,null,S(n.returnOperators(m.type),x=>(r(),p("option",{value:x.value},u(x.label),9,Af))),256))],8,Of),[[X,m.operator]]),i("div",Pf,[i("span",null,u(t.strings.value),1)]),i("div",Vf,[w(i("input",{type:"text",class:"uip-input-small uip-flex-grow",style:{"min-width":"1px"},"onUpdate:modelValue":x=>m.value=x},null,8,If),[[D,m.value]]),n.maybeShowUserSearch(m.type)?(r(),C(h,{key:0,selected:[],returnType:m.type,searchPlaceHolder:t.strings.searchUsers,updateSelected:x=>n.handleUserReturn(x,m)},null,8,["returnType","searchPlaceHolder","updateSelected"])):b("",!0)])])])]),_:2},1536))),256)),n.hasConditions?(r(),C(c,{key:0,options:t.conditions.relations,activeValue:t.option.relation,dontAccentActive:!0,returnValue:function(m){t.option.relation=m}},null,8,["options","activeValue","returnValue"])):b("",!0),i("div",{onClick:e[0]||(e[0]=m=>n.addCondition()),class:"uip-padding-xxs uip-border-rounder uip-background-muted hover:uip-background-grey uip-cursor-pointer uip-flex uip-flex-middle uip-flex-center uip-gap-xs uip-flex-grow"},[l(a,{icon:"add"})])])}const $f=B(uf,[["render",Bf]]),{__:R}=wp.i18n,Nf={inject:["uiTemplate"],components:{QueryBuilder:md,Interactions:kh,responsiveControls:Mh,Classes:rf,Conditions:$f,BlockStyleHandler:da,BlockParts:Bn,StylePresets:xn,ToggleSection:jn,CodeEditor:Ge(()=>Ke(()=>import("./index-DV2SW0ST.js"),__vite__mapDeps([0,1,2]))),"code-editor":Ge(()=>Ke(()=>import("./index-DV2SW0ST.js"),__vite__mapDeps([0,1,2])))},data(){return{block:{},uid:this.$route.params.uid,section:"settings",loading:!0,activeTab:!1,showSettings:!1,activePart:"root",strings:{blockID:R("ID","uipress-lite"),proOption:R("This is a pro option. Upgrade to unlock","uipress-lite"),options:R("Options","uipress-lite"),hiddenOnDevice:R("Hidden on device","uipress-lite"),tooltip:R("Tooltip","uipress-lite"),tooltipMessage:R("Message","uipress-lite"),styles:R("Styles","uipress-lite"),queryLoop:R("Query loop","uipress-lite"),query:R("Query","uipress-lite"),none:R("None","uipress-lite"),name:R("Name","uipress-lite"),link:R("Link","uipress-lite"),general:R("General","uipress-lite"),layout:R("Layout","uipress-lite"),size:R("Size","uipress-lite"),style:R("Style","uipress-lite"),spacing:R("Spacing","uipress-lite"),text:R("Text","uipress-lite"),position:R("Position","uipress-lite"),effects:R("Effects","uipress-lite"),general:R("General","uipress-lite"),code:R("Code","uipress-lite"),classes:R("Classes","uipress-lite"),conditions:R("Conditions","uipress-lite"),content:R("Content","uipress-lite"),interactions:R("Interactions","uipress-lite")},optionsSections:{settings:{value:"settings",label:R("Settings","uipress-lite")},style:{value:"style",label:R("Style","uipress-lite")},advanced:{value:"advanced",label:R("Advanced","uipress-lite")}}}},created(){this.uipApp.blockSettings=this},computed:{maybeShowInteractionPanel(){return this.block.interactions?this.block.interactions.length:!1},returnBlockRealName(){const s=this.block.moduleName,o=this.uipApp.data.blocks.find(d=>d.moduleName===s);return o?o.name:this.block.name},returnBlockQuerySettings(){return this.block.query||(this.block.query={settings:{}}),this.block.query.settings},returnBlockOptions(){const s=this.block.moduleName,o=this.uipApp.data.blocks.find(n=>n.metadata.moduleName===s);if(!o)return[];const d=o.metadata.optionsEnabled,t=d.findIndex(n=>n.name==="block");return t<0?[]:d[t].options}},methods:{async show(s,e){this.block=s,this.activePart="root",await W(),this.showSettings=!0,this.loading=!1,e&&(this.section=e)},close(){this.showSettings=!1,this.block=null},componentExists(s){return!!(this.$root._.appContext.components[s]||s=="code-editor")},optionFullWidth(s){return this.hasNestedPath(s,"args","fullWidth")},handleActiveTabChange(s){this.section=s;const e={query:{...this.$route.query,section:this.section}};this.$router.push(e)},returnBlockStylePart(s){const e=this.activePart=="root"?"style":this.activePart,o=this.hasNestedPath(this.block,"settings",e,"preset"),d=this.uipApp.data.options.block_preset_styles;if(o&&this.isObject(d)&&o in d){const t=d[o];return this.ensureNestedObject(t,"preset","options",s),t.preset.options[s]}return this.ensureNestedObject(this.block,"settings",e,"options",s),this.block.settings[e].options[s]},isAvailable(s){return!!(!s.requiresUpgrade||this.uiTemplate.proActivated)},returnBlockSettingValue(s){const e=this.hasNestedPath(this.block,"settings","block","options");if(!e)return;const o=s.uniqueKey?s.uniqueKey:s.option;if(o in e)return e[o].value},handleBlockSettingUpdate(s,e){const o=s.uniqueKey?s.uniqueKey:s.option;this.ensureNestedObject(this.block,"settings","block","options",o),this.block.settings.block.options[o].value=e},returnAdvancedValue(s){const e=this.hasNestedPath(this.block,"settings","advanced","options");if(e&&s in e)return e[s].value},handleBlockAdavancedUpdate(s,e){this.ensureNestedObject(this.block,"settings","advanced","options",s),this.block.settings.advanced.options[s].value=e},returnBlockPseudo(s){const e=this.activePart=="root"?"style":this.activePart,o=this.hasNestedPath(this.block,"settings",e,s);return o||""},handleBlockPseudoChange(s,e){const o=this.activePart=="root"?"style":this.activePart;this.ensureNestedObject(this.block,"settings",o,e),this.block.settings[o][e]=s}}},Lf={key:0,id:"uip-block-settings",class:"uip-position-fixed uip-top-80 uip-right-16 uip-bottom-16 uip-background-default uip-w-320 uip-flex uip-flex-column uip-row-gap-s uip-fade-in uip-shadow",style:{"border-radius":"calc(var(--uip-border-radius-large) + var(--uip-padding-xs))","z-index":"2",overflow:"auto"}},qf={class:"uip-flex uip-flex-column uip-gap-s uip-padding-s"},Uf={class:"uip-flex uip-flex-between uip-flex-center"},Ef={class:"uip-flex uip-flex-column"},jf={class:"uip-text-bold uip-blank-input uip-text-l uip-text-emphasis"},Mf={key:0,class:"uip-flex uip-flex-column uip-gap-s"},Rf={class:"uip-grid-col-1-3"},Ff={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Hf={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Wf={class:"uip-flex uip-flex-center uip-background-muted uip-border-rounder uip-padding-xxxs uip-padding-left-xs uip-padding-right-xxs uip-overflow-hidden"},zf={class:"uip-blank-input uip-text-s uip-flex-grow uip-overflow-hidden uip-text-ellipsis uip-no-wrap"},Gf={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-max-h-30"},Kf={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Jf=i("div",{class:"uip-border-top"},null,-1),Qf={key:1,class:"uip-grid-col-1-3"},Xf={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Yf={class:"uip-padding-xxs uip-border-rounder uip-background-green-wash uip-text-s"},Zf=i("div",{class:"uip-border-top"},null,-1),em={key:1,class:"uip-grid-col-1-3"},tm={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},im={class:"uip-padding-xxs uip-border-rounder uip-background-green-wash uip-text-s"},sm=i("div",{class:"uip-border-top"},null,-1),nm={key:0,class:"uip-border-top"},om={class:"uip-flex uip-flex-column uip-row-gap-xs"},lm={key:0,class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-h-30 uip-gap-xs uip-position-relative"},rm={class:"uip-text-s uip-padding-xs uip-max-w-200"},um={class:"uip-flex uip-flex-center uip-w-100p"},pm={key:1,class:"uip-padding-xxs uip-border-rounder uip-background-green-wash uip-text-s"},am={key:1,class:"uip-flex uip-flex-column uip-gap-s"},cm={class:"uip-grid-col-1-3"},dm={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-padding-top-xxs uip-flex-start"},hm={class:"uip-grid-col-1-3"},fm={class:"uip-text-muted uip-flex uip-flex-center uip-text-s uip-padding-top-xxs uip-flex-start"},mm={class:"uip-grid-col-1-3"},gm=i("div",{class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},[i("span",null,"css")],-1),xm=i("div",{class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},[i("span",null,"Javscript")],-1),vm={key:2,class:"uip-flex uip-flex-column uip-gap-s"},_m=i("div",{class:"uip-border-top"},null,-1),bm=i("div",{class:"uip-border-top"},null,-1),ym=i("div",{class:"uip-border-top"},null,-1),km=i("div",{class:"uip-border-top"},null,-1),wm=i("div",{class:"uip-border-top"},null,-1),Sm=i("div",{class:"uip-border-top"},null,-1),Cm={class:"uip-grid-col-1-3"},Dm=i("div",{class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},[i("span",null,"::before")],-1),Tm=i("div",{class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},[i("span",null,"::after")],-1),Om=i("div",{class:"uip-border-top"},null,-1),Am=i("div",{class:"uip-border-top"},null,-1),Pm=i("div",{class:"uip-border-top"},null,-1);function Vm(s,e,o,d,t,n){const a=g("AppIcon"),h=g("toggle-switch"),f=g("link-select"),c=g("ToggleSection"),m=g("QueryBuilder"),v=g("Interactions"),x=g("responsiveControls"),_=g("dropdown"),L=g("Classes"),P=g("Conditions"),E=g("CodeEditor"),xe=g("BlockParts"),se=g("StylePresets"),oe=g("BlockStyleHandler"),Be=g("uip-input");return t.showSettings?(r(),p("div",Lf,[i("div",qf,[i("div",Uf,[i("div",Ef,[i("div",jf,u(n.returnBlockRealName),1)]),l(a,{class:"uip-link-muted hover:uip-background-muted uip-border-rounder uip-icon uip-padding-xxs",onClick:e[0]||(e[0]=q=>n.close()),icon:"close"})]),l(h,{options:t.optionsSections,activeValue:t.section,returnValue:n.handleActiveTabChange,class:"uip-margin-bottom-xxs"},null,8,["options","activeValue","returnValue"]),t.section=="settings"?(r(),p("div",Mf,[l(c,{title:t.strings.general,startOpen:!0},{default:y(()=>[i("div",Rf,[i("div",Ff,[i("span",null,u(t.strings.name),1)]),w(i("input",{class:"uip-input uip-input-small",type:"text","onUpdate:modelValue":e[1]||(e[1]=q=>t.block.name=q)},null,512),[[D,t.block.name]]),i("div",Hf,[i("span",null,u(t.strings.blockID),1)]),i("div",Wf,[i("div",zf,u(t.block.uid),1),l(a,{icon:"content_copy",class:"uip-icon uip-link-muted",onClick:e[2]||(e[2]=q=>s.copyToClipboard(t.block.uid))})]),i("div",Gf,[i("span",null,u(t.strings.link),1)]),l(f,{value:t.block.linkTo,returnData:q=>{t.block.linkTo=q}},null,8,["value","returnData"]),i("div",Kf,[i("span",null,u(t.strings.tooltip),1)]),w(i("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=q=>t.block.tooltip.message=q),class:"uip-input uip-input-small"},null,512),[[D,t.block.tooltip.message]])])]),_:1},8,["title"]),Jf,l(c,{title:t.strings.queryLoop},{default:y(()=>[n.uiTemplate.proActivated?(r(),C(m,{key:0,block:t.block,value:n.returnBlockQuerySettings},null,8,["block","value"])):(r(),p("div",Qf,[i("div",Xf,[i("span",null,u(t.strings.queryLoop),1)]),i("div",Yf,u(t.strings.proOption),1)]))]),_:1},8,["title"]),Zf,l(c,{title:t.strings.interactions,startOpen:n.maybeShowInteractionPanel},{default:y(()=>[n.uiTemplate.proActivated?(r(),C(v,{key:0,block:t.block},null,8,["block"])):(r(),p("div",em,[i("div",tm,[i("span",null,u(t.strings.queryLoop),1)]),i("div",im,u(t.strings.proOption),1)]))]),_:1},8,["title","startOpen"]),sm,l(c,{title:t.strings.hiddenOnDevice},{default:y(()=>[l(x,{value:t.block.responsive,returnData:q=>{t.block.responsive=q}},null,8,["value","returnData"])]),_:1},8,["title"]),n.returnBlockOptions.length?(r(),p("div",nm)):b("",!0),n.returnBlockOptions.length?(r(),C(c,{key:1,title:t.strings.options,startOpen:!0},{default:y(()=>[i("div",om,[(r(!0),p(k,null,S(n.returnBlockOptions,q=>(r(),p("div",{class:K(n.optionFullWidth(q)?"uip-flex uip-flex-column uip-row-gap-xxs":"uip-grid-col-1-3")},[n.optionFullWidth(q)?b("",!0):(r(),p("div",lm,[l(_,{pos:"left center",openOnHover:!0,snapX:["#uip-block-settings"],hover:!0},Tt({trigger:y(()=>[i("span",{class:K(q.help?"uip-text-underline":"")},u(q.label),3)]),_:2},[q.help?{name:"content",fn:y(()=>[i("div",rm,u(q.help),1)]),key:"0"}:void 0]),1024)])),i("div",um,[n.componentExists(q.componentName)&&n.isAvailable(q)?(r(),C(ie(q.componentName),at({key:0,ref_for:!0},q,{value:n.returnBlockSettingValue(q),returnData:Re=>n.handleBlockSettingUpdate(q,Re)}),null,16,["value","returnData"])):(r(),p("div",pm,u(t.strings.proOption),1))])],2))),256))])]),_:1},8,["title"])):b("",!0)])):b("",!0),t.section=="advanced"?(r(),p("div",am,[l(c,{title:t.strings.classes,startOpen:!0},{default:y(()=>[i("div",cm,[i("div",dm,[i("span",null,u(t.strings.classes),1)]),l(L,{value:n.returnAdvancedValue("classes"),returnData:q=>{n.handleBlockAdavancedUpdate("classes",q)}},null,8,["value","returnData"])])]),_:1},8,["title"]),l(c,{title:t.strings.conditions,startOpen:!0},{default:y(()=>[i("div",hm,[i("div",fm,[i("span",null,u(t.strings.conditions),1)]),l(P,{value:n.returnAdvancedValue("conditions"),returnData:q=>{n.handleBlockAdavancedUpdate("conditions",q)}},null,8,["value","returnData"])])]),_:1},8,["title"]),l(c,{title:t.strings.code,startOpen:!0},{default:y(()=>[i("div",mm,[gm,l(E,{args:{language:"css"},value:n.returnAdvancedValue("css"),returnData:q=>{n.handleBlockAdavancedUpdate("css",q)}},null,8,["value","returnData"]),xm,l(E,{args:{language:"javascript"},value:n.returnAdvancedValue("js"),returnData:q=>{n.handleBlockAdavancedUpdate("js",q)}},null,8,["value","returnData"])])]),_:1},8,["title"])])):b("",!0),t.section=="style"?(r(),p("div",vm,[l(xe,{block:t.block,activePart:t.activePart,onUpdate:e[4]||(e[4]=q=>{t.activePart=q})},null,8,["block","activePart"]),l(se,{activePart:t.activePart,block:t.block},null,8,["activePart","block"]),_m,l(oe,{startOpen:!!t.block.content,styleSettings:n.returnBlockStylePart("flexLayout"),component:"flexLayout",styleName:"flexLayout",title:t.strings.layout},null,8,["startOpen","styleSettings","title"]),bm,l(oe,{startOpen:!0,styleName:"dimensions",styleSettings:n.returnBlockStylePart("dimensions"),component:"Dimensions",title:t.strings.size},null,8,["styleSettings","title"]),ym,l(oe,{startOpen:!0,styleName:"styles",styleSettings:n.returnBlockStylePart("styles"),component:"Styles",title:t.strings.style},null,8,["styleSettings","title"]),km,l(oe,{startOpen:!0,styleName:"spacing",styleSettings:n.returnBlockStylePart("spacing"),component:"Spacing",title:t.strings.spacing},null,8,["styleSettings","title"]),wm,l(oe,{styleName:"textFormat",styleSettings:n.returnBlockStylePart("textFormat"),component:"TextFormat",title:t.strings.text},null,8,["styleSettings","title"]),Sm,l(c,{title:t.strings.content},{default:y(()=>[i("div",Cm,[Dm,l(Be,{value:n.returnBlockPseudo("beforeContent"),returnData:q=>{n.handleBlockPseudoChange(q,"beforeContent")}},null,8,["value","returnData"]),Tm,l(Be,{value:n.returnBlockPseudo("afterContent"),returnData:q=>n.handleBlockPseudoChange(q,"afterContent")},null,8,["value","returnData"])])]),_:1},8,["title"]),Om,l(oe,{styleName:"positionDesigner",styleSettings:n.returnBlockStylePart("positionDesigner"),component:"PositionDesigner",title:t.strings.position},null,8,["styleSettings","title"]),Am,l(oe,{styleName:"effectsDesigner",styleSettings:n.returnBlockStylePart("effectsDesigner"),component:"EffectsDesigner",title:t.strings.effects},null,8,["styleSettings","title"]),Pm])):b("",!0)])])):b("",!0)}const Im=B(Nf,[["render",Vm]]),{__:Ve}=wp.i18n,Bm={components:{BlockSettings:Im,Confirm:Je},inject:["uiTemplate"],data(){return{ai:!1,block:!1,list:!1,wrapVisible:!1,hoverWrapVisible:!1,hoverBlock:!1,aiLoading:!1,node:!1,hovernode:!1,wrapPos:{top:null,left:null,width:null,height:null},hoverWrapPos:{top:null,left:null,width:null,height:null},resizer:{startX:0,startY:0,width:0,height:0,resizing:!1,wrap:!1,uid:!1,block:!1,blockWidth:0,blockHeight:0,previewBlockWidth:0,previewBlockHeight:0}}},watch:{"uipApp.scrolling":{handler(s,e){s||(this.setWrapPosition(),this.hoverBlock&&this.setHoverWrapPosition())},deep:!0},block:{async handler(s,e){this.block&&(await W(),this.setWrapPosition())},deep:!0},"uiTemplate.content":{immediate:!0,async handler(){this.block&&(await W(),this.setWrapPosition())},deep:!0}},created(){this.uipApp.blockControl=this},mounted(){document.addEventListener("keydown",this.watchBlockShortcuts)},beforeUnmount(){document.removeEventListener("keydown",this.watchBlockShortcuts)},computed:{isProduction(){return!!(this.uiTemplate.display=="prod"||this.uiTemplate.isPreview)},dontDisplayWraps(){const s=this.uipApp.scrolling,e=this.isProduction;return s||e},returnWrapStyle(){let s="#0080ffff";return this.wrapPos.border=`1px solid ${s}`,this.wrapPos},returnHoverWrapStyle(){let s="#0080ffff";return this.hoverWrapPos.border=`1px solid ${s}`,this.hoverWrapPos},returnHoveredBlockUID(){if(this.hoverBlock)return this.hoverBlock.uid}},methods:{watchBlockShortcuts(s){!this.block||!this.wrapVisible||!this.list||s.target.tagName==="INPUT"||s.target.tagName==="TEXTAREA"||(s.key.toLowerCase()==="d"&&s.metaKey&&!s.altKey&&!s.shiftKey&&(s.preventDefault(),this.duplicateBlock()),s.keyCode===8&&s.metaKey&&!s.altKey&&!s.shiftKey&&(s.preventDefault(),this.deleteBlock()))},uniqueIds(s){if(!s)return[];if(!Array.isArray(s))return[];const e=this;function o(d){for(let t of d)t.uid=e.createUID(),t.content&&t.content.length>0&&o(t.content)}return o(s),s},async syncBlockPattern(){if(!await this.$refs.confirm.show({title:Ve("Sync patern","uipress-lite"),message:Ve("This will update the pattern template and will sync this pattern's changes accross all templates using the same pattern?","uipress-lite"),okButton:Ve("Sync patern","uipress-lite")}))return;const e=this.uipApp.notifications.create({title:Ve("Syncing patterns","uipress-lite"),status:"success",message:"",dismissable:!1,loader:!0}),o=this.prepareJSON(this.block),d=this.$route.params.templateID;let t=new FormData;t.append("action","uip_sync_ui_pattern"),t.append("security",uip_ajax.security),t.append("pattern",o),t.append("patternID",this.block.patternID),t.append("templateID",d);const n=await this.sendServerRequest(uip_ajax.ajax_url,t);if(n.error){this.uipApp.notifications.notify(n.message,"uipress-lite","","error",!0);return}n.success&&(n.newPattern&&(this.block.patternID=n.newPattern),n.newTemplate&&(this.uiTemplate.content=n.newTemplate),this.uiTemplate.patterns=n.patterns),this.uipApp.notifications.remove(e),this.uipApp.notifications.create({title:Ve("Patterns synced succesfully","uipress-lite"),status:"success",message:"",dismissable:!0,loader:!1})},duplicateBlock(){const s=this.list.findIndex(o=>o.uid==this.block.uid);if(s<0)return;let e=JSON.parse(JSON.stringify(this.block));e.uid=this.createUID(),e.content&&e.content.length>0&&(e.content=this.uniqueIds(e.content)),this.list.splice(s,0,e)},deleteBlock(){const s=this.list.findIndex(e=>e.uid==this.block.uid);s<0||(this.list.splice(s,1),this.removeActive())},resetpositions(){this.setHoverWrapPosition(),this.setWrapPosition()},setActive(s,e,o,d){this.node=null,o&&o.currentTarget&&(this.node=o.currentTarget),this.block=s,this.list=e,this.$router.push({query:{...this.$route.query,block:this.block.uid}}),d||this.uipApp.blockSettings.show(this.block),this.setWrapPosition(),this.maybeCloseSiteSettings()},maybeCloseSiteSettings(){const s=this.$route.params.templateID;this.$route.name=="templateSettings"&&this.$router.push({path:`/uibuilder/${s}/`,query:{...this.$route.query}})},removeActive(){this.node=null,this.block=null,this.list=null,this.wrapVisible=!1,this.$router.push({query:{...this.$route.query,block:null}}),this.uipApp.blockSettings.close()},setHover(s,e){this.hoverBlock=e,this.hovernode=s.currentTarget,this.setHoverWrapPosition()},removeHover(s,e){this.hoverBlock=!1,this.hovernode=!1,this.hoverWrapVisible=!1},setHoverWrapPosition(){if(!this.hoverBlock)return this.hoverWrapVisible=!1;let s=this.hovernode?this.hovernode:document.querySelector(`[block-uid="${this.hoverBlock.uid}"]`);if(!s)return this.hoverWrapVisible=!1;let e=s.getBoundingClientRect();this.hoverWrapPos={top:e.top+"px",left:e.left+"px",width:e.width+"px",height:e.height+"px"},requestAnimationFrame(()=>{this.hoverWrapVisible=!0})},setWrapPosition(){if(!this.block)return this.wrapVisible=!1;if(!this.block.uid)return this.wrapVisible=!1;let s;if(this.node?s=this.node:s=document.querySelector(`[block-uid="${this.block.uid}"]`),!s)return this.wrapVisible=!1;let e=s.getBoundingClientRect();this.wrapPos={top:e.top+"px",left:e.left+"px",width:e.width+"px",height:e.height+"px"},requestAnimationFrame(()=>{this.wrapVisible=!0})}}};function $m(s,e,o,d,t,n){const a=g("BlockSettings"),h=g("Confirm");return r(),p(k,null,[t.hoverWrapVisible&&!n.dontDisplayWraps?(r(),p("div",{key:0,class:"uip-border uip-position-fixed uip-fade-in uip-no-select",style:ce(n.returnHoverWrapStyle)},null,4)):b("",!0),t.wrapVisible&&!n.dontDisplayWraps?(r(),p("div",{key:1,class:"uip-border uip-position-fixed uip-fade-in uip-no-select",style:ce(n.returnWrapStyle)},null,4)):b("",!0),(r(),C(ge,null,[l(a)],1024)),l(h,{ref:"confirm"},null,512)],64)}const Nm=B(Bm,[["render",$m]]),{__:z}=wp.i18n,Lm={components:{blockControl:Nm},inject:["uiTemplate"],data(){return{mounted:!1,loading:!0,firstRender:!1,templateID:this.$route.params.templateID,activeBlockID:!1,saving:!1,helpLoaded:!1,allUiTemplates:[],blockFrames:[],deviceSwitcherOpen:!1,domBlocks:[],scrollDebounce:null,scrollTimeout:!1,zoomTimeout:!1,ui:{zoom:.9,zoomoptions:!1,viewDevice:"desktop",strings:{backToList:z("Exit builder","uipress-lite"),toggleLayers:z("Toggle layers panel","uipress-lite"),backToList:z("Back to template list","uipress-lite"),zoomIn:z("Zoom in","uipress-lite"),zoomOut:z("Zoom out","uipress-lite"),darkMode:z("Dark mode","uipress-lite"),preview:z("Preview","uipress-lite"),import:z("Import template","uipress-lite"),export:z("Export template","uipress-lite"),templateLibrary:z("Template Library","uipress-lite"),mobile:z("Mobile","uipress-lite"),desktop:z("Desktop","uipress-lite"),tablet:z("Tablet","uipress-lite"),saveTemplate:z("Save","uipress-lite"),help:z("Help","uipress-lite"),active:z("Active","uipress-lite"),draft:z("Draft","uipress-lite"),active:z("Active","uipress-lite"),draft:z("Draft","uipress-lite"),recenter:z("Re-center","uipress-lite"),showGridLines:z("Show grid lines","uipress-lite"),frame:z("frame","uipress-lite"),zoom100:z("Zoom to fit","uipress-lite")}},previewOptions:[{value:"builder",label:z("Builder","uipress-lite")},{value:"preview",label:z("Preview","uipress-lite")}]}},watch:{"uiTemplate.globalSettings.type":{async handler(s,e){await W(),await this.setCanvasPosition()},deep:!0},"ui.viewDevice":{handler(s,e){this.handleViewPortChange()},deep:!0},"uipApp.data.templateDarkMode":{handler(s,e){let o=s?"dark":"light",d=document.getElementsByClassName("uip-page-content-frame");d[0]&&d[0].contentWindow.document.documentElement.setAttribute("data-theme",o)},deep:!0},"uipApp.data.userPrefs.darkTheme":{handler(s,e){this.uiTemplate.display!="prod"&&(this.uipApp.data.templateDarkMode=s)},deep:!0},"ui.zoom":{async handler(s,e){this.mounted&&(this.ui.zoom,this.$refs.framewrap.style.transform=`scale(${this.ui.zoom})`,clearTimeout(this.zoomTimeout),this.zoomTimeout=setTimeout(()=>{let o=Math.round(this.ui.zoom*10)/10;this.saveUserPreference("builderPrefersZoom",String(o),!1)},300))}},"$route.params.templateID":{handler(){this.templateID=this.$route.params.templateID}},"$route.params.uid":{handler(){this.activeBlockID=this.$route.params.uid}}},created(){this.setTheme()},beforeUnmount(){this.$refs.previewCanvas.removeEventListener("wheel",this.scrollCanvas),window.addEventListener("keydown",this.watchShortCuts)},async mounted(){this.initiateCanvas(),this.mountWatchers(),await this.$nextTick(),this.mounted=!0},computed:{returnHumanZoom(){return parseInt(this.ui.zoom*100)+"%"},returnActiveBlockUID(){return this.activeBlockID},returnAllUiTemplates(){let s=this;if(s.allUiTemplates.length<1){let e=new FormData;e.append("action","uip_get_ui_templates"),e.append("security",uip_ajax.security),e.append("page",1),e.append("search",""),s.sendServerRequest(uip_ajax.ajax_url,e).then(o=>(this.allUiTemplates=o.templates,this.allUiTemplates))}else return this.allUiTemplates},returnTemplateJS(){if(!(typeof this.uiTemplate.globalSettings.options>"u")&&"advanced"in this.uiTemplate.globalSettings.options&&"js"in this.uiTemplate.globalSettings.options.advanced)return this.uiTemplate.globalSettings.options.advanced.js},returnTemplateCSS(){if(!(typeof this.uiTemplate.globalSettings.options>"u")&&"advanced"in this.uiTemplate.globalSettings.options&&"css"in this.uiTemplate.globalSettings.options.advanced)return this.uiTemplate.globalSettings.options.advanced.css},getBlockFrames(){return this.blockFrames=[],this.findBlocksByComponentName(this.uiTemplate.content,["uip-dropdown","uip-block-modal","uip-slide-out","uip-accordion"],this.blockFrames),this.blockFrames},returnScale(){let s=parseFloat(this.ui.zoom),e=s*100;const o=1/s,d=this.uipApp.isRTL?"bottom right":"bottom left";return`scale:${o};transform-origin:${d};width:${e}%`},returnColorMode(){return this.uipApp.data.userPrefs.darkTheme||this.uipApp.data.templateDarkMode?"dark":"light"},returnThemeIcon(){return this.uipApp.data.userPrefs.darkTheme?"light_mode":"dark_mode"}},methods:{async initiateCanvas(){this.detectOperatingSystem()=="Mac"&&document.body.classList.add("macos");let s=parseFloat(this.uipApp.data.userPrefs.builderPrefersZoom);typeof s<"u"&&!isNaN(s)&&(this.ui.zoom=s),this.$refs.framewrap.style.transform=`scale(${this.ui.zoom})`,await W(),this.firstRender=!0,this.activeBlockID=this.$route.params.uid,await W(),await this.setCanvasPosition(),this.loading=!1},mountWatchers(){this.$refs.previewCanvas.addEventListener("wheel",this.scrollCanvas),window.addEventListener("keydown",this.watchShortCuts)},watchShortCuts(s){s.key==="-"&&(s.metaKey||s.ctrlKey)&&(s.preventDefault(),this.zoom(-.1)),(s.key==="+"||s.code=="Equal")&&(s.metaKey||s.ctrlKey)&&(s.preventDefault(),this.zoom(.1)),s.key==="0"&&(s.metaKey||s.ctrlKey)&&(s.preventDefault(),this.fitCanvas(),this.uipApp.data.userPrefs.builderPrefersZoom=1)},async zoom(s){s<0&&this.ui.zoom<.05||(this.uipApp.scrolling=!0,this.ui.zoom+=s,this.uipApp.data.userPrefs.builderPrefersZoom=this.ui.zoom,await W(),this.uipApp.scrolling=!1)},findBlocksByComponentName(s,e,o){if(s&&Array.isArray(s))for(const d of s)d&&d.moduleName&&e.includes(d.moduleName)?o.push(d):d&&d.content&&this.findBlocksByComponentName(d.content,e,o)},async fitCanvas(){this.uipApp.scrolling=!0;const s=this.$refs.previewCanvas,o=this.$refs.templatebody.offsetWidth,t=s.offsetWidth/o;this.ui.zoom=t,await W(),this.uipApp.scrolling=!1},scrollCanvas(s){if(s.preventDefault(),this.uipApp.scrolling=!0,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(()=>{this.uipApp.scrolling=!1},150),s.ctrlKey){s.deltaY<0&&this.zoom(.02),s.deltaY>=0&&this.zoom(-.02);return}let e=this.$refs.framewrap,o=parseFloat(e.style.top||0),d=parseFloat(e.style.left||0);this.detectOperatingSystem()=="Mac"?(o-=s.deltaY,d-=s.deltaX):(o+=s.deltaY,d+=s.deltaX),e.style.top=`${o}px`,e.style.left=`${d}px`},async setCanvasPosition(){const s=this.$refs.previewCanvas.offsetWidth,e=this.$refs.previewCanvas.offsetHeight,o=this.$refs.templatebody.offsetWidth,d=this.$refs.templatebody.offsetHeight,t=(s-o)/2,n=(e-d)/2;return this.$refs.framewrap.style.top=`${n}px`,this.$refs.framewrap.style.left=`${t}px`,await this.$nextTick(),!0},handleViewPortChange(){const s=this.ui.viewDevice;if(s=="desktop"){this.uiTemplate.windowWidth="1000";let o=document.getElementById("uip-preview-content");o&&(o.classList.add("uip-desktop-view"),o.classList.remove("uip-tablet-view"),o.classList.remove("uip-phone-view"))}if(s=="tablet"){this.uiTemplate.windowWidth="699";let o=document.getElementById("uip-preview-content");o&&(o.classList.add("uip-tablet-view"),o.classList.remove("uip-desktop-view"),o.classList.remove("uip-phone-view"))}if(s=="phone"){this.uiTemplate.windowWidth="600";let o=document.getElementById("uip-preview-content");o&&(o.classList.add("uip-phone-view"),o.classList.remove("uip-tablet-view"),o.classList.remove("uip-desktop-view"))}let e=new CustomEvent("uipress/builder/preview/change",{detail:{windowWidth:this.uiTemplate.windowWidth}});document.dispatchEvent(e),requestAnimationFrame(()=>{this.setCanvasPosition()})},detectOperatingSystem(){const s=window.navigator.userAgent.toLowerCase();return s.includes("mac")||s.includes("ipad")||s.includes("iphone")?"Mac":"Windows"},handleCanvasDrag(s){let e={top:0,left:0,x:0,y:0},o=this.$refs.framewrap,d=this.$refs.previewCanvas;if(s.button===2||o.contains(s.target))return;s.preventDefault(),d.style.cursor="grabbing",d.style.userSelect="none";let t=parseFloat(o.style.top||0);e={left:parseFloat(o.style.left||0),top:t,x:s.clientX,y:s.clientY};const a=f=>{const c=f.clientX-e.x,m=f.clientY-e.y;o.style.top=`${e.top+m}px`,o.style.left=`${e.left+c}px`},h=f=>{d.style.cursor="default",d.style.removeProperty("user-select"),document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",h)};document.addEventListener("mousemove",a),document.addEventListener("mouseup",h)},toggleDisplay(){this.uiTemplate.display=="preview"?this.uiTemplate.display="builder":this.uiTemplate.display="preview"},toggleDarkMode(){this.uipApp.data.userPrefs.darkTheme=!this.uipApp.data.userPrefs.darkTheme,this.setTheme(),this.saveUserPreference("darkTheme",this.uipApp.data.userPrefs.darkTheme,!1)},setTheme(){let s="light";this.uipApp.data.userPrefs.darkTheme?(s="dark",this.uipApp.data.userPrefs.darkTheme=!0):this.uipApp.data.userPrefs.darkTheme=!1,document.getElementsByTagName("html")[0].setAttribute("data-theme",s);let e=document.getElementsByClassName("uip-page-content-frame");if(e[0])for(const o of e)o.contentWindow.document.documentElement.setAttribute("data-theme",s)},formatStyles(){let s=this.uipApp.data.themeStyles,e={};for(let o in s)s[o].value&&(e[s[o].name]||(e[s[o].name]={}),e[s[o].name].value=s[o].value),s[o].darkValue&&(e[s[o].name]||(e[s[o].name]={}),e[s[o].name].darkValue=s[o].darkValue),s[o].user&&(e[s[o].name].user=s[o].user,e[s[o].name].label=s[o].label,e[s[o].name].name=s[o].name,e[s[o].name].type=s[o].type);return e}}},qm={ref:"previewcontainer",class:"uip-h-100p uip-w-100p uip-flex uip-flex-column uip-max-h-100p uip-overflow-hidden"},Um=["data-theme"],Em={ref:"framewrap",class:"uip-flex uip-gap-l uip-flex-start uip-w-auto uip-position-absolute",id:"uip-frame-wrap"},jm={class:"uip-flex uip-flex-column"},Mm={class:"uip-text-muted uip-flex-grow uip-text-s"},Rm={class:""},Fm={class:"uip-padding-xs"},Hm={class:""},Wm={class:"uip-flex uip-flex-center uip-text-muted uip-gap-xxxs"},zm={class:""},Gm={class:"uip-flex uip-flex-center uip-text-muted uip-gap-xxxs"},Km={class:""},Jm={class:"uip-flex uip-flex-center uip-text-muted uip-gap-xxxs"},Qm={id:"uip-preview-content",class:"uip-flex uip-flex-column uip-text-normal uip-desktop-view uip-position-relative uip-block-canvas"},Xm={ref:"templatebody",id:"uip-template-body",class:"uip-flex uip-flex-grow uip-text-normal uip-body-font uip-background-default uip-border-round uip-border"},Ym=["id"],Zm=["id"],eg={class:"uip-text-muted uip-text-s uip-flex-grow uip-no-wrap uip-overflow-hidden uip-text-ellipsis"},tg={class:"uip-position-relative uip-frame-content"},ig=["id"],sg={class:"uip-position-fixed uip-bottom-0 uip-left-50p uip-translateX--50p uip-z-index-1",style:{bottom:"32px"}},ng={class:"uip-flex uip-flex-center uip-padding-xs uip-background-default uip-shadow uip-border",style:{"border-radius":"calc(var(--uip-border-radius-large) + var(--uip-padding-xs))"}},og={class:"uip-background-muted uip-padding-xxs uip-border-rounder uip-flex uip-gap-s uip-flex-between uip-link-default uip-flex-center"},lg={class:""},rg={class:"uip-padding-xs uip-flex uip-flex-column uip-text-s"},ug={class:"uip-no-wrap"},pg={class:"uip-flex uip-flex-center uip-text-muted uip-gap-xxxs"},ag=i("span",{class:"uip-command-icon"},null,-1),cg={class:"uip-no-wrap"},dg={class:"uip-flex uip-flex-center uip-text-muted uip-gap-xxxs"},hg=i("span",{class:"uip-command-icon"},null,-1),fg={class:"uip-no-wrap"},mg={class:"uip-flex uip-flex-center uip-text-muted uip-gap-xxxs"},gg=i("span",{class:"uip-command-icon"},null,-1),xg=i("div",{class:"uip-margin-left-xs uip-margin-right-xs uip-h-20"},null,-1);function vg(s,e,o,d,t,n){const a=g("AppIcon"),h=g("dropdown"),f=g("uip-content-area"),c=g("blockControl");return r(),p(k,null,[(r(),C(ie("style"),{scoped:""},{default:y(()=>[Z(" .user-style-area{ "),(r(!0),p(k,null,S(s.uipApp.data.themeStyles,m=>(r(),p(k,null,[m.value?(r(),p(k,{key:0},[Z(u(m.name)+":"+u(m.value)+";",1)],64)):b("",!0)],64))),256)),Z(' } [data-theme="dark"] .user-style-area, .uip-dark-mode .user-style-area, .uip-dark-mode.user-style-area, .user-style-area .uip-dark-mode { '),(r(!0),p(k,null,S(s.uipApp.data.themeStyles,m=>(r(),p(k,null,[m.darkValue?(r(),p(k,{key:0},[Z(u(m.name)+":"+u(m.darkValue)+";",1)],64)):b("",!0)],64))),256)),Z(" } "+u(n.returnTemplateCSS),1)]),_:1})),(r(),C(ie("script"),{scoped:""},{default:y(()=>[Z(u(n.returnTemplateJS),1)]),_:1})),i("div",qm,[i("div",{id:"uip-preview-canvas",ref:"previewCanvas",class:"uip-flex-grow uip-flex-grow uip-flex-middle uip-overflow-hidden uip-max-w-100p uip-max-h-100p uip-w-100p uip-border-box","data-theme":n.returnColorMode,onClick:e[4]||(e[4]=m=>s.uipApp.blockControl.removeActive()),onMousedown:e[5]||(e[5]=m=>n.handleCanvasDrag(m))},[i("div",Em,[i("div",jm,[i("div",{class:K(["uip-background-muted uip-border uip-flex uip-gap-xs uip-flex-center uip-padding-xxs uip-padding-left-xs uip-margin-bottom-s",n.uiTemplate.isPreview?"uip-opacity-0":""]),style:ce([n.returnScale,{"border-radius":"calc(var(--uip-border-radius) + var(--uip-padding-xxs))"}])},[i("div",Mm,u(n.uiTemplate.globalSettings.name),1),l(h,{pos:"bottom right"},{trigger:y(()=>[i("div",{class:"uip-padding-left-xs uip-padding-right-xs uip-border-rounder uip-flex uip-gap-xs uip-flex-between uip-link-muted uip-flex-center uip-text-s",style:{},onClick:e[0]||(e[0]=m=>t.deviceSwitcherOpen=!t.deviceSwitcherOpen)},[i("div",Rm,[t.ui.viewDevice=="desktop"?(r(),p(k,{key:0},[Z(u(t.ui.strings.desktop),1)],64)):b("",!0),t.ui.viewDevice=="tablet"?(r(),p(k,{key:1},[Z(u(t.ui.strings.tablet),1)],64)):b("",!0),t.ui.viewDevice=="phone"?(r(),p(k,{key:2},[Z(u(t.ui.strings.mobile),1)],64)):b("",!0)]),l(a,{icon:"expand_more",class:"uip-icon uip-text-l"})])]),content:y(()=>[i("div",Fm,[i("div",{class:"uip-flex uip-flex-row uip-flex-center uip-gap-xs uip-padding-xxs hover:uip-background-muted uip-border-rounder uip-gap-l uip-flex-between uip-link-default",onClick:e[1]||(e[1]=m=>{t.ui.viewDevice="desktop",t.deviceSwitcherOpen=!1})},[i("div",Hm,u(t.ui.strings.desktop),1),i("div",Wm,[l(a,{icon:"desktop_windows",class:"uip-icon",style:{"line-height":"0"}})])]),i("div",{class:"uip-flex uip-flex-row uip-flex-center uip-gap-xs uip-padding-xxs hover:uip-background-muted uip-border-rounder uip-gap-l uip-flex-between uip-link-default",onClick:e[2]||(e[2]=m=>{t.ui.viewDevice="tablet",t.deviceSwitcherOpen=!1})},[i("div",zm,u(t.ui.strings.tablet),1),i("div",Gm,[l(a,{icon:"tablet_mac",class:"uip-icon"})])]),i("div",{class:"uip-flex uip-flex-row uip-flex-center uip-gap-xs uip-padding-xxs hover:uip-background-muted uip-border-rounder uip-gap-l uip-flex-between uip-link-default",onClick:e[3]||(e[3]=m=>{t.ui.viewDevice="phone",t.deviceSwitcherOpen=!1})},[i("div",Km,u(t.ui.strings.mobile),1),i("div",Jm,[l(a,{icon:"smartphone",class:"uip-icon"})])])])]),_:1})],6),i("div",{class:K(["uip-position-relative",n.uiTemplate.globalSettings.type]),style:{transform:"translate(0, 0)"}},[i("div",Qm,[i("div",Xm,[l(f,{content:n.uiTemplate.content,returnData:function(m){n.uiTemplate.content=m},class:"user-style-area"},null,8,["content","returnData"])],512)])],2)]),(r(!0),p(k,null,S(n.getBlockFrames,m=>(r(),p("div",{class:K(["uip-flex uip-flex-column",n.uiTemplate.isPreview?"uip-opacity-0":""]),id:"block-frame-wrap-"+m.uid},[i("div",{class:K(["uip-background-muted uip-border uip-flex uip-gap-xs uip-flex-center uip-padding-xxs uip-margin-bottom-s",n.uiTemplate.isPreview?"uip-opacity-0":""]),style:ce([n.returnScale,{"border-radius":"calc(var(--uip-border-radius) + var(--uip-padding-xxs))"}]),id:"block-frame-title-"+m.uid},[l(a,{title:t.ui.strings.preview,icon:"crop_free",class:"uip-icon uip-border-rounder",style:{}},null,8,["title"]),i("div",eg,u(m.name)+" "+u(t.ui.strings.frame),1)],14,Zm),i("div",tg,[i("div",{class:"uip-text-normal uip-body-font uip-background-default uip-border-round uip-border uip-min-h-300 uip-min-w-200 uip-overflow-visible uip-block-canvas uip-flex uip-flex-column",id:"block-frame-"+m.uid},[l(f,{content:m.content,returnData:function(v){m.content=v},class:"user-style-area uip-w-100p uip-flex-grow"},null,8,["content","returnData"])],8,ig)])],10,Ym))),256))],512)],40,Um),i("div",sg,[i("div",ng,[l(h,{pos:"top left"},{trigger:y(()=>[i("div",og,[i("div",lg,u(n.returnHumanZoom),1),l(a,{icon:"expand_less",class:"uip-icon uip-text-l"})])]),content:y(()=>[i("div",rg,[i("div",{class:"uip-flex uip-flex-row uip-flex-center uip-gap-xs uip-padding-xxs hover:uip-background-muted uip-border-rounder uip-gap-l uip-flex-between uip-link-default",onClick:e[6]||(e[6]=m=>n.zoom(-.1))},[i("div",ug,u(t.ui.strings.zoomOut),1),i("div",pg,[ag,l(a,{icon:"remove",class:"uip-icon",style:{"line-height":"0"}})])]),i("div",{class:"uip-flex uip-flex-row uip-flex-center uip-gap-xs uip-padding-xxs hover:uip-background-muted uip-border-rounder uip-gap-l uip-flex-between uip-link-default",onClick:e[7]||(e[7]=m=>n.zoom(.1))},[i("div",cg,u(t.ui.strings.zoomIn),1),i("div",dg,[hg,l(a,{icon:"add",class:"uip-icon",style:{"line-height":"0"}})])]),i("div",{class:"uip-flex uip-flex-row uip-flex-center uip-gap-xs uip-padding-xxs hover:uip-background-muted uip-border-rounder uip-gap-l uip-flex-between uip-link-default",onClick:e[8]||(e[8]=m=>n.fitCanvas())},[i("div",fg,u(t.ui.strings.zoom100),1),i("div",mg,[gg,l(a,{icon:"exposure_zero",class:"uip-icon",style:{"line-height":"0"}})])])])]),_:1}),xg,l(a,{title:t.ui.strings.recenter,class:"hover:uip-background-muted uip-padding-xxxs uip-border-round uip-flex uip-flex-center uip-icon uip-link-default uip-text-xl uip-ratio-1-1 uip-line-height-1 uip-icon-medium",onClick:e[9]||(e[9]=m=>n.setCanvasPosition()),icon:"center_focus_strong"},null,8,["title"]),l(a,{title:t.ui.strings.showGridLines,class:K(["hover:uip-background-muted uip-padding-xxxs uip-border-round uip-flex uip-flex-center uip-icon uip-link-default uip-text-xl uip-ratio-1-1 uip-line-height-1 uip-icon-medium",{"uip-background-grey uip-text-emphasis":n.uiTemplate.display!="preview"}]),onClick:e[10]||(e[10]=m=>n.toggleDisplay()),icon:"grid_3x3"},null,8,["title","class"]),l(a,{title:t.ui.strings.darkMode,class:"hover:uip-background-muted uip-padding-xxxs uip-border-round uip-flex uip-flex-center uip-icon uip-link-default uip-text-xl uip-ratio-1-1 uip-line-height-1 uip-icon-medium",onClick:e[11]||(e[11]=m=>n.toggleDarkMode()),icon:n.returnThemeIcon},null,8,["title","icon"])])])],512),l(c)],64)}const _g=B(Lm,[["render",vg]]),bg={data(){return{show:!1}}},yg={class:"uip-flex-grow"},kg={class:"uip-position-relative uip-flex-shrink"},wg={key:0,style:{top:"62px",bottom:"0px","max-height":"calc(100vh - 62px)"},class:"uip-position-fixed uip-z-index-9 uip-w-400 uip-padding-bottom-l uip-overflow-auto uip-background-default uip-border-left uip-border-right"};function Sg(s,e,o,d,t,n){return r(),p("div",{onMouseenter:e[0]||(e[0]=a=>t.show=!0),onMouseleave:e[1]||(e[1]=a=>t.show=!1),class:"uip-position-relative uip-flex"},[i("div",yg,[Ee(s.$slots,"trigger")]),i("div",kg,[t.show?(r(),p("div",wg,[Ee(s.$slots,"content")])):b("",!0)])],32)}const Cg=B(bg,[["render",Sg]]),{__:j}=wp.i18n,Dg={inject:["uiTemplate"],components:{screenOverlay:Cg,Confirm:Je},data(){return{loading:!0,themes:[],search:"",activeTemplate:!1,imageIndex:0,imageHover:!1,draggingBlock:!1,strings:{missingMessage:j("This block no longer exists","uipress-lite"),templateLibrary:j("Template library","uipress-lite"),pro:j("Pro","uipress-lite"),searchTemplates:j("Search templates","uipress-lite"),backToAllThemes:j("Back to all templates","uipress-lite"),includesProBlocks:j("Includes pro blocks","uipress-lite"),createdBy:j("Created by","uipress-lite"),addToTemplate:j("Add to template","uipress-lite"),replaceContent:j("Replace current layout","uipress-lite"),addAtEndOfContent:j("Add to end of layout","uipress-lite"),requires:j("Requires uipress","uipress-lite"),downloadcount:j("How many times this template has been downloaded","uipress-lite"),sortBy:j("Sort by","uipress-lite"),include:j("Include","uipress-lite"),uiTemplates:j("UI templates","uipress-lite"),pages:j("Pages","uipress-lite"),sections:j("Sections","uipress-lite"),patterns:j("Patterns","uipress-lite"),patternTitle:j("Name","uipress-lite"),patternType:j("Type","uipress-lite"),savePattern:j("Save pattern","uipress-lite"),description:j("Description","uipress-lite"),patternIcon:j("Icon","uipress-lite")},patternTypes:{layout:{name:"layout",label:j("Layout","uipress-lite")},block:{name:"block",label:j("Block","uipress-lite")}},sortby:"newest",typeOptions:{uiTemplates:{label:j("UI templates","uipress-lite"),value:"ui-template",selected:!0},adminPages:{label:j("Admin pages","uipress-lite"),value:"ui-admin-page",selected:!0}}}},watch:{sortby:{handler(s,e){this.fetchThemes()}},typeOptions:{handler(s,e){this.fetchThemes()},deep:!0}},mounted(){this.fetchThemes()},computed:{returnThemes(){return this.themes.filter(s=>s.type==="Layout")},returnPages(){return this.themes.filter(s=>s.type==="Admin Page")},returnSections(){return this.themes.filter(s=>s.type==="Section")},returnSortBy(){return this.sortby},returnFilter(){let s=Object.values(this.typeOptions).filter(e=>e.selected).map(e=>e.value).join("||");return s||(this.typeOptions.uiTemplates.selected=!0),s}},methods:{fetchThemes(){this.loading=!0;const s=new FormData,e=`https://api.uipress.co/templates/list/?sort=${this.returnSortBy}&filter=${this.returnFilter}&v321=true`;this.sendServerRequest(e,s).then(o=>{this.loading=!1,o.error?this.uipApp.notifications.notify(o.message,"uipress-lite","","error",!0):this.themes=o})},navImagesForward(s){s.imageIndex=(s.imageIndex+1)%s.images.length},navImagesBackward(s){s.imageIndex=(s.imageIndex-1+s.images.length)%s.images.length},returnThemeIndex(s){return"imageIndex"in s||(s.imageIndex=0),s.imageIndex},clone(s){return{remote:!0,path:`https://api.uipress.co/templates/get/?templateid=${s.ID}`}},importThis(s,e){const d={remote:!0,path:`https://api.uipress.co/templates/get/?templateid=${s.ID}`};e?this.uiTemplate.content=[d]:this.uiTemplate.content.push(d)},importThisPattern(s){this.uiTemplate.content.push(this.clonePattern(s))},returnIcon(s){return s.icon&&s.icon!==""?s.icon:s.type==="layout"?"account_tree":s.type==="block"?"add_box":"interests"},async deleteThisItem(s){await this.$refs.confirm.show({title:j("Delete pattern","uipress-lite"),message:j("Are you sure you want to delete this custom pattern?","uipress-lite"),okButton:j("Delete pattern","uipress-lite")})&&(await Ot(s),this.uipApp.notifications.notify(j("Pattern deleted","uipress-lite"),"","success",!0),this.getPatterns())},getPatterns(){const s=new FormData;s.append("action","uip_get_ui_patterns_list"),s.append("security",uip_ajax.security),this.sendServerRequest(uip_ajax.ajax_url,s).then(e=>{e.error&&this.uipApp.notifications.notify(e.message,"uipress-lite","","error",!0),e.success&&(this.uiTemplate.patterns=e.patterns)})},clonePattern(s){const e=this.duplicateBlock(s.template);return JSON.parse(JSON.stringify(e))},duplicateBlock(s){const e={...s};return e.uid=this.createUID(),e.options=[],e.settings=JSON.parse(JSON.stringify(e.settings)),e.content&&(e.content=this.duplicateChildren(e.content)),e},duplicateChildren(s){return s.map(e=>{const o={...e};return o.uid=this.createUID(),o.settings=JSON.parse(JSON.stringify(o.settings)),o.content&&(o.content=this.duplicateChildren(o.content)),o})}}},Tg={class:"uip-background-default uip-flex uip-flex-column uip-border-box uip-max-h-100p"},Og={key:0,class:"uip-padding-m uip-flex uip-flex-center uip-flex-middle"},Ag={key:1,class:"uip-flex uip-flex-column uip-h-100p uip-max-h-100p uip-row-gap-xs"},Pg={class:"uip-flex uip-gap-s uip-padding-xxs hover:uip-background-muted uip-border-rounder uip-flex-center"},Vg={class:"uip-text-emphasis uip-flex-grow"},Ig={class:"uip-flex uip-flex-column uip-row-gap-xs"},Bg={class:"uip-flex uip-gap-xs uip-flex-center"},$g={class:"uip-flex-grow uip-text-bold"},Ng=["onClick"],Lg=["onClick"],qg={class:"uip-text-muted",style:{"line-height":"1.6"}},Ug={class:"uip-flex uip-flex-gap-xs uip-flex-between"},Eg={class:"uip-text-xs uip-background-primary-wash uip-border-rounder uip-padding-left-xxxs uip-padding-right-xxxs uip-flex uip-flex-row uip-gap-xxs uip-flex-center"},jg={class:"uip-text-muted uip-text-s"},Mg={href:"https://uipress.co",class:"uip-link-default"},Rg={class:"uip-flex uip-gap-s uip-padding-xxs hover:uip-background-muted uip-border-rounder uip-flex-center"},Fg={class:"uip-text-emphasis uip-flex-grow"},Hg={class:"uip-flex uip-flex-column uip-row-gap-xs"},Wg={class:"uip-flex uip-gap-xs uip-flex-center"},zg={class:"uip-flex-grow uip-text-bold"},Gg=["onClick"],Kg=["onClick"],Jg={class:"uip-text-muted",style:{"line-height":"1.6"}},Qg={class:"uip-flex uip-flex-gap-xs uip-flex-between"},Xg={class:"uip-text-xs uip-background-primary-wash uip-border-rounder uip-padding-left-xxxs uip-padding-right-xxxs uip-flex uip-flex-row uip-gap-xxs uip-flex-center"},Yg={class:"uip-text-muted uip-text-s"},Zg={href:"https://uipress.co",class:"uip-link-default"},ex={class:"uip-flex uip-gap-s uip-padding-xxs hover:uip-background-muted uip-border-rounder uip-flex-center"},tx={class:"uip-text-emphasis uip-flex-grow"},ix={class:"uip-flex uip-flex-column uip-row-gap-xs"},sx={class:"uip-flex uip-gap-xs uip-flex-center"},nx={class:"uip-flex-grow uip-text-bold"},ox=["onClick"],lx=["onClick"],rx={class:"uip-text-muted",style:{"line-height":"1.6"}},ux={class:"uip-flex uip-flex-gap-xs uip-flex-between"},px={class:"uip-text-xs uip-background-primary-wash uip-border-rounder uip-padding-left-xxxs uip-padding-right-xxxs uip-flex uip-flex-row uip-gap-xxs uip-flex-center"},ax={class:"uip-text-muted uip-text-s"},cx={href:"https://uipress.co",class:"uip-link-default"},dx=i("div",{class:"uip-border-top uip-margin-top-s uip-margin-bottom-s"},null,-1),hx={class:"uip-flex uip-gap-s uip-padding-xxs hover:uip-background-muted uip-border-rounder uip-flex-center"},fx={class:"uip-text-emphasis uip-flex-grow"},mx={key:0,class:"uip-padding-m uip-text-muted uip-text-center"},gx=["onDblclick"],xx={class:"uip-flex-grow uip-text-bold"},vx={key:0,class:"uip-grid-col-1-3 uip-padding-s uip-padding-right-remove"},_x={class:"uip-flex uip-flex-center"},bx={class:"uip-text-s uip-text-muted"},yx={class:"uip-flex uip-flex-center"},kx=["onUpdate:modelValue"],wx={class:"uip-flex uip-flex-center"},Sx={class:"uip-text-s uip-text-muted"},Cx={class:"uip-flex uip-flex-center"},Dx={class:"uip-flex uip-flex-center"},Tx={class:"uip-text-s uip-text-muted"},Ox={class:"uip-flex uip-flex-center"},Ax=["onUpdate:modelValue"],Px={class:"uip-flex uip-flex-center"},Vx={class:"uip-text-s uip-text-muted"},Ix={class:"uip-flex uip-flex-center"};function Bx(s,e,o,d,t,n){const a=g("loading-chart"),h=g("AppIcon"),f=g("VueDraggableNext"),c=g("screenOverlay"),m=g("icon-select"),v=g("toggle-switch"),x=g("Confirm");return r(),p("div",Tg,[t.loading?(r(),p("div",Og,[l(a)])):(r(),p("div",Ag,[l(c,{class:"uip-w-100p"},{trigger:y(()=>[i("div",Pg,[l(h,{icon:"space_dashboard",class:"uip-icon uip-text-xl uip-background-muted uip-border-rounder uip-padding-xxs"}),i("div",Vg,u(t.strings.uiTemplates),1),l(h,{icon:"chevron_right",class:"uip-icon uip-text-l"})])]),content:y(()=>[l(f,{list:n.returnThemes,class:"uip-padding-m uip-flex uip-flex-column uip-row-gap-m",handle:".uip-block-drag",group:{name:"uip-blocks",pull:"clone",put:!1,revertClone:!0},animation:"300",sort:!1,clone:n.clone,itemKey:"name"},{default:y(()=>[(r(!0),p(k,null,S(n.returnThemes,(_,L)=>(r(),p("div",{key:_.ID,class:"uip-cursor-pointer"},[i("div",Ig,[i("div",{class:"uip-w-100p uip-border-rounder uip-ratio-16-10 uip-block-drag uip-background-grey uip-background-no-repeat uip-background-center uip-background-cover",style:ce("background-image:url("+_.images[n.returnThemeIndex(_)]+");")},null,4),i("div",Bg,[l(h,{icon:"lightbulb",class:"uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted uip-icon",onClick:P=>_.showInfo=!_.showInfo},null,8,["onClick"]),i("div",$g,u(_.name),1),_.images.length>1?(r(),p("div",{key:0,class:"uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted uip-icon uip-text-l",onClick:P=>n.navImagesBackward(_)},[l(h,{icon:"chevron_left"})],8,Ng)):b("",!0),_.images.length>1?(r(),p("div",{key:1,class:"uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted uip-icon uip-text-l",onClick:P=>n.navImagesForward(_)},[l(h,{icon:"chevron_right"})],8,Lg)):b("",!0),l(h,{icon:"download",class:"uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted uip-icon uip-text-l",onClick:P=>n.importThis(_,!0)},null,8,["onClick"])]),_.showInfo?(r(),p(k,{key:0},[i("div",qg,u(_.description),1),i("div",Ug,[i("div",Eg,[l(h,{icon:"file_download",class:"uip-icon"}),i("span",null,u(_.downloads),1)]),i("div",jg,[Z(u(t.strings.createdBy)+" ",1),i("a",Mg,u(_.created_by),1)])])],64)):b("",!0)])]))),128))]),_:1},8,["list","clone"])]),_:1}),l(c,{class:"uip-w-100p"},{trigger:y(()=>[i("div",Rg,[l(h,{icon:"article",class:"uip-icon uip-text-xl uip-background-muted uip-border-rounder uip-padding-xxs"}),i("div",Fg,u(t.strings.pages),1),l(h,{icon:"chevron_right",class:"uip-icon uip-text-l"})])]),content:y(()=>[l(f,{list:n.returnPages,class:"uip-padding-m uip-flex uip-flex-column uip-row-gap-m",handle:".uip-block-drag",group:{name:"uip-blocks",pull:"clone",put:!1,revertClone:!0},animation:"300",sort:!1,clone:n.clone,itemKey:"name"},{default:y(()=>[(r(!0),p(k,null,S(n.returnPages,(_,L)=>(r(),p("div",{key:_.ID,class:"uip-cursor-pointer"},[i("div",Hg,[i("div",{class:"uip-w-100p uip-border-rounder uip-ratio-16-10 uip-block-drag uip-background-grey uip-background-no-repeat uip-background-center uip-background-cover",style:ce("background-image:url("+_.images[n.returnThemeIndex(_)]+");")},null,4),i("div",Wg,[l(h,{icon:"lightbulb",class:"uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted uip-icon",onClick:P=>_.showInfo=!_.showInfo},null,8,["onClick"]),i("div",zg,u(_.name),1),_.images.length>1?(r(),p("div",{key:0,class:"uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted uip-icon uip-text-l",onClick:P=>n.navImagesBackward(_)},[l(h,{icon:"chevron_left"})],8,Gg)):b("",!0),_.images.length>1?(r(),p("div",{key:1,class:"uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted uip-icon uip-text-l",onClick:P=>n.navImagesForward(_)},[l(h,{icon:"chevron_right"})],8,Kg)):b("",!0),l(h,{icon:"download",class:"uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted uip-icon uip-text-l",onClick:P=>n.importThis(_,!0)},null,8,["onClick"])]),_.showInfo?(r(),p(k,{key:0},[i("div",Jg,u(_.description),1),i("div",Qg,[i("div",Xg,[l(h,{icon:"file_download",class:"uip-icon"}),i("span",null,u(_.downloads),1)]),i("div",Yg,[Z(u(t.strings.createdBy)+" ",1),i("a",Zg,u(_.created_by),1)])])],64)):b("",!0)])]))),128))]),_:1},8,["list","clone"])]),_:1}),l(c,{class:"uip-w-100p"},{trigger:y(()=>[i("div",ex,[l(h,{icon:"calendar_view_day",class:"uip-icon uip-text-xl uip-background-muted uip-border-rounder uip-padding-xxs"}),i("div",tx,u(t.strings.sections),1),l(h,{icon:"chevron_right",class:"uip-icon uip-text-l"})])]),content:y(()=>[l(f,{list:n.returnSections,class:"uip-padding-m uip-flex uip-flex-column uip-row-gap-m",handle:".uip-block-drag",group:{name:"uip-blocks",pull:"clone",put:!1,revertClone:!0},animation:"300",sort:!1,clone:n.clone,itemKey:"name"},{default:y(()=>[(r(!0),p(k,null,S(n.returnSections,(_,L)=>(r(),p("div",{key:_.ID,class:"uip-cursor-pointer"},[i("div",ix,[i("div",{class:"uip-w-100p uip-border-rounder uip-ratio-16-10 uip-block-drag uip-background-grey uip-background-no-repeat uip-background-center",style:ce("background-image:url("+_.images[n.returnThemeIndex(_)]+");background-size:90%;")},null,4),i("div",sx,[l(h,{icon:"lightbulb",class:"uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted uip-icon",onClick:P=>_.showInfo=!_.showInfo},null,8,["onClick"]),i("div",nx,u(_.name),1),_.images.length>1?(r(),p("div",{key:0,class:"uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted uip-icon uip-text-l",onClick:P=>n.navImagesBackward(_)},[l(h,{icon:"chevron_left"})],8,ox)):b("",!0),_.images.length>1?(r(),p("div",{key:1,class:"uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted uip-icon uip-text-l",onClick:P=>n.navImagesForward(_)},[l(h,{icon:"chevron_right"})],8,lx)):b("",!0),l(h,{icon:"download",class:"uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted uip-icon uip-text-l",onClick:P=>n.importThis(_)},null,8,["onClick"])]),_.showInfo?(r(),p(k,{key:0},[i("div",rx,u(_.description),1),i("div",ux,[i("div",px,[l(h,{icon:"file_download",class:"uip-icon"}),i("span",null,u(_.downloads),1)]),i("div",ax,[Z(u(t.strings.createdBy)+" ",1),i("a",cx,u(_.created_by),1)])])],64)):b("",!0)])]))),128))]),_:1},8,["list","clone"])]),_:1}),dx,l(c,{class:"uip-w-100p"},{trigger:y(()=>[i("div",hx,[l(h,{icon:"texture",class:"uip-icon uip-text-xl uip-background-muted uip-border-rounder uip-padding-xxs"}),i("div",fx,u(t.strings.patterns),1),l(h,{icon:"chevron_right",class:"uip-icon uip-text-l"})])]),content:y(()=>[n.uiTemplate.patterns.length<1?(r(),p("p",mx,"No patterns created yet")):b("",!0),l(f,{list:n.uiTemplate.patterns,class:"uip-padding-s uip-flex uip-flex-column uip-row-gap-s",handle:".uip-block-drag",group:{name:"uip-blocks",pull:"clone",put:!1,revertClone:!0},animation:"300",sort:!1,clone:n.clonePattern,itemKey:"name"},{default:y(()=>[(r(!0),p(k,null,S(n.uiTemplate.patterns,(_,L)=>(r(),p("div",{key:_.id,class:"uip-flex uip-flex-column uip-block-drag uip-row-gap-xs"},[i("div",{class:"uip-flex uip-gap-xs uip-flex-center hover:uip-background-grey uip-padding-xxs uip-border-rounder uip-cursor-pointer",onDblclick:P=>n.importThisPattern(_)},[l(h,{icon:n.returnIcon(_),class:"uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted uip-icon uip-text-l"},null,8,["icon"]),i("div",xx,u(_.name),1),_.editing?b("",!0):(r(),C(h,{key:0,icon:"edit",class:"uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted uip-icon",onClick:P=>_.editing=!0},null,8,["onClick"])),_.editing?(r(),C(h,{key:1,icon:"done",class:"uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted uip-icon uip-text-green",onClick:P=>_.editing=!1},null,8,["onClick"])):b("",!0),l(h,{icon:"delete",class:"uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted uip-icon",onClick:P=>n.deleteThisItem(_.id)},null,8,["onClick"])],40,gx),_.editing?(r(),p("div",vx,[i("div",_x,[i("div",bx,u(t.strings.patternTitle),1)]),i("div",yx,[w(i("input",{class:"uip-input uip-input-small uip-w-100p",type:"text","onUpdate:modelValue":P=>_.name=P},null,8,kx),[[D,_.name]])]),i("div",wx,[i("div",Sx,u(t.strings.patternIcon),1)]),i("div",Cx,[l(m,{value:{value:_.icon},returnData:function(P){_.icon=P.value}},null,8,["value","returnData"])]),i("div",Dx,[i("div",Tx,u(t.strings.description),1)]),i("div",Ox,[w(i("textarea",{class:"uip-input uip-w-100p",rows:"4","onUpdate:modelValue":P=>_.description=P},null,8,Ax),[[D,_.description]])]),i("div",Px,[i("div",Vx,u(t.strings.patternType),1)]),i("div",Ix,[l(v,{options:t.patternTypes,activeValue:_.type,returnValue:function(P){_.type=P}},null,8,["options","activeValue","returnValue"])])])):b("",!0)]))),128))]),_:1},8,["list","clone"])]),_:1})])),l(x,{ref:"confirm"},null,512)])}const $x=B(Dg,[["render",Bx]]),{__:$}=wp.i18n,Nx={data:function(){return{ui:{dynamicData:{display:!1,index:0,top:0,right:0,input:!1,search:"",inlineSearch:"",cursorPosition:0}},strings:{dynamicData:$("Dynamic data","uipress-lite"),searchData:$("Search","uipress-lite")},dynamicCategories:[{name:"query",label:$("Query","uipress-lite"),icon:"all_inclusive"},{name:"array",label:$("Array","uipress-lite"),icon:"data_array"},{name:"image",label:$("Image","uipress-lite"),icon:"image"},{name:"link",label:$("Link","uipress-lite"),icon:"link"},{name:"text",label:$("Text","uipress-lite"),icon:"title"}],dynamicOptions:[{name:"post_title",label:$("Post title","uipress-lite"),type:"query"},{name:"post_author",label:$("Post author","uipress-lite"),type:"query"},{name:"post_date",label:$("Post date","uipress-lite"),type:"query"},{name:"post_link",label:$("Post link","uipress-lite"),type:"query"},{name:"post_edit_link",label:$("Post edit link","uipress-lite"),type:"query"},{name:"post_featured_image",label:$("Post featured image","uipress-lite"),type:"query"},{name:"post_content",label:$("Post content","uipress-lite"),type:"query"},{name:"post_excerpt",label:$("Post excerpt","uipress-lite"),type:"query"},{name:"post_type",label:$("Post type","uipress-lite"),type:"query"},{name:"post_status",label:$("Post status","uipress-lite"),type:"query"},{name:"comment_count",label:$("Comment count","uipress-lite"),type:"query"},{name:"meta:key",label:$("Meta key","uipress-lite"),type:"query"},{name:"acf_meta:key",label:$("ACF Meta key","uipress-lite"),type:"query"},{name:"mb_meta:key",label:$("Metabox Meta key","uipress-lite"),type:"query"},{name:"attachment_image",label:$("Attachment image","uipress-lite"),type:"query"},{name:"post_mime_type",label:$("Attachment type","uipress-lite"),type:"query"},{name:"ID",label:$("User id","uipress-lite"),type:"query"},{name:"display_name",label:$("User display name","uipress-lite"),type:"query"},{name:"user_email",label:$("User email","uipress-lite"),type:"query"},{name:"user_login",label:$("User login","uipress-lite"),type:"query"},{name:"user_nicename",label:$("User nicename","uipress-lite"),type:"query"},{name:"user_registered",label:$("User registered","uipress-lite"),type:"query"},{name:"user_avatar",label:$("User profile image","uipress-lite"),type:"query"},{name:"meta:key",label:$("User meta","uipress-lite"),type:"query"},{name:"acf_user_meta:key",label:$("ACF User meta","uipress-lite"),type:"query"}],multisiteOptions:[{name:"registered",label:$("Site registered","uipress-lite"),type:"query"},{name:"domain",label:$("Site domain","uipress-lite"),type:"query"},{name:"last_updated",label:$("Site last updated","uipress-lite"),type:"query"},{name:"path",label:$("Site path","uipress-lite"),type:"query"},{name:"blog_id",label:$("Site id","uipress-lite"),type:"query"},{name:"site_name",label:$("Site name","uipress-lite"),type:"query"},{name:"site_home_url",label:$("Site home url","uipress-lite"),type:"query"},{name:"site_dashboard_url",label:$("Site admin url","uipress-lite"),type:"query"},{name:"meta:key",label:$("Site meta","uipress-lite"),type:"query"}]}},mounted(){this.formatDynamicData(),this.mountWatcher()},beforeUnmount(){this.ui.dynamicData.input&&(this.ui.dynamicData.input.removeEventListener("keydown",this.watchForClosure),this.ui.dynamicData.input.removeEventListener("keypress",this.watchKeyInput),this.ui.dynamicData.input.removeEventListener("click",this.watchKeyInput))},computed:{dynamicOptionsWithSearch(){return this.dynamicOptions.filter(s=>this.inSearch(s))}},methods:{formatDynamicData(){const s=Object.values(this.uipApp.data.dynamicOptions).sort((e,o)=>e.type<o.type?-1:e.type>o.type?1:0);this.uipApp.data.options.multisite&&(this.dynamicOptions=[...this.dynamicOptions,...this.multisiteOptions]),this.dynamicOptions=[...this.dynamicOptions,...s]},mountWatcher(){const s=(e,o)=>{window.innerWidth-e.x,this.ui.dynamicData.input=o,this.ui.dynamicData.search="",this.ui.dynamicData.cursorPosition=this.getCaretPosition(o);const d={clientX:e.x-220,clientY:e.y};this.$refs.dynamicdatamenu.show(d,d),this.ui.dynamicData.closeEvent=this.mountDynamicSequence("}}",this.closeDynamicData),o.addEventListener("keypress",this.watchKeyInput),o.addEventListener("keydown",this.watchForclosure)};this.mountDynamicSequence("{{",s)},mountDynamicSequence(s,e){const o=d=>this.handleInputEvent(d,s,e);return document.addEventListener("input",o),o},handleInputEvent(s,e,o){if(s.target.tagName==="INPUT"||s.target.classList.contains("ql-editor")){const d=this.returnInputValue(s.target),t=this.getCaretPosition(s.target),n=d.slice(t-e.length),a=n.slice(e.length);if(n.replace(a,"")===e){const f=s.target.getBoundingClientRect(),c={x:f.left+t,y:f.top};o(c,s.target)}}},injectDynamicLabel(s){const e=this.ui.dynamicData.input;let o="{{";const d=`{{${s.name}}}`,t=this.ui.dynamicData.cursorPosition;this.ui.dynamicData.inlineSearch&&(o+=this.ui.dynamicData.inlineSearch);const n=this.returnInputValue(e),a=n.slice(0,t-o.length)+d+n.slice(t);e.tagName==="INPUT"?e.value=a:e.textContent=a,e.selectionStart=e.selectionEnd=t-o.length+d.length,e.dispatchEvent(new Event("input")),this.$refs.dynamicdatamenu.close(),this.closeDynamicData()},watchKeyInput(s){if(s.preventDefault(),s.target.tagName==="INPUT"||s.target.classList.contains("ql-editor")){switch(s.key){case"Backspace":this.ui.dynamicData.search=this.ui.dynamicData.search.slice(0,-1),this.ui.dynamicData.inlineSearch=this.ui.dynamicData.inlineSearch.slice(0,-1);break;case"Escape":this.closeDynamicData();break;case"Enter":this.dynamicOptionsWithSearch[this.ui.dynamicData.index]&&this.injectDynamicLabel(this.dynamicOptionsWithSearch[this.ui.dynamicData.index]);break;default:this.ui.dynamicData.search+=s.key,this.ui.dynamicData.inlineSearch+=s.key}this.ui.dynamicData.cursorPosition=this.getCaretPosition(s.target)}},watchForclosure(s){if(s.target.tagName!=="INPUT"&&!s.target.classList.contains("ql-editor"))return;let e,o;switch(s.key){case"Escape":this.closeDynamicData();break;case"Enter":if(!this.dynamicOptionsWithSearch[this.ui.dynamicData.index])break;this.injectDynamicLabel(this.dynamicOptionsWithSearch[this.ui.dynamicData.index]);break;case"ArrowDown":e=this.dynamicOptionsWithSearch.length-1,this.ui.dynamicData.index=this.ui.dynamicData.index>=e?0:this.ui.dynamicData.index+1,o=this.dynamicOptionsWithSearch[this.ui.dynamicData.index].name,this.scrollItemIntoView(o);break;case"ArrowUp":e=this.dynamicOptionsWithSearch.length-1,this.ui.dynamicData.index=this.ui.dynamicData.index<=0?e:this.ui.dynamicData.index-1,o=this.dynamicOptionsWithSearch[this.ui.dynamicData.index].name,this.scrollItemIntoView(o);break}},scrollItemIntoView(s){const e=`#${this.formatNameAsID(s)}`,o=document.querySelector(`#uip-dynamic-list ${e}`);o&&o.scrollIntoView({behavior:"auto",block:"nearest",inline:"center"})},closeDynamicData(){this.$refs.dynamicdatamenu.close(),this.ui.dynamicData.index=0,this.ui.dynamicData.search="",this.ui.dynamicData.inlineSearch="",document.removeEventListener("input",this.ui.dynamicData.closeEvent),this.ui.dynamicData.input.removeEventListener("keydown",this.watchForClosure),this.ui.dynamicData.input.removeEventListener("keypress",this.watchKeyInput),this.ui.dynamicData.input.removeEventListener("click",this.watchKeyInput)},returnInputValue(s){return s.classList.contains("ql-editor")?s.textContent:s.value},getCaretPosition(s){if(s.tagName==="INPUT")return s.selectionEnd;let e=0;if(!window.getSelection)return e;const o=window.getSelection();if(o.rangeCount>0){const d=o.getRangeAt(0),t=d.cloneRange();t.selectNodeContents(s),t.setEnd(d.endContainer,d.endOffset),e=t.toString().length}return e},inSearch(s){const e=s.label.toLowerCase(),o=s.name.toLowerCase(),d=s.type.toLowerCase(),t=this.ui.dynamicData.search.toLowerCase();return!!(e.includes(t)||o.includes(t)||d.includes(t))},formatNameAsID(s){return s.replace(":","-")}}},Lx={class:"uip-padding-s uip-flex uip-flex-column uip-row-gap-s"},qx={class:"uip-flex uip-flex-between uip-flex-center uip-min-w-200"},Ux={class:"uip-text-emphasis uip-text-bold uip-text-s"},Ex={class:"uip-flex uip-flex-column uip-row-gap-xs"},jx={class:"uip-flex uip-search-block uip-padding-xxs uip-border-rounder uip-flex uip-gap-xxs uip-flex-center uip-background-muted"},Mx=["placeholder"],Rx={class:"uip-flex uip-flex-column uip-max-h-200 uip-row-gap-xxxs",id:"uip-dynamic-list",style:{overflow:"auto"}},Fx=["onClick","id"],Hx={class:"uip-text-muted uip-text-s"},Wx={class:"uip-link-default"};function zx(s,e,o,d,t,n){const a=g("AppIcon"),h=g("contextmenu");return r(),C(h,{ref:"dynamicdatamenu"},{default:y(()=>[i("div",Lx,[i("div",qx,[i("div",Ux,u(s.strings.dynamicData),1),i("a",{class:"uip-link-muted hover:uip-background-muted uip-icon uip-border-rounder uip-padding-xxxs uip-link-muted",onClick:e[0]||(e[0]=f=>n.closeDynamicData())},[l(a,{icon:"close"})])]),i("div",Ex,[i("div",jx,[l(a,{icon:"search",class:"uip-icon uip-text-muted uip-icon uip-icon-medium"}),w(i("input",{class:"uip-blank-input uip-flex-grow uip-text-s",type:"search",placeholder:s.strings.searchData,autofocus:"","onUpdate:modelValue":e[1]||(e[1]=f=>s.ui.dynamicData.search=f)},null,8,Mx),[[D,s.ui.dynamicData.search]])])]),i("div",Rx,[(r(!0),p(k,null,S(s.dynamicCategories,f=>(r(),p(k,null,[(r(!0),p(k,null,S(n.dynamicOptionsWithSearch,(c,m)=>(r(),p(k,null,[f.name==c.type?(r(),p("div",{key:0,class:K(["uip-padding-xs uip-padding-top-xxs uip-padding-bottom-xxs hover:uip-background-muted uip-border-rounder uip-flex uip-flex-center uip-gap-xxxs",{"uip-background-muted uip-text-emphasis":m==s.ui.dynamicData.index}]),onClick:v=>n.injectDynamicLabel(c),id:n.formatNameAsID(c.name)},[i("span",Hx,u(f.label),1),l(a,{icon:"chevron_right",class:"uip-icon uip-text-muted uip-text-s"}),i("span",Wx,u(c.label),1)],10,Fx)):b("",!0)],64))),256))],64))),256))])])]),_:1},512)}const Gx=B(Nx,[["render",zx]]),{__:Y}=wp.i18n,Kx={components:{layersPanels:bi,blockcontextmenu:zi,ToolBar:Ps,Canvas:_g,BlockList:Xe,TemplateLibrary:$x,DynamicData:Gx},data(){return{templateID:this.$route.params.templateID,layoutFetched:!1,unsavedChanges:!1,welcomeMessage:!0,updating:!1,selectedBlocks:[],ui:{contextualMenu:{display:!1,top:"",left:"",block:!1},modal:{open:!1,activeModule:"",title:"",args:{}},settingsPanel:{pos:{}},sideBar:{activeTab:"blocks"},strings:{layers:Y("Layers","uipress-lite"),welcomeTitle:Y("Welcome to the uiBuilder","uipress-lite"),welcomeMeta:Y("Brand new for UiPress 3, the uiBuilder is a powerful drag and drop tool for building great looking, functional admin experiences for yourself or your clients","uipress-lite"),blankCanvas:Y("Blank canvas","uipress-lite"),viewTemplates:Y("View templates","uipress-lite"),dontShowAgain:Y("Don't show this again","uipress-lite"),close:Y("Close","uipress-lite"),deletesAllBlocks:Y("Deletes all blocks","uipress-lite"),hideLayers:Y("Hide layers","uipress-lite"),shortCuts:Y("Block shortcuts","uipress-lite"),deleteLayout:Y("Clear layers","uipress-lite"),searchData:Y("Search","uipress-lite")},keyBlocks:[]},template:{copied:!1,notifications:[],activePath:[],activePathLock:!1,windowWidth:window.innerWidth,patterns:[],isPreview:!1,googleAnalyticsRequest:{range:{start:"",end:""},fetching:!1,data:{}},display:"preview",globalSettings:{name:Y("Draft Layout","uipress-lite"),status:!1,rolesAndUsers:[],excludesRolesAndUsers:[],type:"ui-template",options:{},menuIcon:{value:""},code:{css:"",js:""}},content:[]},switchOptions:{blocks:{value:"blocks",label:Y("Blocks","uipress-lite")},layers:{value:"layers",label:Y("Layers","uipress-lite")},library:{value:"library",label:Y("Library","uipress-lite")}}}},watch:{"ui.sideBar.activeTab":{handler(s,e){this.$router.push({query:{...this.$route.query,tab:s}})},deep:!0},"$route.params.templateID":{handler(){this.templateID=this.$route.params.templateID,this.template.globalSettings=[],this.template.content=[],this.getTemplate()}}},provide(){return{uiTemplate:this.returnTemplateData}},async created(){await this.getTemplate()},mounted(){this.mountWatchers(),this.setTab()},beforeUnmount(){document.removeEventListener("uipress/app/page/load/finish",this.getNotifications,{once:!1}),document.removeEventListener("uipress/app/darkmode/toggle",this.toggleDarkMode,{once:!1})},computed:{returnTemplateData(){return this.template},returnLeftPanelStyle(){return this.template.isPreview?"transform:scale(0,1);max-width:0%;transition: all 0.2s ease-in-out;transform-origin: left;":"max-width:100%;transition:all 0.2s ease-in-out;transform-origin: left;"}},methods:{setTab(){this.$route.query&&this.$route.query.tab&&(this.ui.sideBar.activeTab=this.$route.query.tab)},mountWatchers(){document.addEventListener("uipress/app/page/load/finish",this.getNotifications,{once:!1}),document.addEventListener("uipress/app/darkmode/toggle",this.toggleDarkMode,{once:!1}),window.parent&&window.parent.postMessage({eventName:"uip_request_fullscreen"},"*")},toggleDarkMode(){const s=this.uipApp.data.userPrefs.darkTheme;this.uipApp.data.userPrefs.darkTheme=!s;const e=s?"light":"dark";document.documentElement.setAttribute("data-theme",e);const o=document.querySelectorAll("iframe");if(o){for(const d of o){const t=d.contentWindow.document.documentElement;t&&t.setAttribute("data-theme",e)}this.saveUserPreference("darkTheme",!s,!1)}},getNotifications(){const s=document.querySelector(".uip-page-content-frame");let e;if(e=(s?s.contentWindow.document:document).querySelectorAll(".notice:not(#message):not(.inline):not(.update-message),.wp-analytify-notification"),!e)return;this.template.notifications=[];let d=!1;JSON.stringify(this.template.content).includes("site-notifications")&&(d=!0);for(const n of e)this.template.notifications.push(n.outerHTML.replace("uip-framed-page=1","")),d&&n.setAttribute("style","display:none !important; visibility: hidden !important; opacity: 0 !important;");this.uipApp.data.dynamicOptions.notificationCount.value=this.template.notifications.length},async addCanvas(){const s=this.uipApp.data.blocks.find(o=>o.metadata.moduleName=="uip-container");if(!s)return;let e=JSON.parse(JSON.stringify(s.metadata));delete e.path,delete e.args,delete e.category,delete e.description,delete e.optionsEnabled,e.uid=this.createUID(),e.name=Y("Canvas","uipress-lite"),e.settings={},e.tooltip={},await W(),this.template.content.push(e)},async getTemplate(){let s=new FormData;s.append("action","uip_get_ui_template"),s.append("security",uip_ajax.security),s.append("templateID",this.templateID),this.layoutFetched=!1;const e=await this.sendServerRequest(uip_ajax.ajax_url,s);if(e.error){this.uipApp.notifications.notify(e.message,"","error",!0);return}let o=e.settings[0],d=e.content,t=e.styles;if(this.isObject(t)&&(this.uipApp.data.themeStyles={...this.uipApp.data.themeStyles,...t}),this.template.patterns=e.patterns,!d||!d.length){this.addCanvas(),this.layoutFetched=!0;return}if(this.template.content=d,!o){"type"in e&&(this.template.globalSettings.type=e.type),this.layoutFetched=!0;return}if(this.isObject(o)){const n=this.template.globalSettings;this.template.globalSettings={...n,...o}}this.getNotifications(),await W(),this.layoutFetched=!0},componentExists(s){return!!this.$root._.appContext.components[s]}}},Jx={key:0,class:"uip-background-default uip-body-font uip-h-viewport uip-max-h-viewport uip-flex uip-flex-center uip-flex-middle uip-position-fixed uip-z-index-9",style:{"min-height":"100vh","max-height":"100vh","min-width":"100vw","max-width":"100vw"}},Qx={key:0,class:"uip-background-default uip-body-font uip-h-viewport uip-max-h-viewport uip-flex uip-text-normal uip-app-frame uip-border-box uip-builder-frame uip-flex uip-flex-column uip-w-100p"},Xx={class:"uip-flex uip-h-100p uip-flex-grow uip-overflow-hidden uip-position-relative",style:{"max-width":"100vw"}},Yx={class:"uip-flex uip-flex-column uip-h-100p uip-max-h-100p"},Zx={class:"uip-padding-s uip-border-box"},ev=i("div",{class:"uip-padding-left-s uip-padding-right-s uip-flex"},[i("div",{class:"uip-border-bottom uip-w-100p"})],-1),tv={class:"uip-flex-grow uip-overflow-auto uip-padding-s uip-scrollbar"},iv={key:2,class:"uip-flex uip-flex-column uip-row-gap-xs"},sv={class:"uip-flex-grow uip-canvas-background uip-overflow-hidden"};function nv(s,e,o,d,t,n){const a=g("loading-chart"),h=g("DynamicData"),f=g("ToolBar"),c=g("toggle-switch"),m=g("TemplateLibrary"),v=g("BlockList"),x=g("layersPanels"),_=g("Canvas"),L=g("RouterView"),P=g("blockcontextmenu");return r(),p(k,null,[(r(),C(ie("style"),null,{default:y(()=>[Z(" .v-enter-active, .v-leave-active {transition: opacity 0.6s ease;} .v-enter-from, .v-leave-to {opacity: 0;} ")]),_:1})),l(pt,null,{default:y(()=>[t.layoutFetched?b("",!0):(r(),p("div",Jx,[l(a)]))]),_:1}),(r(),C(ie("style"),null,{default:y(()=>[Z(" #wpcontent{margin:0 !important;} #wpadminbar{display:none !important;} html.wp-toolbar{padding-top:0;} #adminmenumain{display:none} ")]),_:1})),t.layoutFetched?(r(),p("div",Qx,[l(h),l(f),i("div",Xx,[i("div",{class:"uip-overflow-auto uip-border-right uip-app-frame uip-flex-no-shrink uip-w-300 uip-max-h-100p uip-background-default uip-z-index-1",style:ce(n.returnLeftPanelStyle)},[i("div",Yx,[i("div",Zx,[l(c,{options:t.switchOptions,activeValue:t.ui.sideBar.activeTab,dontAccentActive:!0,returnValue:E=>{t.ui.sideBar.activeTab=E}},null,8,["options","activeValue","returnValue"])]),ev,i("div",tv,[t.ui.sideBar.activeTab=="library"?(r(),C(m,{key:0})):b("",!0),t.ui.sideBar.activeTab=="blocks"?(r(),C(v,{key:1})):b("",!0),t.ui.sideBar.activeTab=="layers"?(r(),p("div",iv,[l(x,{content:t.template.content,returnData:E=>{t.template.content=E}},null,8,["content","returnData"])])):b("",!0)])])],4),i("div",sv,[l(_)]),w((r(),C(L,{key:s.$route.path})),[[je,!t.template.isPreview]])])])):b("",!0),t.layoutFetched?(r(!0),p(k,{key:1},S(s.uipGlobalPlugins,E=>(r(),C(ie(E)))),256)):b("",!0),l(P)],64)}const uv=B(Kx,[["render",nv]]);export{uv as default};
