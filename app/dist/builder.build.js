const __vite__fileDeps=["assets/index-BwtYbbDJ.js","assets/index-eeS_Y43W.js","assets/index-DoKlNfWz.js","assets/index-B-JuHHJT.js","assets/index-B5biZt4y.js","assets/fonts-CcfgmNTE.js","assets/index-DJ_q6T8N.js","assets/index-JlJTqfgv.js","assets/index-BCml9Uhz.js","assets/index-BUqa9us6.js","assets/index-DS_hA-U2.js","assets/index-B76fjAZK.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var Rc=Object.defineProperty;var Dc=(n,e,t)=>e in n?Rc(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var D=(n,e,t)=>(Dc(n,typeof e!="symbol"?e+"":e,t),t);import{s as Pc,u as Ii,a as Mc,n as Hs,i as vn,d as tu,r as nu,c as Ge,h as iu,p as Fr,b as Oi,w as su,_ as Yt,e as J,M as Bc,f as P,o as _,g as k,j as he,k as Y,l as sn,m as ni,q as O,t as g,v as $c,x as We,y as N,F as le,z,A as Zn,B as Z,C as ne,D as Ke,E as be,T as Ps,G as mn,H as jc,I as Uc,K as Vc,J as Hc,L as Qn,N as Fc,S as Sl,O as zc,P as Kc,Q as Gc,R as Wc,U as Xc,V as Yc,W as Zc}from"./assets/index-eeS_Y43W.js";/*!
  * vue-router v4.3.3
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Vn=typeof document<"u";function Qc(n){return n.__esModule||n[Symbol.toStringTag]==="Module"}const pe=Object.assign;function zr(n,e){const t={};for(const i in e){const s=e[i];t[i]=mt(s)?s.map(n):n(s)}return t}const qi=()=>{},mt=Array.isArray,ru=/#/g,Jc=/&/g,ep=/\//g,tp=/=/g,np=/\?/g,ou=/\+/g,ip=/%5B/g,sp=/%5D/g,lu=/%5E/g,rp=/%60/g,au=/%7B/g,op=/%7C/g,uu=/%7D/g,lp=/%20/g;function Yo(n){return encodeURI(""+n).replace(op,"|").replace(ip,"[").replace(sp,"]")}function ap(n){return Yo(n).replace(au,"{").replace(uu,"}").replace(lu,"^")}function xo(n){return Yo(n).replace(ou,"%2B").replace(lp,"+").replace(ru,"%23").replace(Jc,"%26").replace(rp,"`").replace(au,"{").replace(uu,"}").replace(lu,"^")}function up(n){return xo(n).replace(tp,"%3D")}function cp(n){return Yo(n).replace(ru,"%23").replace(np,"%3F")}function pp(n){return n==null?"":cp(n).replace(ep,"%2F")}function $i(n){try{return decodeURIComponent(""+n)}catch{}return""+n}const hp=/\/$/,dp=n=>n.replace(hp,"");function Kr(n,e,t="/"){let i,s={},r="",o="";const l=e.indexOf("#");let a=e.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(i=e.slice(0,a),r=e.slice(a+1,l>-1?l:e.length),s=n(r)),l>-1&&(i=i||e.slice(0,l),o=e.slice(l,e.length)),i=bp(i??e,t),{fullPath:i+(r&&"?")+r+o,path:i,query:s,hash:$i(o)}}function fp(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function Tl(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function gp(n,e,t){const i=e.matched.length-1,s=t.matched.length-1;return i>-1&&i===s&&ii(e.matched[i],t.matched[s])&&cu(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function ii(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function cu(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!mp(n[t],e[t]))return!1;return!0}function mp(n,e){return mt(n)?Nl(n,e):mt(e)?Nl(e,n):n===e}function Nl(n,e){return mt(e)?n.length===e.length&&n.every((t,i)=>t===e[i]):n.length===1&&n[0]===e}function bp(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),i=n.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let r=t.length-1,o,l;for(o=0;o<i.length;o++)if(l=i[o],l!==".")if(l==="..")r>1&&r--;else break;return t.slice(0,r).join("/")+"/"+i.slice(o).join("/")}var ji;(function(n){n.pop="pop",n.push="push"})(ji||(ji={}));var Ri;(function(n){n.back="back",n.forward="forward",n.unknown=""})(Ri||(Ri={}));function vp(n){if(!n)if(Vn){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),dp(n)}const yp=/^[^#]+#/;function xp(n,e){return n.replace(yp,"#")+e}function _p(n,e){const t=document.documentElement.getBoundingClientRect(),i=n.getBoundingClientRect();return{behavior:e.behavior,left:i.left-t.left-(e.left||0),top:i.top-t.top-(e.top||0)}}const Fs=()=>({left:window.scrollX,top:window.scrollY});function kp(n){let e;if("el"in n){const t=n.el,i=typeof t=="string"&&t.startsWith("#"),s=typeof t=="string"?i?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!s)return;e=_p(s,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Cl(n,e){return(history.state?history.state.position-e:-1)+n}const _o=new Map;function Ap(n,e){_o.set(n,e)}function Ep(n){const e=_o.get(n);return _o.delete(n),e}let Sp=()=>location.protocol+"//"+location.host;function pu(n,e){const{pathname:t,search:i,hash:s}=e,r=n.indexOf("#");if(r>-1){let l=s.includes(n.slice(r))?n.slice(r).length:1,a=s.slice(l);return a[0]!=="/"&&(a="/"+a),Tl(a,"")}return Tl(t,n)+i+s}function Tp(n,e,t,i){let s=[],r=[],o=null;const l=({state:d})=>{const m=pu(n,location),v=t.value,w=e.value;let x=0;if(d){if(t.value=m,e.value=d,o&&o===v){o=null;return}x=w?d.position-w.position:0}else i(m);s.forEach(y=>{y(t.value,v,{delta:x,type:ji.pop,direction:x?x>0?Ri.forward:Ri.back:Ri.unknown})})};function a(){o=t.value}function c(d){s.push(d);const m=()=>{const v=s.indexOf(d);v>-1&&s.splice(v,1)};return r.push(m),m}function p(){const{history:d}=window;d.state&&d.replaceState(pe({},d.state,{scroll:Fs()}),"")}function f(){for(const d of r)d();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:a,listen:c,destroy:f}}function Ol(n,e,t,i=!1,s=!1){return{back:n,current:e,forward:t,replaced:i,position:window.history.length,scroll:s?Fs():null}}function Np(n){const{history:e,location:t}=window,i={value:pu(n,t)},s={value:e.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(a,c,p){const f=n.indexOf("#"),d=f>-1?(t.host&&document.querySelector("base")?n:n.slice(f))+a:Sp()+n+a;try{e[p?"replaceState":"pushState"](c,"",d),s.value=c}catch(m){console.error(m),t[p?"replace":"assign"](d)}}function o(a,c){const p=pe({},e.state,Ol(s.value.back,a,s.value.forward,!0),c,{position:s.value.position});r(a,p,!0),i.value=a}function l(a,c){const p=pe({},s.value,e.state,{forward:a,scroll:Fs()});r(p.current,p,!0);const f=pe({},Ol(i.value,a,null),{position:p.position+1},c);r(a,f,!1),i.value=a}return{location:i,state:s,push:l,replace:o}}function Cp(n){n=vp(n);const e=Np(n),t=Tp(n,e.state,e.location,e.replace);function i(r,o=!0){o||t.pauseListeners(),history.go(r)}const s=pe({location:"",base:n,go:i,createHref:xp.bind(null,n)},e,t);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function Op(n){return n=location.host?n||location.pathname+location.search:"",n.includes("#")||(n+="#"),Cp(n)}function Lp(n){return typeof n=="string"||n&&typeof n=="object"}function hu(n){return typeof n=="string"||typeof n=="symbol"}const Wt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},du=Symbol("");var Ll;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(Ll||(Ll={}));function si(n,e){return pe(new Error,{type:n,[du]:!0},e)}function Bt(n,e){return n instanceof Error&&du in n&&(e==null||!!(n.type&e))}const Il="[^/]+?",Ip={sensitive:!1,strict:!1,start:!0,end:!0},qp=/[.+*?^${}()[\]/\\]/g;function Rp(n,e){const t=pe({},Ip,e),i=[];let s=t.start?"^":"";const r=[];for(const c of n){const p=c.length?[]:[90];t.strict&&!c.length&&(s+="/");for(let f=0;f<c.length;f++){const d=c[f];let m=40+(t.sensitive?.25:0);if(d.type===0)f||(s+="/"),s+=d.value.replace(qp,"\\$&"),m+=40;else if(d.type===1){const{value:v,repeatable:w,optional:x,regexp:y}=d;r.push({name:v,repeatable:w,optional:x});const A=y||Il;if(A!==Il){m+=10;try{new RegExp(`(${A})`)}catch(I){throw new Error(`Invalid custom RegExp for param "${v}" (${A}): `+I.message)}}let C=w?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;f||(C=x&&c.length<2?`(?:/${C})`:"/"+C),x&&(C+="?"),s+=C,m+=20,x&&(m+=-8),w&&(m+=-20),A===".*"&&(m+=-50)}p.push(m)}i.push(p)}if(t.strict&&t.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}t.strict||(s+="/?"),t.end?s+="$":t.strict&&(s+="(?:/|$)");const o=new RegExp(s,t.sensitive?"":"i");function l(c){const p=c.match(o),f={};if(!p)return null;for(let d=1;d<p.length;d++){const m=p[d]||"",v=r[d-1];f[v.name]=m&&v.repeatable?m.split("/"):m}return f}function a(c){let p="",f=!1;for(const d of n){(!f||!p.endsWith("/"))&&(p+="/"),f=!1;for(const m of d)if(m.type===0)p+=m.value;else if(m.type===1){const{value:v,repeatable:w,optional:x}=m,y=v in c?c[v]:"";if(mt(y)&&!w)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const A=mt(y)?y.join("/"):y;if(!A)if(x)d.length<2&&(p.endsWith("/")?p=p.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);p+=A}}return p||"/"}return{re:o,score:i,keys:r,parse:l,stringify:a}}function Dp(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=e[t]-n[t];if(i)return i;t++}return n.length<e.length?n.length===1&&n[0]===80?-1:1:n.length>e.length?e.length===1&&e[0]===80?1:-1:0}function fu(n,e){let t=0;const i=n.score,s=e.score;for(;t<i.length&&t<s.length;){const r=Dp(i[t],s[t]);if(r)return r;t++}if(Math.abs(s.length-i.length)===1){if(ql(i))return 1;if(ql(s))return-1}return s.length-i.length}function ql(n){const e=n[n.length-1];return n.length>0&&e[e.length-1]<0}const Pp={type:0,value:""},Mp=/[a-zA-Z0-9_]/;function Bp(n){if(!n)return[[]];if(n==="/")return[[Pp]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(m){throw new Error(`ERR (${t})/"${c}": ${m}`)}let t=0,i=t;const s=[];let r;function o(){r&&s.push(r),r=[]}let l=0,a,c="",p="";function f(){c&&(t===0?r.push({type:0,value:c}):t===1||t===2||t===3?(r.length>1&&(a==="*"||a==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:p,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=a}for(;l<n.length;){if(a=n[l++],a==="\\"&&t!==2){i=t,t=4;continue}switch(t){case 0:a==="/"?(c&&f(),o()):a===":"?(f(),t=1):d();break;case 4:d(),t=i;break;case 1:a==="("?t=2:Mp.test(a)?d():(f(),t=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+a:t=3:p+=a;break;case 3:f(),t=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,p="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${c}"`),f(),o(),s}function $p(n,e,t){const i=Rp(Bp(n.path),t),s=pe(i,{record:n,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function jp(n,e){const t=[],i=new Map;e=Pl({strict:!1,end:!0,sensitive:!1},e);function s(p){return i.get(p)}function r(p,f,d){const m=!d,v=Up(p);v.aliasOf=d&&d.record;const w=Pl(e,p),x=[v];if("alias"in p){const C=typeof p.alias=="string"?[p.alias]:p.alias;for(const I of C)x.push(pe({},v,{components:d?d.record.components:v.components,path:I,aliasOf:d?d.record:v}))}let y,A;for(const C of x){const{path:I}=C;if(f&&I[0]!=="/"){const L=f.record.path,$=L[L.length-1]==="/"?"":"/";C.path=f.record.path+(I&&$+I)}if(y=$p(C,f,w),d?d.alias.push(y):(A=A||y,A!==y&&A.alias.push(y),m&&p.name&&!Dl(y)&&o(p.name)),gu(y)&&a(y),v.children){const L=v.children;for(let $=0;$<L.length;$++)r(L[$],y,d&&d.children[$])}d=d||y}return A?()=>{o(A)}:qi}function o(p){if(hu(p)){const f=i.get(p);f&&(i.delete(p),t.splice(t.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=t.indexOf(p);f>-1&&(t.splice(f,1),p.record.name&&i.delete(p.record.name),p.children.forEach(o),p.alias.forEach(o))}}function l(){return t}function a(p){const f=Fp(p,t);t.splice(f,0,p),p.record.name&&!Dl(p)&&i.set(p.record.name,p)}function c(p,f){let d,m={},v,w;if("name"in p&&p.name){if(d=i.get(p.name),!d)throw si(1,{location:p});w=d.record.name,m=pe(Rl(f.params,d.keys.filter(A=>!A.optional).concat(d.parent?d.parent.keys.filter(A=>A.optional):[]).map(A=>A.name)),p.params&&Rl(p.params,d.keys.map(A=>A.name))),v=d.stringify(m)}else if(p.path!=null)v=p.path,d=t.find(A=>A.re.test(v)),d&&(m=d.parse(v),w=d.record.name);else{if(d=f.name?i.get(f.name):t.find(A=>A.re.test(f.path)),!d)throw si(1,{location:p,currentLocation:f});w=d.record.name,m=pe({},f.params,p.params),v=d.stringify(m)}const x=[];let y=d;for(;y;)x.unshift(y.record),y=y.parent;return{name:w,path:v,params:m,matched:x,meta:Hp(x)}}return n.forEach(p=>r(p)),{addRoute:r,resolve:c,removeRoute:o,getRoutes:l,getRecordMatcher:s}}function Rl(n,e){const t={};for(const i of e)i in n&&(t[i]=n[i]);return t}function Up(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:Vp(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}}}function Vp(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const i in n.components)e[i]=typeof t=="object"?t[i]:t;return e}function Dl(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function Hp(n){return n.reduce((e,t)=>pe(e,t.meta),{})}function Pl(n,e){const t={};for(const i in n)t[i]=i in e?e[i]:n[i];return t}function Fp(n,e){let t=0,i=e.length;for(;t!==i;){const r=t+i>>1;fu(n,e[r])<0?i=r:t=r+1}const s=zp(n);return s&&(i=e.lastIndexOf(s,i-1)),i}function zp(n){let e=n;for(;e=e.parent;)if(gu(e)&&fu(n,e)===0)return e}function gu({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function Kp(n){const e={};if(n===""||n==="?")return e;const i=(n[0]==="?"?n.slice(1):n).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(ou," "),o=r.indexOf("="),l=$i(o<0?r:r.slice(0,o)),a=o<0?null:$i(r.slice(o+1));if(l in e){let c=e[l];mt(c)||(c=e[l]=[c]),c.push(a)}else e[l]=a}return e}function Ml(n){let e="";for(let t in n){const i=n[t];if(t=up(t),i==null){i!==void 0&&(e+=(e.length?"&":"")+t);continue}(mt(i)?i.map(r=>r&&xo(r)):[i&&xo(i)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+t,r!=null&&(e+="="+r))})}return e}function Gp(n){const e={};for(const t in n){const i=n[t];i!==void 0&&(e[t]=mt(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const Wp=Symbol(""),Bl=Symbol(""),zs=Symbol(""),Zo=Symbol(""),wo=Symbol("");function Si(){let n=[];function e(i){return n.push(i),()=>{const s=n.indexOf(i);s>-1&&n.splice(s,1)}}function t(){n=[]}return{add:e,list:()=>n.slice(),reset:t}}function Qt(n,e,t,i,s,r=o=>o()){const o=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((l,a)=>{const c=d=>{d===!1?a(si(4,{from:t,to:e})):d instanceof Error?a(d):Lp(d)?a(si(2,{from:e,to:d})):(o&&i.enterCallbacks[s]===o&&typeof d=="function"&&o.push(d),l())},p=r(()=>n.call(i&&i.instances[s],e,t,c));let f=Promise.resolve(p);n.length<3&&(f=f.then(c)),f.catch(d=>a(d))})}function Gr(n,e,t,i,s=r=>r()){const r=[];for(const o of n)for(const l in o.components){let a=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(Xp(a)){const p=(a.__vccOpts||a)[e];p&&r.push(Qt(p,t,i,o,l,s))}else{let c=a();r.push(()=>c.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${o.path}"`));const f=Qc(p)?p.default:p;o.components[l]=f;const m=(f.__vccOpts||f)[e];return m&&Qt(m,t,i,o,l,s)()}))}}return r}function Xp(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function $l(n){const e=vn(zs),t=vn(Zo),i=Ge(()=>{const a=Ii(n.to);return e.resolve(a)}),s=Ge(()=>{const{matched:a}=i.value,{length:c}=a,p=a[c-1],f=t.matched;if(!p||!f.length)return-1;const d=f.findIndex(ii.bind(null,p));if(d>-1)return d;const m=jl(a[c-2]);return c>1&&jl(p)===m&&f[f.length-1].path!==m?f.findIndex(ii.bind(null,a[c-2])):d}),r=Ge(()=>s.value>-1&&Jp(t.params,i.value.params)),o=Ge(()=>s.value>-1&&s.value===t.matched.length-1&&cu(t.params,i.value.params));function l(a={}){return Qp(a)?e[Ii(n.replace)?"replace":"push"](Ii(n.to)).catch(qi):Promise.resolve()}return{route:i,href:Ge(()=>i.value.href),isActive:r,isExactActive:o,navigate:l}}const Yp=tu({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:$l,setup(n,{slots:e}){const t=nu($l(n)),{options:i}=vn(zs),s=Ge(()=>({[Ul(n.activeClass,i.linkActiveClass,"router-link-active")]:t.isActive,[Ul(n.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const r=e.default&&e.default(t);return n.custom?r:iu("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:s.value},r)}}}),Zp=Yp;function Qp(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function Jp(n,e){for(const t in e){const i=e[t],s=n[t];if(typeof i=="string"){if(i!==s)return!1}else if(!mt(s)||s.length!==i.length||i.some((r,o)=>r!==s[o]))return!1}return!0}function jl(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const Ul=(n,e,t)=>n??e??t,eh=tu({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){const i=vn(wo),s=Ge(()=>n.route||i.value),r=vn(Bl,0),o=Ge(()=>{let c=Ii(r);const{matched:p}=s.value;let f;for(;(f=p[c])&&!f.components;)c++;return c}),l=Ge(()=>s.value.matched[o.value]);Fr(Bl,Ge(()=>o.value+1)),Fr(Wp,l),Fr(wo,s);const a=Oi();return su(()=>[a.value,l.value,n.name],([c,p,f],[d,m,v])=>{p&&(p.instances[f]=c,m&&m!==p&&c&&c===d&&(p.leaveGuards.size||(p.leaveGuards=m.leaveGuards),p.updateGuards.size||(p.updateGuards=m.updateGuards))),c&&p&&(!m||!ii(p,m)||!d)&&(p.enterCallbacks[f]||[]).forEach(w=>w(c))},{flush:"post"}),()=>{const c=s.value,p=n.name,f=l.value,d=f&&f.components[p];if(!d)return Vl(t.default,{Component:d,route:c});const m=f.props[p],v=m?m===!0?c.params:typeof m=="function"?m(c):m:null,x=iu(d,pe({},v,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(f.instances[p]=null)},ref:a}));return Vl(t.default,{Component:x,route:c})||x}}});function Vl(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const th=eh;function nh(n){const e=jp(n.routes,n),t=n.parseQuery||Kp,i=n.stringifyQuery||Ml,s=n.history,r=Si(),o=Si(),l=Si(),a=Pc(Wt);let c=Wt;Vn&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=zr.bind(null,T=>""+T),f=zr.bind(null,pp),d=zr.bind(null,$i);function m(T,q){let R,H;return hu(T)?(R=e.getRecordMatcher(T),H=q):H=T,e.addRoute(H,R)}function v(T){const q=e.getRecordMatcher(T);q&&e.removeRoute(q)}function w(){return e.getRoutes().map(T=>T.record)}function x(T){return!!e.getRecordMatcher(T)}function y(T,q){if(q=pe({},q||a.value),typeof T=="string"){const W=Kr(t,T,q.path),me=e.resolve({path:W.path},q),lt=s.createHref(W.fullPath);return pe(W,me,{params:d(me.params),hash:$i(W.hash),redirectedFrom:void 0,href:lt})}let R;if(T.path!=null)R=pe({},T,{path:Kr(t,T.path,q.path).path});else{const W=pe({},T.params);for(const me in W)W[me]==null&&delete W[me];R=pe({},T,{params:f(W)}),q.params=f(q.params)}const H=e.resolve(R,q),se=T.hash||"";H.params=p(d(H.params));const de=fp(i,pe({},T,{hash:ap(se),path:H.path})),Q=s.createHref(de);return pe({fullPath:de,hash:se,query:i===Ml?Gp(T.query):T.query||{}},H,{redirectedFrom:void 0,href:Q})}function A(T){return typeof T=="string"?Kr(t,T,a.value.path):pe({},T)}function C(T,q){if(c!==T)return si(8,{from:q,to:T})}function I(T){return K(T)}function L(T){return I(pe(A(T),{replace:!0}))}function $(T){const q=T.matched[T.matched.length-1];if(q&&q.redirect){const{redirect:R}=q;let H=typeof R=="function"?R(T):R;return typeof H=="string"&&(H=H.includes("?")||H.includes("#")?H=A(H):{path:H},H.params={}),pe({query:T.query,hash:T.hash,params:H.path!=null?{}:T.params},H)}}function K(T,q){const R=c=y(T),H=a.value,se=T.state,de=T.force,Q=T.replace===!0,W=$(R);if(W)return K(pe(A(W),{state:typeof W=="object"?pe({},se,W.state):se,force:de,replace:Q}),q||R);const me=R;me.redirectedFrom=q;let lt;return!de&&gp(i,H,R)&&(lt=si(16,{to:me,from:H}),zt(H,H,!0,!1)),(lt?Promise.resolve(lt):Ve(me,H)).catch(ye=>Bt(ye)?Bt(ye,2)?ye:te(ye):rt(ye,me,H)).then(ye=>{if(ye){if(Bt(ye,2))return K(pe({replace:Q},A(ye.to),{state:typeof ye.to=="object"?pe({},se,ye.to.state):se,force:de}),q||me)}else ye=V(me,H,!0,Q,se);return j(me,H,ye),ye})}function ce(T,q){const R=C(T,q);return R?Promise.reject(R):Promise.resolve()}function Me(T){const q=qt.values().next().value;return q&&typeof q.runWithContext=="function"?q.runWithContext(T):T()}function Ve(T,q){let R;const[H,se,de]=ih(T,q);R=Gr(H.reverse(),"beforeRouteLeave",T,q);for(const W of H)W.leaveGuards.forEach(me=>{R.push(Qt(me,T,q))});const Q=ce.bind(null,T,q);return R.push(Q),ot(R).then(()=>{R=[];for(const W of r.list())R.push(Qt(W,T,q));return R.push(Q),ot(R)}).then(()=>{R=Gr(se,"beforeRouteUpdate",T,q);for(const W of se)W.updateGuards.forEach(me=>{R.push(Qt(me,T,q))});return R.push(Q),ot(R)}).then(()=>{R=[];for(const W of de)if(W.beforeEnter)if(mt(W.beforeEnter))for(const me of W.beforeEnter)R.push(Qt(me,T,q));else R.push(Qt(W.beforeEnter,T,q));return R.push(Q),ot(R)}).then(()=>(T.matched.forEach(W=>W.enterCallbacks={}),R=Gr(de,"beforeRouteEnter",T,q,Me),R.push(Q),ot(R))).then(()=>{R=[];for(const W of o.list())R.push(Qt(W,T,q));return R.push(Q),ot(R)}).catch(W=>Bt(W,8)?W:Promise.reject(W))}function j(T,q,R){l.list().forEach(H=>Me(()=>H(T,q,R)))}function V(T,q,R,H,se){const de=C(T,q);if(de)return de;const Q=q===Wt,W=Vn?history.state:{};R&&(H||Q?s.replace(T.fullPath,pe({scroll:Q&&W&&W.scroll},se)):s.push(T.fullPath,se)),a.value=T,zt(T,q,R,Q),te()}let G;function ee(){G||(G=s.listen((T,q,R)=>{if(!oe.listening)return;const H=y(T),se=$(H);if(se){K(pe(se,{replace:!0}),H).catch(qi);return}c=H;const de=a.value;Vn&&Ap(Cl(de.fullPath,R.delta),Fs()),Ve(H,de).catch(Q=>Bt(Q,12)?Q:Bt(Q,2)?(K(Q.to,H).then(W=>{Bt(W,20)&&!R.delta&&R.type===ji.pop&&s.go(-1,!1)}).catch(qi),Promise.reject()):(R.delta&&s.go(-R.delta,!1),rt(Q,H,de))).then(Q=>{Q=Q||V(H,de,!1),Q&&(R.delta&&!Bt(Q,8)?s.go(-R.delta,!1):R.type===ji.pop&&Bt(Q,20)&&s.go(-1,!1)),j(H,de,Q)}).catch(qi)}))}let ae=Si(),Ee=Si(),Ze;function rt(T,q,R){te(T);const H=Ee.list();return H.length?H.forEach(se=>se(T,q,R)):console.error(T),Promise.reject(T)}function Qe(){return Ze&&a.value!==Wt?Promise.resolve():new Promise((T,q)=>{ae.add([T,q])})}function te(T){return Ze||(Ze=!T,ee(),ae.list().forEach(([q,R])=>T?R(T):q()),ae.reset()),T}function zt(T,q,R,H){const{scrollBehavior:se}=n;if(!Vn||!se)return Promise.resolve();const de=!R&&Ep(Cl(T.fullPath,0))||(H||!R)&&history.state&&history.state.scroll||null;return Hs().then(()=>se(T,q,de)).then(Q=>Q&&kp(Q)).catch(Q=>rt(Q,T,q))}const an=T=>s.go(T);let Be;const qt=new Set,oe={currentRoute:a,listening:!0,addRoute:m,removeRoute:v,hasRoute:x,getRoutes:w,resolve:y,options:n,push:I,replace:L,go:an,back:()=>an(-1),forward:()=>an(1),beforeEach:r.add,beforeResolve:o.add,afterEach:l.add,onError:Ee.add,isReady:Qe,install(T){const q=this;T.component("RouterLink",Zp),T.component("RouterView",th),T.config.globalProperties.$router=q,Object.defineProperty(T.config.globalProperties,"$route",{enumerable:!0,get:()=>Ii(a)}),Vn&&!Be&&a.value===Wt&&(Be=!0,I(s.location).catch(se=>{}));const R={};for(const se in Wt)Object.defineProperty(R,se,{get:()=>a.value[se],enumerable:!0});T.provide(zs,q),T.provide(Zo,Mc(R)),T.provide(wo,a);const H=T.unmount;qt.add(T),T.unmount=function(){qt.delete(T),qt.size<1&&(c=Wt,G&&G(),G=null,a.value=Wt,Be=!1,Ze=!1),H()}}};function ot(T){return T.reduce((q,R)=>q.then(()=>Me(R)),Promise.resolve())}return oe}function ih(n,e){const t=[],i=[],s=[],r=Math.max(e.matched.length,n.matched.length);for(let o=0;o<r;o++){const l=e.matched[o];l&&(n.matched.find(c=>ii(c,l))?i.push(l):t.push(l));const a=n.matched[o];a&&(e.matched.find(c=>ii(c,a))||s.push(a))}return[t,i,s]}function m2(){return vn(zs)}function sh(){return vn(Zo)}wp.i18n;const rh=[{path:"/",name:"List View",component:()=>Yt(()=>import("./assets/index-BwtYbbDJ.js"),__vite__mapDeps([0,1,2]))},{name:"Site settings",path:"/site-settings/",component:()=>Yt(()=>import("./assets/index-B-JuHHJT.js"),__vite__mapDeps([3,1,4,5,6]))},{name:"import-export",path:"/import-export/",component:()=>Yt(()=>import("./assets/index-JlJTqfgv.js"),__vite__mapDeps([7,1]))},{name:"remote-sync",path:"/remote-sync/",component:()=>Yt(()=>import("./assets/index-BCml9Uhz.js"),__vite__mapDeps([8,1,6]))},{name:"Error log",path:"/error-log",component:()=>Yt(()=>import("./assets/index-BUqa9us6.js"),__vite__mapDeps([9,1,2]))},{path:"/uibuilder/:templateID/",name:"uibuilder",component:()=>Yt(()=>import("./assets/index-DS_hA-U2.js"),__vite__mapDeps([10,1,5])),children:[{name:"templateSettings",path:"settings/template",component:()=>Yt(()=>import("./assets/index-B76fjAZK.js"),__vite__mapDeps([11,1,4,5]))}]}],oh=nh({history:Op(),routes:rh}),{__:lh}=wp.i18n,ah={components:{MediaLibrary:Bc},data(){return{resolvePromise:void 0,rejectPromise:void 0,strings:{mediaLibrary:lh("Media library","uipress-lite")}}},methods:{cancel(){this.$emit("cancel-select"),this.$refs.popup.close(),this.resolvePromise(!1)},show(n={}){return this.selected=!1,this.$refs.popup.open(),this.resolvePromise=void 0,this.rejectPromise=void 0,requestAnimationFrame(()=>{this.$refs.confirmBody.focus()}),new Promise((e,t)=>{this.resolvePromise=e,this.rejectPromise=t})}}},uh={class:"uip-flex uip-gap-xs uip-flex-start uip-flex-no-wrap uip-max-h-100p"},ch={class:"uip-margin-remove uip-flex-grow"};function ph(n,e,t,i,s,r){const o=P("AppIcon"),l=P("MediaLibrary"),a=P("Modal");return _(),k(le,null,[(_(),he(ni("style"),null,{default:Y(()=>[sn(" .imageload-enter-active, .imageload-leave-active { transition: all 0.5s ease; } .imageload-enter-from, .imageload-leave-to { opacity: 0; } ")]),_:1})),O(a,{ref:"popup"},{default:Y(()=>[g("div",{ref:"confirmBody",onKeydown:e[3]||(e[3]=$c(c=>r.cancel(),["escape"])),onClick:e[4]||(e[4]=We(()=>{},["stop"])),class:"uip-w-500 uip-flex uip-flex-column uip-row-gap-s uip-padding-m",tabindex:"1",style:{height:"70vh","max-height":"80vh"},autofocus:""},[g("div",uh,[g("h2",ch,N(s.strings.mediaLibrary),1),g("div",{onClick:e[0]||(e[0]=c=>r.cancel()),class:"uip-padding-xxs uip-border-rounder hover:uip-background-muted uip-cursor-pointer"},[O(o,{icon:"close",class:"uip-icon uip-link-muted"})])]),O(l,{onImageSelected:e[1]||(e[1]=c=>{s.resolvePromise(c),n.$refs.popup.close()}),onCancelSelect:e[2]||(e[2]=c=>{n.$refs.popup.close(),s.resolvePromise(!1)})})],544)]),_:1},512)],64)}const hh=J(ah,[["render",ph]]),{__:ze}=wp.i18n,dh={components:{mediaLibrary:hh},props:{returnData:Function,value:Object,args:Object},data(){return{open:!1,loading:!0,hasPositioning:!0,img:{url:"",dynamic:!1,dynamicKey:"",loading:!1,sizing:{}},fileType:"",manualURL:"",uploading:!1,updating:!1,strings:{dynamicData:ze("Dynamic data","uipress-lite"),currentValue:ze("Current value","uipress-lite"),select:ze("select","uipress-lite"),dataPos:ze("Dynamic data position","uipress-lite"),replace:ze("Replace","uipress-lite"),edit:ze("Edit","uipress-lite"),upload:ze("Upload","uipress-lite"),uploading:ze("Uploading","uipress-lite"),library:ze("Library","uipress-lite"),dynamic:ze("Dynamic","uipress-lite"),chooseImage:ze("Add image","uipress-lite"),backgroundImage:ze("Image","uipress-lite"),addImage:ze("Add image","uipress-lite"),url:ze("URL","uipress-lite")}}},watch:{value:{handler(n,e){this.updating||this.formatInput()},deep:!0,immediate:!0},img:{handler(n,e){this.updating||this.returnData(this.img)},deep:!0},manualURL:{handler(n,e){n!=""&&(this.removeDynamicItem(),this.img.url=n)}}},mounted(){this.args&&this.isObject(this.args)&&"hasPositioning"in this.args&&(this.hasPositioning=this.args.hasPositioning)},computed:{imgReset(){return{url:"",dynamic:!1,dynamicKey:"",loading:!1,sizing:{}}}},methods:{formatInput(){this.img=this.isObject(this.value)?this.value:this.imgReset},async chooseImage(){const n=await this.$refs.mediaLibrary.show();n&&(this.img.url=n.source_url)},removeDynamicItem(){this.img.dynamic=!1,this.img.dynamicKey="",this.img.url="",this.returnData({url:this.img.value,dynamic:this.img.dynamic,dynamicKey:this.img.dynamicKey,dynamicPos:this.img.dynamicPos})},returnBackgroundImage(){let n=this.img.url;return n?`background-image: url(${n})`:""}}},fh={class:"uip-flex uip-flex-column uip-row-gap-s"},gh={key:0,class:"uip-text-bold"},mh={key:1,class:"uip-flex uip-gap-xxs uip-flex-center"},bh={class:"uip-text-bold"},vh={class:"uip-padding-left-xs uip-flex uip-flex-column uip-row-gap-xs"},yh={class:"uip-grid-col-1-3"},xh={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"};function _h(n,e,t,i,s,r){const o=P("AppIcon"),l=P("background-position"),a=P("mediaLibrary");return _(),k("div",fh,[g("div",{class:"uip-background-muted uip-border-rounder uip-flex uip-flex-center uip-flex-middle uip-position-relative uip-scale-in-center uip-h-120 uip-w-240 uip-background-contain uip-background-no-repeat uip-background-center",style:Zn(r.returnBackgroundImage())},[g("button",{onClick:e[0]||(e[0]=c=>r.chooseImage()),class:"uip-button-primary uip-text-s"},[s.img.url?(_(),k("div",gh,N(s.strings.replace),1)):z("",!0),s.img.url?z("",!0):(_(),k("div",mh,[O(o,{icon:"add",class:"uip-icon uip-icon-medium"}),g("div",bh,N(s.strings.chooseImage),1)]))])],4),g("div",vh,[g("div",yh,[g("div",xh,[g("span",null,N(s.strings.url),1)]),Z(g("input",{class:"uip-input uip-input-small",type:"text","onUpdate:modelValue":e[1]||(e[1]=c=>s.img.url=c)},null,512),[[ne,s.img.url]])]),s.hasPositioning?(_(),he(l,{key:0,value:s.img.sizing,returnData:function(c){s.img.sizing=c}},null,8,["value","returnData"])):z("",!0)]),O(a,{ref:"mediaLibrary"},null,512)])}const wh=J(dh,[["render",_h]]),{__:kh}=wp.i18n,Ah={props:{backgroundStyle:String,text:String,remove:Function},data(){return{strings:{add:kh("Add","uipress-lite")}}}},Eh={class:"uip-background-muted uip-border-rounder uip-padding-xxs uip-flex uip-flex-center uip-gap-xs uip-cursor-pointer"},Sh={class:"uip-background-grey uip-background-checkered uip-border-round"},Th={key:0,class:"uip-text-muted uip-flex-grow"},Nh={key:1,class:"uip-no-wrap uip-text-ellipsis uip-overflow-hidden uip-w-80 uip-flex-grow"};function Ch(n,e,t,i,s,r){const o=P("AppIcon");return _(),k("div",Eh,[g("div",Sh,[g("div",{class:"uip-border-round uip-padding-xxxs uip-w-14 uip-ratio-1-1 user-style-area",style:Zn(t.backgroundStyle)},null,4)]),t.text?(_(),k("div",Nh,N(t.text),1)):(_(),k("div",Th,N(s.strings.add)+"...",1)),t.remove&&t.text?(_(),k("a",{key:2,onClick:e[0]||(e[0]=We(l=>t.remove(),["stop","prevent"])),class:"uip-no-underline uip-border-rounder uip-padding-xxxs uip-link-muted uip-text-s"},[O(o,{icon:"close",class:"uip-icon"})])):z("",!0)])}const mu=J(Ah,[["render",Ch]]),{__:Oh}=wp.i18n,Lh={components:{imageSelect:wh,colorBox:mu},props:{returnData:Function,value:Object,args:Object},data(){return{img:{url:"",dynamic:!1,dynamicKey:"",loading:!1,sizing:{}},strings:{imageSelect:Oh("Image select","seql")}}},watch:{value:{handler(n,e){this.updating||this.formatInput()},deep:!0,immediate:!0},img:{handler(n,e){this.updating||this.returnData(this.img)},deep:!0}},computed:{returnBackgroundImage(){if(this.img.url)return`background-size:contain;background-image: url(${this.img.url})`},imgReset(){return{url:"",dynamic:!1,dynamicKey:"",loading:!1,sizing:{}}},returnDefault(){return{url:"",dynamic:!1,dynamicKey:"",loading:!1,sizing:{}}}},methods:{formatInput(){this.img=this.isObject(this.value)?this.value:this.returnDefault}}},Ih={class:"uip-flex uip-flex-column uip-row-gap-s uip-padding-s uip-w-240"},qh={class:"uip-flex uip-flex-between uip-flex-center"},Rh={class:"uip-text-emphasis uip-text-bold uip-text-s"};function Dh(n,e,t,i,s,r){const o=P("colorBox"),l=P("AppIcon"),a=P("imageSelect"),c=P("dropdown");return _(),he(c,{pos:"left center",class:"uip-w-100p",ref:"imageDropdown",snapX:["#uip-block-settings","#uip-template-settings","#uip-global-settings"]},{trigger:Y(()=>[O(o,{backgroundStyle:r.returnBackgroundImage,text:s.img.url,remove:()=>{s.img=r.imgReset}},null,8,["backgroundStyle","text","remove"])]),content:Y(()=>[g("div",Ih,[g("div",qh,[g("div",Rh,N(s.strings.imageSelect),1),g("div",{onClick:e[0]||(e[0]=p=>n.$refs.imageDropdown.close()),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[O(l,{icon:"close",class:"uip-icon"})])]),O(a,{value:s.img,returnData:p=>{s.img=p},args:t.args},null,8,["value","returnData","args"])])]),_:1},512)}const Ph=J(Lh,[["render",Dh]]),{__:Et}=wp.i18n,Mh=[{value:"none",label:Et("None","uipress-lite")},{value:"top left",label:Et("Top left","uipress-lite")},{value:"top center",label:Et("Top center","uipress-lite")},{value:"top right",label:Et("Top right","uipress-lite")},{value:"center left",label:Et("Center left","uipress-lite")},{value:"center center",label:Et("Center center","uipress-lite")},{value:"center right",label:Et("Center right","uipress-lite")},{value:"bottom left",label:Et("Bottom left","uipress-lite")},{value:"bottom center",label:Et("Bottom center","uipress-lite")},{value:"bottom right",label:Et("Bottom right","uipress-lite")}],{__:xs}=wp.i18n,Bh=[{value:"no-repeat",label:xs("No repeat","uipress-lite")},{value:"repeat-x",label:xs("Repeat x","uipress-lite")},{value:"repeat-y",label:xs("Repeat y","uipress-lite")},{value:"repeat",label:xs("Repeat","uipress-lite")}],{__:Wr}=wp.i18n,$h=[{value:"auto",label:Wr("Auto","uipress-lite")},{value:"cover",label:Wr("Cover","uipress-lite")},{value:"contain",label:Wr("Contain","uipress-lite")}],{__:Xr}=wp.i18n,jh={props:{returnData:Function,value:Object},data(){return{updating:!1,option:{position:"",repeat:"no-repeat",size:"cover"},options:{positions:Mh,repeat:Bh,size:$h},strings:{position:Xr("Position","uipress-lite"),repeat:Xr("Repeat","uipress-lite"),size:Xr("Size","uipress-lite")}}},watch:{value:{handler(n,e){this.updating||this.formatInput()},deep:!0,immediate:!0},option:{handler(n,e){this.updating||this.returnData(this.option)},deep:!0}},computed:{returnDefault(){return{position:"center center",repeat:"no-repeat",size:"cover"}},returnOption(){return this.option}},methods:{async formatInput(){this.updating=!0,this.option=this.isObject(this.value)?this.value:this.returnDefault,await this.$nextTick(),this.updating=!1}},template:`
   `},Uh={class:"uip-flex uip-flex-column uip-row-gap-xs"},Vh={class:"uip-grid-col-1-3"},Hh={class:"uip-text-muted uip-flex uip-flex-center"},Fh={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},zh={class:"uip-grid-col-1-3"},Kh={class:"uip-text-muted uip-flex uip-flex-center"},Gh={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},Wh={class:"uip-grid-col-1-3"},Xh={class:"uip-text-muted uip-flex uip-flex-center"},Yh={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"};function Zh(n,e,t,i,s,r){const o=P("default-select");return _(),k("div",Uh,[g("div",Vh,[g("div",Hh,[g("span",null,N(s.strings.position),1)]),g("div",Fh,[O(o,{value:r.returnOption.position,args:{options:s.options.positions},returnData:function(l){s.option.position=l}},null,8,["value","args","returnData"])])]),g("div",zh,[g("div",Kh,[g("span",null,N(s.strings.repeat),1)]),g("div",Gh,[O(o,{value:r.returnOption.repeat,args:{options:s.options.repeat},returnData:function(l){s.option.repeat=l}},null,8,["value","args","returnData"])])]),g("div",Wh,[g("div",Xh,[g("span",null,N(s.strings.size),1)]),g("div",Yh,[O(o,{value:r.returnOption.size,args:{options:s.options.size},returnData:function(l){s.option.size=l}},null,8,["value","args","returnData"])])])])}const Qh=J(jh,[["render",Zh]]),{__:Hl}=wp.i18n,Jh={props:{returnData:Function,value:[Boolean,String],args:Object},data(){return{yesNoOptions:{false:{value:!1,label:Hl("No","uipress-lite")},true:{value:!0,label:Hl("Yes","uipress-lite")}}}}};function ed(n,e,t,i,s,r){const o=P("toggle-switch");return _(),he(o,{options:s.yesNoOptions,activeValue:t.value,returnValue:t.returnData},null,8,["options","activeValue","returnValue"])}const td=J(Jh,[["render",ed]]),nd={props:{returnData:Function,value:Object},data(){return{option:{value:"",units:"px"},focus:!1,rendered:!1,updating:!1}},watch:{option:{handler(n,e){this.updating||this.setReturnUnits()},deep:!0},value:{handler(n,e){this.updating||this.formatValue()},deep:!0,immediate:!0}},computed:{returnDefault(){return{value:"",units:"px"}},returnUnits(){return this.option.units}},methods:{async formatValue(){this.updating=!0,this.option=this.isObject(this.value)?{...this.returnDefault,...this.value}:{...this.returnDefault},await this.$nextTick(),this.updating=!1},setReturnUnits(){let n=this.option;n.units=="auto"&&(n={value:" ",units:"auto"}),this.returnData(n)}}};function id(n,e,t,i,s,r){const o=P("units-select");return _(),k("div",{class:Ke(["uip-flex uip-background-muted uip-border-rounder uip-padding-left-xs uip-padding-right-xxs",{"uip-active-outline":s.focus}])},[s.option.units!="auto"?Z((_(),k("input",{key:0,onFocus:e[0]||(e[0]=l=>s.focus=!0),onBlur:e[1]||(e[1]=l=>s.focus=!1),style:{width:"30px"},type:"text",class:"uip-input-small uip-blank-input uip-remove-steps uip-background-remove uip-flex-grow","onUpdate:modelValue":e[2]||(e[2]=l=>s.option.value=l)},null,544)),[[ne,s.option.value]]):z("",!0),O(o,{value:r.returnUnits,returnData:l=>{s.option.units=l},class:Ke(s.option.units=="auto"?"uip-flex-grow":"")},null,8,["value","returnData","class"])],2)}const sd=J(nd,[["render",id]]),{__:Se}=wp.i18n,rd={props:{returnData:Function,value:String},data(){return{option:"px",strings:{pixels:Se("Pixels","uipress-lite"),percentage:Se("Percent","uipress-lite"),points:Se("Points","uipress-lite"),fontSize:Se("Font size","uipress-lite"),rootFontSize:Se("Root font size","uipress-lite"),viewportHeight:Se("Viewport height","uipress-lite"),dviewportHeight:Se("Dynamic Viewport height","uipress-lite"),viewportWidth:Se("Viewport width","uipress-lite"),auto:Se("auto","uipress-lite")},options:[{value:"auto",label:Se("Auto")},{value:"px",label:Se("Pixels")},{value:"pt",label:Se("Points")},{value:"%",label:Se("Percent")},{value:"em",label:Se("Element size")},{value:"rem",label:Se("Root size")},{value:"vh",label:Se("Viewport height")},{value:"dvh",label:Se("Dynamic Viewport height")},{value:"vw",label:Se("Viewport width")}]}},watch:{option:{handler(n,e){this.returnData(this.option)}},value:{handler(n,e){this.injectProp()}}},mounted(){this.injectProp()},methods:{injectProp(){this.value&&(this.option=this.value)},selectItem(n){this.option=n.value,this.$refs.unitdrop.close()}}},od={class:"uip-padding-xxs uip-text-s uip-text-muted uip-min-w-18 uip-text-center uip-link-muted"},ld={class:"uip-flex uip-flex-column uip-flex-left uip-text-s uip-padding-s"},ad=["title","onClick"],ud={class:"uip-w-40"};function cd(n,e,t,i,s,r){const o=P("dropdown");return _(),he(o,{pos:"left top",ref:"unitdrop"},{trigger:Y(()=>[g("div",od,N(s.option),1)]),content:Y(()=>[g("div",ld,[(_(!0),k(le,null,be(s.options,l=>(_(),k("div",{title:l.label,class:Ke(["uip-link-muted uip-flex uip-flex-center uip-gap-xxs uip-padding-xxxs uip-padding-left-xxs hover:uip-background-muted uip-border-rounder",{"uip-text-emphasis uip-background-muted":s.option==l.value}]),onClick:a=>r.selectItem(l)},[g("span",ud,N(l.value),1),g("span",{class:Ke(["uip-text-muted uip-w-100 uip-overflow-hidden uip-no-wrap uip-text-ellipsis",s.option==l.value?"uip-text-emphasis":"uip-text-muted"])},N(l.label),3)],10,ad))),256))])]),_:1},512)}const pd=J(rd,[["render",cd]]),hd={props:{startScreen:Object,homeScreen:String,showNavigation:Boolean,closer:Function,largeNavigation:Boolean},watch:{startScreen:{handler(){this.startScreen.component==this.currentScreen.component&&(this.currentScreen=this.startScreen)}}},data(){return{currentScreen:this.startScreen}},computed:{returnHomeScreen(){return this.startScreen}},methods:{toggleBack(){this.currentScreen=this.currentScreen.backscreen||this.returnHomeScreen},processScreen(n){const e=this.currentScreen;this.currentScreen=n,this.currentScreen.backscreen=e}}},dd={class:"uip-flex uip-flex-column uip-row-gap-s"},fd={key:0,class:"uip-flex uip-flex-between uip-flex-center"},gd={key:1};function md(n,e,t,i,s,r){const o=P("AppIcon");return _(),k("div",dd,[O(Ps,{name:"translate",mode:"out-in"},{default:Y(()=>[s.currentScreen.component!=t.homeScreen||t.showNavigation?(_(),k("div",fd,[s.currentScreen.component!=t.homeScreen?(_(),k("div",{key:0,onClick:e[0]||(e[0]=We(l=>r.toggleBack(),["prevent","stop"])),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[O(o,{icon:"chevron_left",class:"uip-icon"})])):z("",!0),g("div",{class:Ke(["uip-text-emphasis uip-text-bold",t.largeNavigation?"uip-text-l":"uip-text-s"])},N(s.currentScreen.label),3),t.closer?(_(),k("div",{key:2,onClick:e[1]||(e[1]=l=>t.closer()),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[O(o,{icon:"close",class:"uip-icon"})])):(_(),k("div",gd))])):z("",!0)]),_:1}),O(Ps,{name:"translate",mode:"out-in"},{default:Y(()=>[mn(n.$slots,"componenthandler",{processScreen:r.processScreen,currentScreen:s.currentScreen,goBack:r.toggleBack})]),_:3})])}const bd=J(hd,[["render",md]]);function bn(n,e,t){return Math.max(e,Math.min(n,t))}function je(n,e=2){return n.toFixed(e).replace(/\.?0+$/,"")}function Fl(n){return n.endsWith(".")?NaN:(parseFloat(n)%360+360)%360/360}function zl(n){return je(360*n)}function Yn(n){if(!n.endsWith("%"))return NaN;const e=n.substring(0,n.length-1);if(e.endsWith("."))return NaN;const t=parseFloat(e);return Number.isNaN(t)?NaN:bn(t,0,100)/100}function _s(n){return je(100*n)+"%"}function Yr(n){if(n.endsWith("%"))return Yn(n);if(n.endsWith("."))return NaN;const e=parseFloat(n);return Number.isNaN(e)?NaN:bn(e,0,255)/255}function Zr(n){return je(255*n)}function Qr(n){return n.endsWith("%")?Yn(n):bn(parseFloat(n),0,1)}function Jr(n){return String(n)}const ko={hsl:{h:{to:zl,from:Fl},s:{to:_s,from:Yn},l:{to:_s,from:Yn},a:{to:Jr,from:Qr}},hwb:{h:{to:zl,from:Fl},w:{to:_s,from:Yn},b:{to:_s,from:Yn},a:{to:Jr,from:Qr}},rgb:{r:{to:Zr,from:Yr},g:{to:Zr,from:Yr},b:{to:Zr,from:Yr},a:{to:Jr,from:Qr}}};function ws(n){const e=n.replace(/^#/,""),t=[],i=e.length>4?2:1;for(let r=0;r<e.length;r+=i){const o=e.slice(r,r+i);t.push(o.repeat(i%2+1))}t.length===3&&t.push("ff");const s=t.map(r=>parseInt(r,16)/255);return{r:s[0],g:s[1],b:s[2],a:s[3]}}function eo(n){const e=n.l<.5?n.l*(1+n.s):n.l+n.s-n.l*n.s,t=2*n.l-e;return{r:to(t,e,n.h+1/3),g:to(t,e,n.h),b:to(t,e,n.h-1/3),a:n.a}}function to(n,e,t){return t<0?t+=1:t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Ti(n){return{r:no(5,n),g:no(3,n),b:no(1,n),a:n.a}}function no(n,e){const t=(n+6*e.h)%6;return e.v-e.v*e.s*Math.max(0,Math.min(t,4-t,1))}function $n(n){return{h:n.h,s:n.b===1?0:1-n.w/(1-n.b),v:1-n.b,a:n.a}}function Hn(n){const e=Math.min(n.r,n.g,n.b),t=Math.max(n.r,n.g,n.b);let i;return i=t===e?0:t===n.r?(0+(n.g-n.b)/(t-e))/6:t===n.g?(2+(n.b-n.r)/(t-e))/6:(4+(n.r-n.g)/(t-e))/6,i<0&&(i+=1),{h:i,w:e,b:1-t,a:n.a}}function io(n){const e=Hn(n),t=e.w,i=1-e.b,s=(i+t)/2;let r;return r=i===0||t===1?0:(i-s)/Math.min(s,1-s),{h:e.h,s:r,l:s,a:n.a}}function ks(n){return"#"+Object.values(n).map(e=>{const t=255*e,i=Math.round(t).toString(16);return i.length===1?"0"+i:i}).join("")}const vd={hex:[["hsl",n=>St(n,[ws,io])],["hsv",n=>St(n,[ws,Hn,$n])],["hwb",n=>St(n,[ws,Hn])],["rgb",ws]],hsl:[["hex",n=>St(n,[eo,ks])],["hsv",function(n){const e=n.l+n.s*Math.min(n.l,1-n.l),t=e===0?0:2-2*n.l/e;return{h:n.h,s:t,v:e,a:n.a}}],["hwb",n=>St(n,[eo,Hn])],["rgb",eo]],hsv:[["hex",n=>St(n,[Ti,ks])],["hsl",function(n){const e=n.v-n.v*n.s/2,t=Math.min(e,1-e),i=t===0?0:(n.v-e)/t;return{h:n.h,s:i,l:e,a:n.a}}],["hwb",function(n){return{h:n.h,w:(1-n.s)*n.v,b:1-n.v,a:n.a}}],["rgb",Ti]],hwb:[["hex",n=>St(n,[$n,Ti,ks])],["hsl",n=>St(n,[$n,Ti,io])],["hsv",$n],["rgb",n=>St(n,[$n,Ti])]],rgb:[["hex",ks],["hsl",io],["hsv",n=>St(n,[Hn,$n])],["hwb",Hn]]};function St(n,e){return e.reduce((t,i)=>i(t),n)}function As(n){const e={};for(const t in n)e[t]=n[t];return e}const yd={hex:(n,e)=>e&&[5,9].includes(n.length)?n.substring(0,n.length-(n.length-1)/4):n,hsl:(n,e)=>`hsl(${je(360*n.h)} ${je(100*n.s)}% ${je(100*n.l)}%`+(e?")":` / ${je(n.a)})`),hwb:(n,e)=>`hwb(${je(360*n.h)} ${je(100*n.w)}% ${je(100*n.b)}%`+(e?")":` / ${je(n.a)})`),rgb:(n,e)=>`rgb(${je(255*n.r)} ${je(255*n.g)} ${je(255*n.b)}`+(e?")":` / ${je(n.a)})`)};function Kl(n,e,t){return yd[e](n,t)}function bu(n){return/^#(?:(?:[A-F0-9]{2}){3,4}|[A-F0-9]{3,4})$/i.test(n)}function xd(n){if(typeof n!="string")return{format:function(a){return Object.prototype.hasOwnProperty.call(a,"r")?"rgb":Object.prototype.hasOwnProperty.call(a,"w")?"hwb":Object.prototype.hasOwnProperty.call(a,"v")?"hsv":"hsl"}(n),color:n};if(bu(n))return{format:"hex",color:n};if(!n.includes("(")){const l=document.createElement("canvas").getContext("2d");l.fillStyle=n;const a=l.fillStyle;return a==="#000000"&&n!=="black"?null:{format:"hex",color:a}}const[e,t]=n.split("("),i=e.substring(0,3),s=t.replace(/[,/)]/g," ").replace(/\s+/g," ").trim().split(" ");s.length===3&&s.push("1");const r=(i+"a").split(""),o=Object.fromEntries(r.map((l,a)=>[l,ko[i][l].from(s[a])]));return{format:i,color:o}}const so=["hex","hsl","hwb","rgb"],_d=["show","hide"],wd={class:"vacp-range-input-group"},kd=["for"],Ad={class:"vacp-range-input-label-text vacp-range-input-label-text--hue uip-hidden"},Ed=["id","value"],Sd=["for"],Td={class:"vacp-range-input-label-text vacp-range-input-label-text--alpha uip-hidden"},Nd=["id","value"],Cd=g("span",{class:"vacp-visually-hidden"},"Copy color",-1),Od=g("svg",{class:"vacp-icon",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",width:"24",height:"24",viewBox:"0 0 32 32"},[g("path",{d:"M25.313 28v-18.688h-14.625v18.688h14.625zM25.313 6.688c1.438 0 2.688 1.188 2.688 2.625v18.688c0 1.438-1.25 2.688-2.688 2.688h-14.625c-1.438 0-2.688-1.25-2.688-2.688v-18.688c0-1.438 1.25-2.625 2.688-2.625h14.625zM21.313 1.313v2.688h-16v18.688h-2.625v-18.688c0-1.438 1.188-2.688 2.625-2.688h16z",fill:"currentColor"})],-1),Ld={class:"vacp-color-inputs"},Id={class:"vacp-color-input-group uip-hidden"},qd=["for"],Rd=g("span",{class:"vacp-color-input-label-text"}," Hex ",-1),Dd=["id","value"],Pd=["id","for","onInput"],Md={class:"vacp-color-input-label-text"},Bd=["id","value","onInput"],$d=g("span",{class:"vacp-visually-hidden"},"Switch format",-1),jd=g("svg",{class:"vacp-icon","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"15"},[g("path",{d:"M8 15l5-5-1-1-4 2-4-2-1 1zm4-9l1-1-5-5-5 5 1 1 4-2z",fill:"currentColor"})],-1);var Qo={__name:"ColorPicker",props:{color:{type:[String,Object],default:"#ffffffff"},id:{type:String,default:"color-picker"},visibleFormats:{type:Array,default:()=>so,validator:n=>n.length>0&&n.every(e=>so.includes(e))},defaultFormat:{type:String,default:"hsl",validator:n=>so.includes(n)},alphaChannel:{type:String,default:"show",validator:n=>_d.includes(n)}},emits:["color-change"],setup(n,{emit:e}){const t=n,i=Oi(null),s=Oi(null),r=Oi(null);let o=!1;const l=Oi(t.visibleFormats.includes(t.defaultFormat)?t.defaultFormat:t.visibleFormats[0]),a=nu({hex:"#ffffffff",hsl:{h:0,s:0,l:1,a:1},hsv:{h:0,s:0,v:1,a:1},hwb:{h:0,w:1,b:0,a:1},rgb:{r:1,g:1,b:1,a:1}}),c=Ge(function(){const j=Object.keys(a[l.value]);return l.value!=="hex"&&t.alphaChannel==="hide"?j.slice(0,3):j}),p=Ge(function(){return t.alphaChannel==="hide"&&[5,9].includes(a.hex.length)?a.hex.substring(0,a.hex.length-(a.hex.length-1)/4):a.hex});function f(){const j=(t.visibleFormats.findIndex(V=>V===l.value)+1)%t.visibleFormats.length;l.value=t.visibleFormats[j]}function d(j){o=!0,w(j)}function m(j){o=!0,x(j)}function v(){o=!1}function w(j){j.buttons===1&&o!==!1&&s.value instanceof HTMLElement&&y(s.value,j.clientX,j.clientY)}function x(j){if(o===!1||!(s.value instanceof HTMLElement))return;j.preventDefault();const V=j.touches[0];y(s.value,V.clientX,V.clientY)}function y(j,V,G){const ee=function(Ee,Ze,rt){const Qe=Ee.getBoundingClientRect(),te=Ze-Qe.left,zt=rt-Qe.top;return{x:Qe.width===0?0:bn(te/Qe.width,0,1),y:Qe.height===0?0:bn(1-zt/Qe.height,0,1)}}(j,V,G),ae=As(a.hsv);ae.s=ee.x,ae.v=ee.y,K("hsv",ae)}function A(j){if(!["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"].includes(j.key))return;j.preventDefault();const V=["ArrowLeft","ArrowDown"].includes(j.key)?-1:1,G=["ArrowLeft","ArrowRight"].includes(j.key)?"s":"v",ee=j.shiftKey?10:1,ae=a.hsv[G]+V*ee*.01,Ee=As(a.hsv);Ee[G]=bn(ae,0,1),K("hsv",Ee)}function C(j){const V=xd(j);V!==null&&K(V.format,V.color)}function I(j,V){const G=j.currentTarget,ee=As(a.hsv);ee[V]=parseInt(G.value)/parseInt(G.max),K("hsv",ee)}function L(j){const V=j.target;bu(V.value)&&K("hex",V.value)}function $(j,V){const G=j.target,ee=As(a[l.value]),ae=ko[l.value][V].from(G.value);Number.isNaN(ae)||ae===void 0||(ee[V]=ae,K(l.value,ee))}function K(j,V){let G=V;if(t.alphaChannel==="hide")if(typeof V!="string")V.a=1,G=V;else if([5,9].includes(V.length)){const ee=(V.length-1)/4;G=V.substring(0,V.length-ee)+"f".repeat(ee)}else[4,7].includes(V.length)&&(G=V+"f".repeat((V.length-1)/3));if(!function(ee,ae){if(typeof ee=="string"||typeof ae=="string")return ee===ae;for(const Ee in ee)if(ee[Ee]!==ae[Ee])return!1;return!0}(a[j],G)){(function(ae,Ee){a[ae]=Ee;for(const[Ze,rt]of vd[ae])a[Ze]=rt(a[ae])})(j,G);const ee=function(){const ae=t.alphaChannel==="hide",Ee=Kl(a[l.value],l.value,ae);return{colors:a,cssColor:Ee}}();e("color-change",ee)}(function(){i.value instanceof HTMLElement&&s.value instanceof HTMLElement&&r.value instanceof HTMLElement&&(i.value.style.setProperty("--vacp-hsl-h",String(a.hsl.h)),i.value.style.setProperty("--vacp-hsl-s",String(a.hsl.s)),i.value.style.setProperty("--vacp-hsl-l",String(a.hsl.l)),i.value.style.setProperty("--vacp-hsl-a",String(a.hsl.a)),s.value.style.position="relative",s.value.style.backgroundColor="hsl(calc(var(--vacp-hsl-h) * 360) 100% 50%)",s.value.style.backgroundImage="linear-gradient(to top, #000, transparent), linear-gradient(to right, #fff, transparent)",r.value.style.boxSizing="border-box",r.value.style.position="absolute",r.value.style.left=100*a.hsv.s+"%",r.value.style.bottom=100*a.hsv.v+"%")})()}async function ce(){const j=a[l.value],V=t.alphaChannel==="hide",G=Kl(j,l.value,V);await window.navigator.clipboard.writeText(G)}function Me(j,V){return ko[j][V].to(a[j][V])}function Ve(j){if(!["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"].includes(j.key)||!j.shiftKey)return;const V=j.currentTarget,G=parseFloat(V.step),ee=["ArrowLeft","ArrowDown"].includes(j.key)?-1:1,ae=bn(parseFloat(V.value)+ee*G*10,parseInt(V.min),parseInt(V.max));V.value=String(ae-ee*G)}return su(()=>t.color,C),jc(function(){document.addEventListener("mousemove",w,{passive:!1}),document.addEventListener("touchmove",x,{passive:!1}),document.addEventListener("mouseup",v),document.addEventListener("touchend",v),C(t.color)}),Uc(function(){document.removeEventListener("mousemove",w),document.removeEventListener("touchmove",x),document.removeEventListener("mouseup",v),document.removeEventListener("touchend",v)}),(j,V)=>(_(),k("div",{ref_key:"colorPicker",ref:i,class:"vacp-color-picker uip-flex uip-flex-column uip-row-gap-xs"},[g("div",{ref_key:"colorSpace",ref:s,class:"vacp-color-space uip-border-rounder uip-h-130 uip-w-100p",onMousedown:d,onTouchstart:m},[g("div",{ref_key:"thumb",ref:r,class:"vacp-color-space-thumb",tabindex:"0","aria-label":"Color space thumb",onKeydown:A},null,544)],544),g("div",wd,[g("label",{class:"vacp-range-input-label vacp-range-input-label--hue",for:`${n.id}-hue-slider`},[g("span",Ad,[mn(j.$slots,"hue-range-input-label",{},()=>[sn("Hue")])]),g("input",{id:`${n.id}-hue-slider`,class:"vacp-range-input vacp-range-input--hue",value:360*a.hsv.h,type:"range",min:"0",max:"360",step:"1",onKeydownPassive:Ve,onInput:V[0]||(V[0]=G=>I(G,"h"))},null,40,Ed)],8,kd),n.alphaChannel==="show"?(_(),k("label",{key:0,class:"vacp-range-input-label vacp-range-input-label--alpha",for:`${n.id}-alpha-slider`},[g("span",Td,[mn(j.$slots,"alpha-range-input-label",{},()=>[sn("Alpha")])]),g("input",{id:`${n.id}-alpha-slider`,class:"vacp-range-input vacp-range-input--alpha",value:100*a.hsv.a,type:"range",min:"0",max:"100",step:"1",onKeydownPassive:Ve,onInput:V[1]||(V[1]=G=>I(G,"a"))},null,40,Nd)],8,Sd)):z("v-if",!0)]),g("button",{class:"vacp-copy-button uip-hidden",type:"button",onClick:ce},[mn(j.$slots,"copy-button",{},()=>[Cd,Od])]),g("div",Ld,[g("div",Id,[l.value==="hex"?(_(),k("label",{key:0,class:"vacp-color-input-label",for:`${n.id}-color-hex`},[Rd,g("input",{id:`${n.id}-color-hex`,class:"vacp-color-input",type:"text",value:p.value,onInput:L},null,40,Dd)],8,qd)):(_(!0),k(le,{key:1},be(c.value,G=>(_(),k("label",{id:`${n.id}-color-${l.value}-${G}-label`,key:`${n.id}-color-${l.value}-${G}-label`,class:"vacp-color-input-label",for:`${n.id}-color-${l.value}-${G}`,onInput:ee=>$(ee,G)},[g("span",Md,N(G.toUpperCase()),1),g("input",{id:`${n.id}-color-${l.value}-${G}`,class:"vacp-color-input",type:"text",value:Me(l.value,G),onInput:ee=>$(ee,G)},null,40,Bd)],40,Pd))),128))]),n.visibleFormats.length>1?(_(),k("button",{key:0,class:"vacp-format-switch-button uip-hidden",type:"button",onClick:f},[mn(j.$slots,"format-switch-button",{},()=>[$d,jd])])):z("v-if",!0)])],512))}};(function(n,e){e===void 0&&(e={});var t=e.insertAt;if(typeof document<"u"){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}})(".vacp-color-picker{--vacp-color:hsl(calc(var(--vacp-hsl-h)*360) calc(var(--vacp-hsl-s)*100%) calc(var(--vacp-hsl-l)*100%)/var(--vacp-hsl-a));--vacp-focus-color:#19f;--vacp-focus-outline:2px solid var(--vacp-focus-color);--vacp-border-width:1px;--vacp-border-color:#000;--vacp-border:var(--vacp-border-width) solid var(--vacp-border-color);--vacp-color-space-width:300px;--vacp-spacing:6px;grid-gap:var(--vacp-spacing);background-color:transparent;display:grid;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-size:.8em;max-width:var(--vacp-color-space-width)}.vacp-color-picker *,.vacp-color-picker :after,.vacp-color-picker :before{box-sizing:border-box}.vacp-color-picker button::-moz-focus-inner{border:none;padding:0}.vacp-color-picker :focus{outline:var(--vacp-focus-outline)}.vacp-color-space{grid-column:1/-1;height:calc(var(--vacp-color-space-width)*.6);overflow:hidden}.vacp-color-space-thumb{--vacp-thumb-size:calc(var(--vacp-spacing)*4);border:3px solid #fff;border-radius:50%;box-shadow:0 0 0 var(--vacp-border-width) var(--vacp-border-color);height:var(--vacp-thumb-size);margin-bottom:calc(var(--vacp-thumb-size)*-1/2);margin-left:calc(var(--vacp-thumb-size)*-1/2);transform:rotate(0);width:var(--vacp-thumb-size)}.vacp-color-space-thumb:focus{box-shadow:0 0 0 var(--vacp-border-width) var(--vacp-border-color),0 0 0 3px var(--vacp-focus-color);outline-color:transparent}.vacp-range-input-label{--vacp-slider-track-width:100%;--vacp-slider-track-height:calc(var(--vacp-spacing)*3);display:block}.vacp-range-input-group{display:flex;flex-direction:column;justify-content:center}.vacp-range-input-group>:not(:first-child){margin-top:var(--vacp-spacing)}.vacp-range-input,.vacp-range-input::-webkit-slider-thumb{-webkit-appearance:none}.vacp-range-input{background:none;border:none;display:block;height:var(--vacp-slider-track-height);margin-bottom:calc(var(--vacp-spacing)/2 + 1px);margin-left:0;margin-right:0;margin-top:calc(var(--vacp-spacing)/2 + 1px);padding:0;width:var(--vacp-slider-track-width)}.vacp-range-input:focus{outline:none}.vacp-range-input::-moz-focus-outer{border:none}.vacp-range-input--alpha{background-color:#fff;background-image:linear-gradient(45deg,#eee 25%,transparent 0,transparent 75%,#eee 0,#eee),linear-gradient(45deg,#eee 25%,transparent 0,transparent 75%,#eee 0,#eee);background-position:0 0,var(--vacp-spacing) var(--vacp-spacing);background-size:calc(var(--vacp-spacing)*2) calc(var(--vacp-spacing)*2)}.vacp-range-input::-moz-range-track{border:var(--vacp-border);box-sizing:content-box;height:var(--vacp-slider-track-height);width:var(--vacp-slider-track-width)}.vacp-range-input::-webkit-slider-runnable-track{border:var(--vacp-border);box-sizing:content-box;height:var(--vacp-slider-track-height);width:var(--vacp-slider-track-width)}.vacp-range-input::-ms-track{border:var(--vacp-border);box-sizing:content-box;height:var(--vacp-slider-track-height);width:var(--vacp-slider-track-width)}.vacp-range-input:focus::-moz-range-track{outline:var(--vacp-focus-outline)}.vacp-range-input:focus::-webkit-slider-runnable-track{outline:var(--vacp-focus-outline)}.vacp-range-input:focus::-ms-track{outline:var(--vacp-focus-outline)}.vacp-range-input--alpha::-moz-range-track{background-image:linear-gradient(to right,transparent,var(--vacp-color))}.vacp-range-input--alpha::-webkit-slider-runnable-track{background-image:linear-gradient(to right,transparent,var(--vacp-color))}.vacp-range-input--alpha::-ms-track{background-image:linear-gradient(to right,transparent,var(--vacp-color))}.vacp-range-input--hue::-moz-range-track{background-image:linear-gradient(90deg,red 0,#ff0 16.66667%,#0f0 33.33333%,#0ff 50%,#00f 66.66667%,#f0f 83.33333%,red 100%)}.vacp-range-input--hue::-webkit-slider-runnable-track{background-image:linear-gradient(90deg,red 0,#ff0 16.66667%,#0f0 33.33333%,#0ff 50%,#00f 66.66667%,#f0f 83.33333%,red 100%)}.vacp-range-input--hue::-ms-track{background-image:linear-gradient(90deg,red 0,#ff0 16.66667%,#0f0 33.33333%,#0ff 50%,#00f 66.66667%,#f0f 83.33333%,red 100%)}.vacp-range-input::-moz-range-thumb{background-color:transparent;border:3px solid #fff;border-radius:50%;box-shadow:0 0 0 var(--vacp-border-width) var(--vacp-border-color);box-sizing:content-box;height:var(--vacp-slider-track-height);isolation:isolate;width:var(--vacp-slider-track-height)}.vacp-range-input::-webkit-slider-thumb{background-color:transparent;border:3px solid #fff;border-radius:50%;box-shadow:0 0 0 var(--vacp-border-width) var(--vacp-border-color);box-sizing:content-box;height:var(--vacp-slider-track-height);isolation:isolate;margin-top:calc((var(--vacp-spacing)/2)*-1);width:var(--vacp-slider-track-height)}.vacp-range-input::-ms-thumb{background-color:transparent;border:3px solid #fff;border-radius:50%;box-shadow:0 0 0 var(--vacp-border-width) var(--vacp-border-color);box-sizing:content-box;height:var(--vacp-slider-track-height);isolation:isolate;margin-top:calc((var(--vacp-spacing)/2)*-1);width:var(--vacp-slider-track-height)}.vacp-copy-button{align-items:center;align-self:center;background-color:#fff;border:var(--vacp-border-width) solid transparent;border-radius:50%;display:flex;height:calc(var(--vacp-spacing)*6);justify-content:center;justify-self:center;overflow:hidden;position:relative;width:calc(var(--vacp-spacing)*6)}.vacp-copy-button:enabled:focus{border-color:var(--vacp-border-color);box-shadow:0 0 0 2px var(--vacp-focus-color);outline:none}.vacp-copy-button:enabled:hover{background-color:#0002}.vacp-color-inputs{align-items:center;display:flex;grid-column:1/-1}.vacp-color-inputs>:not(:first-child){margin-left:var(--vacp-spacing)}.vacp-color-input-group{column-gap:var(--vacp-spacing);display:grid;flex-grow:1;grid-auto-flow:column}.vacp-color-input-label{text-align:center}.vacp-color-input{border:var(--vacp-border);margin:0;margin-top:calc(var(--vacp-spacing)/2);text-align:center;width:100%}.vacp-color-input,.vacp-format-switch-button{background-color:#fff;color:inherit;font:inherit;padding:var(--vacp-spacing)}.vacp-format-switch-button{align-items:center;border:var(--vacp-border-width) solid transparent;border-radius:50%;display:flex;justify-content:center;margin:0}.vacp-format-switch-button:enabled:focus{border-color:var(--vacp-border-color)}.vacp-format-switch-button:enabled:hover{background-color:#0002}.vacp-visually-hidden{clip:rect(0 0 0 0);border:0;height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.vacp-range-input-label{margin:0!important}.vacp-range-input{border-radius:var(--uip-border-radius-large);height:8px}.vacp-range-input::-webkit-slider-runnable-track{border:none!important;border-radius:var(--uip-border-radius-large);height:8px}.vacp-range-input--alpha{background:repeating-conic-gradient(#cccccd 0 25%,transparent 0 50%) 50%/8px 10px}.vacp-range-input::-webkit-slider-thumb{width:8px;height:8px;outline:grey 1px;box-shadow:0 0 0 1px var(--uip-border-color)}.vacp-color-space-thumb{--vacp-thumb-size:calc(var(--vacp-spacing)*2);border:2px solid #fff;border-radius:50%;box-shadow:0 0 0 1px var(--uip-border-color);height:12px;width:12px}"),Qo.__file="src/ColorPicker.vue";const{__:ct}=wp.i18n,Ud={components:{colorSelect:Qo},props:{currentColor:String,returnData:Function,actualValue:String},data(){return{contextIndex:!1,scrollBottom:!1,showSearch:!1,search:"",strings:{styles:ct("Styles","uipress-lite"),create:ct("Create","uipress-lite"),delete:ct("Delete","uipress-lite"),duplicate:ct("Duplicate","uipress-lite"),edit:ct("Edit","uipress-lite"),createShades:ct("Create shades","uipress-lite"),copyVariable:ct("Copy variable","uipress-lite"),searchStyles:ct("Search styles","uipress-lite")}}},watch:{"uipApp.data.themeStyles":{handler(){this.saveStyles()},deep:!0}},computed:{returnActiveMode(){if(!this.uipApp.data.userPrefs.darkTheme)return"value";if(this.uipApp.data.userPrefs.darkTheme)return"darkValue"},activeStyle(){if(this.actualValue&&this.actualValue.includes("--"))return this.actualValue},returnUserStyles(){this.uipApp.data.themeStyles||(this.uipApp.data.themeStyles={});let e=this.search.toLowerCase();return Object.entries(this.uipApp.data.themeStyles).filter(([t,i])=>(i.name=t,(i.type==="color"||!("name"in i))&&this.maybeToLowerCase(i.name).includes(e))).map(([t,i])=>(i.type="color",i))},canDeleteVar(){return this.contextIndex===!1?!0:!(!this.uipApp.data.themeStyles[this.contextIndex]||this.uipApp.data.themeStyles[this.contextIndex].user)}},methods:{maybeToLowerCase(n){return n?n.toLowerCase():""},async saveStyles(){let n=JSON.stringify(this.uipApp.data.themeStyles),e=new FormData;e.append("action","uip_save_user_styles"),e.append("security",uip_ajax.security),e.append("styles",n);const t=await this.sendServerRequest(uip_ajax.ajax_url,e);return t.error&&this.uipApp.notifications.notify(t.message,"uipress-lite","","error",!0),!0},addNewStyle(){const n={name:"",type:"color",value:this.currentColor,darkValue:this.currentColor,user:!0};let e={component:"colourStyleEditor",label:ct("New color style","uipress-lite"),value:n,returnData:t=>{this.uipApp.data.themeStyles[t.name]=t,this.$emit("go-back")}};this.$emit("request-screen",e)},editColor(){const n=this.uipApp.data.themeStyles[this.contextIndex];let e={component:"colourStyleEditor",label:ct("Edit color style","uipress-lite"),value:n,returnData:!1};this.$refs.colorcontext.close(),this.$emit("request-screen",e)},duplicateColor(){const n=this.uipApp.data.themeStyles[this.contextIndex];let e=JSON.parse(JSON.stringify(n));e.name+="-copy";let t={component:"colourStyleEditor",label:ct("New color style","uipress-lite"),value:e,returnData:i=>{this.seqlData.options.app_data.styles.push(i),this.$emit("go-back")}};this.$refs.colorcontext.close(),this.$emit("request-screen",t)},setColor(n){this.returnData(n)},checkForBottomScroll(n){const e=n.target;e.scrollTop+e.clientHeight>=e.scrollHeight-16?this.scrollBottom=!0:this.scrollBottom=!1},maybeHideSearch(){(this.search.length===0||!this.search)&&(this.showSearch=!1)},returnStyleBackground(n){const e=this.returnActiveMode;return n[e]?n[e].includes("--")?`var(${n[e]})`:n[e]:`var(${n.name})`}}},Vd={class:"uip-flex uip-flex-column uip-row-gap-xs uip-position-relative"},Hd={class:"uip-flex uip-flex-between uip-flex-center"},Fd=["placeholder"],zd=["onContextmenu","onClick"],Kd={class:"uip-w-16 uip-border-circle uip-ratio-1-1 uip-background-checkered"},Gd={class:""},Wd={key:0,class:"uip-fade-in uip-position-absolute uip-bottom-0 uip-w-100p",style:{"pointer-events":"none"}},Xd=g("div",{style:{position:"absolute",top:"0px","background-image":"linear-gradient(to top, var(--uip-color-base-0), transparent)",transform:"translateY(-100%)",height:"60px",width:"100%","z-index":"9"}},null,-1),Yd=[Xd],Zd={class:"uip-padding-xs uip-flex uip-flex-column uip-text-weight-normal uip-text-s"},Qd={class:""},Jd={class:""},ef=g("div",{class:"uip-border-top uip-margin-top-xs uip-margin-bottom-xs"},null,-1),tf={class:""};function nf(n,e,t,i,s,r){const o=P("AppIcon"),l=P("contextmenu");return _(),k("div",Vd,[g("div",Hd,[(_(),he(ni("style"),{scoped:""},{default:Y(()=>[sn(" .searchfade-enter-active, .searchfade-leave-active { transition: all 0.2s ease; } .searchfade-enter-from, .searchfade-leave-to { opacity: 0; transform: translateX(30px); } ")]),_:1})),O(Ps,{name:"searchfade",mode:"out-in"},{default:Y(()=>[s.showSearch?(_(),k("div",{key:"search",onMouseleave:e[3]||(e[3]=(...a)=>r.maybeHideSearch&&r.maybeHideSearch(...a)),class:"uip-flex uip-gap-xs uip-flex-center"},[O(o,{icon:"search",class:"uip-icon"}),Z(g("input",{class:"uip-input uip-blank-input uip-text-s",type:"text",onBlur:e[1]||(e[1]=(...a)=>r.maybeHideSearch&&r.maybeHideSearch(...a)),"onUpdate:modelValue":e[2]||(e[2]=a=>s.search=a),placeholder:s.strings.searchStyles,autofocus:""},null,40,Fd),[[ne,s.search]])],32)):(_(),k("div",{key:"title",class:"uip-text-bold uip-text-emphasis",onMouseenter:e[0]||(e[0]=a=>s.showSearch=!0)},N(s.strings.styles),33))]),_:1}),g("div",{onClick:e[4]||(e[4]=(...a)=>r.addNewStyle&&r.addNewStyle(...a)),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-default hover:uip-background-muted uip-border-rounder"},[O(o,{icon:"add",class:"uip-icon"})])]),g("div",{class:"uip-flex uip-flex-column uip-max-h-160",onScroll:e[5]||(e[5]=(...a)=>r.checkForBottomScroll&&r.checkForBottomScroll(...a)),style:{overflow:"auto"}},[(_(!0),k(le,null,be(r.returnUserStyles,(a,c)=>(_(),k("div",{onContextmenu:We(p=>{s.contextIndex=a.name,n.$refs.colorcontext.show(p)},["prevent","stop"]),onClick:p=>r.setColor(a),class:Ke([{"uip-background-muted":r.activeStyle==a.name,"hover:uip-background-muted":r.activeStyle!=a.name},"uip-flex uip-gap-s uip-flex-center uip-padding-xxs uip-padding-left-xs uip-link-default uip-border-rounder"])},[g("div",Kd,[g("div",{class:"uip-w-16 uip-border-circle uip-ratio-1-1 uip-border",style:Zn({background:r.returnStyleBackground(a)})},null,4)]),g("div",Gd,N(a.name),1)],42,zd))),256))],32),!s.scrollBottom&&s.search==""?(_(),k("div",Wd,Yd)):z("",!0),O(l,{ref:"colorcontext",disableTeleport:!0},{default:Y(()=>[g("div",Zd,[g("a",{class:"uip-link-default uip-flex uip-gap-m uip-flex-between uip-flex-center hover:uip-background-muted uip-border-round uip-padding-xxs",onClick:e[6]||(e[6]=We((...a)=>r.editColor&&r.editColor(...a),["prevent"]))},[g("span",Qd,N(s.strings.edit),1),O(o,{icon:"edit",class:"uip-icon"})]),g("a",{class:"uip-link-default uip-flex uip-gap-m uip-flex-between uip-flex-center hover:uip-background-muted uip-border-round uip-padding-xxs",onClick:e[7]||(e[7]=We((...a)=>r.duplicateColor&&r.duplicateColor(...a),["prevent"]))},[g("span",Jd,N(s.strings.duplicate),1),O(o,{icon:"content_copy",class:"uip-icon"})]),ef,g("a",{class:Ke(["uip-link-danger uip-flex uip-gap-m uip-flex-between uip-flex-center hover:uip-background-muted uip-border-round uip-padding-xxs",{"uip-link-disabled":r.canDeleteVar}]),onClick:e[8]||(e[8]=We(a=>{delete this.uipApp.data.themeStyles[s.contextIndex],n.$refs.colorcontext.close()},["prevent"]))},[g("span",tf,N(s.strings.delete),1),O(o,{icon:"delete",class:"uip-icon"})],2)])]),_:1},512)])}const sf=J(Ud,[["render",nf]]),rf={components:{colorSelect:Qo,styleManager:sf},props:{value:String,returnData:Function,args:Object},data(){return{color:this.value,opacity:100,dragging:!1,dontProcessVars:!1}},watch:{opacity:{handler(n,e){n||(this.opacity=0),n>100&&(this.opacity=100),n<0&&(this.opacity=0),this.updateOpacity()},deep:!0},value:{handler(){this.color=this.value}}},computed:{hasStyleManager(){return!this.args||!this.isObject(this.args)||!("hasStyleManager"in this.args)?!0:this.args.hasStyleManager},returnColor(){return!this.color||this.color.includes("gradient")?"#b500ff":this.color.includes("--")?this.colorFromVar:this.color},colorFromVar(){if(this.dontProcessVars)return this.color;const n=this.uipApp.data.themeStyles,e=this.color.trim();if(e in n){const s=this.returnActiveMode,r=n[e][s];if(r)return r}const i=getComputedStyle(document.documentElement).getPropertyValue(e).trim();return i||"#b500ff"},returnActiveMode(){if(!this.uipApp.data.userPrefs.darkTheme)return"value";if(this.uipApp.data.userPrefs.darkTheme)return"darkValue"},hasEyeDropper(){return!!window.EyeDropper}},methods:{preventOverDrag(n){this.dragging=!0},allowColorReturn(n){this.dragging=!1,this.returnData(this.color)},setBackgroundColor(n){this.color=n.cssColor,this.setOpacity()},setOpacity(){if(!this.$refs.colorpicker)return"100";let n=this.$refs.colorpicker.querySelector("#color-picker-alpha-slider");if(n){let e=n.value;this.opacity=e}},updateOpacity(){if(!this.$refs.colorpicker||!this.opacity)return;let n=this.$refs.colorpicker.querySelector("#color-picker-alpha-slider");n&&(n.value=this.opacity,n.dispatchEvent(new Event("input",{bubbles:!0})))},startColorPicker(){new EyeDropper().open().then(e=>{this.color=e.sRGBHex})},processScreen(n){this.$emit("request-screen",n)},setColorFromVar(n){this.color=n.value,this.returnData(n.name)}},template:`
	  
		 
			`},of={class:"",ref:"colorpicker"},lf={class:"uip-flex uip-gap-xs"},af={class:"uip-flex uip-flex-center uip-background-muted uip-border-rounder uip-padding-xxs"},uf=g("span",{class:"uip-text-s"},"%",-1),cf={key:1,class:"uip-border-top uip-margin-top-s uip-margin-bottom-s"};function pf(n,e,t,i,s,r){const o=P("colorSelect"),l=P("AppIcon"),a=P("styleManager");return _(),k("div",of,[s.dragging?(_(),k("div",{key:0,onClick:e[0]||(e[0]=We(c=>s.dragging=!1,["stop","prevent"])),onMouseup:e[1]||(e[1]=We(c=>s.dragging=!1,["stop","prevent"])),style:{position:"fixed",left:"0",right:"0",top:"0",bottom:"0"}},null,32)):z("",!0),O(o,{color:r.returnColor,"default-format":"hex",onMouseup:r.allowColorReturn,onMousedown:r.preventOverDrag,onClick:e[2]||(e[2]=c=>s.dragging=!1),onColorChange:r.setBackgroundColor},null,8,["color","onMouseup","onMousedown","onColorChange"]),g("div",lf,[Z(g("input",{onInput:e[3]||(e[3]=c=>t.returnData(s.color)),class:"uip-input uip-flex-grow",type:"text",onFocus:e[4]||(e[4]=c=>s.dontProcessVars=!0),onBlur:e[5]||(e[5]=c=>s.dontProcessVars=!1),"onUpdate:modelValue":e[6]||(e[6]=c=>s.color=c),placeholder:"#4776cd"},null,544),[[ne,s.color]]),g("div",af,[Z(g("input",{class:"uip-text-s uip-blank-input uip-w-30 uip-remove-steps",type:"number",min:"0",max:"100",step:"1","onUpdate:modelValue":e[7]||(e[7]=c=>s.opacity=c)},null,512),[[ne,s.opacity]]),uf]),r.hasEyeDropper?(_(),k("button",{key:0,onClick:e[8]||(e[8]=(...c)=>r.startColorPicker&&r.startColorPicker(...c)),class:"uip-button-default uip-flex uip-flex-center uip-padding-xxs"},[O(l,{icon:"colorize",class:"uip-icon"})])):z("",!0)]),r.hasStyleManager?(_(),k("div",cf)):z("",!0),r.hasStyleManager?(_(),he(a,{key:2,currentColor:s.color,actualValue:t.value,onRequestScreen:e[9]||(e[9]=c=>{r.processScreen(c)}),onGoBack:e[10]||(e[10]=c=>n.$emit("go-back")),returnData:r.setColorFromVar},null,8,["currentColor","actualValue","returnData"])):z("",!0)],512)}const vu=J(rf,[["render",pf]]),{__:Es}=wp.i18n,hf={components:{colorPicker:vu},props:{value:Object,returnData:[Function,Boolean]},data(){return{mode:"value",strings:{styleName:Es("Style name","uipress-lite"),create:Es("Create","uipress-lite")},color:{},updating:!1,colorModes:{value:{value:"value",icon:"light_mode",tip:Es("Light mode","uipress-lite")},darkValue:{value:"darkValue",icon:"dark_mode",tip:Es("Dark mode","uipress-lite")}}}},watch:{value:{handler(){this.updating||this.injectProp()},immediate:!0,deep:!0},"color.name":{handler(){this.color.name=this.cleanKeyName(this.color.name)}},"uipApp.data.userPrefs.darkTheme":{handler(){this.updateDefaultColorState()},deep:!0}},mounted(){this.updateDefaultColorState()},computed:{returnColor(){if(!this.color.value&&!this.color.darkValue){const e=getComputedStyle(document.documentElement).getPropertyValue(this.color.name).trim();return e||"#b500ff"}return this.color[this.mode]?this.color[this.mode]:"#b500ff"}},methods:{async injectProp(){this.updating=!0,this.color=this.isObject(this.value)?this.value:{},await this.$nextTick(),this.updating=!1},updateDefaultColorState(){this.uipApp.data.userPrefs.darkTheme||(this.mode="value"),this.uipApp.data.userPrefs.darkTheme&&(this.mode="darkValue")},cleanKeyName(n){return n=n.replace(" ","-"),n=n.replace(",",""),n=n.replace(".",""),n=n.replace(/[`~!@#$%^&*()|+\=?;:'",.<>\{\}\[\]\\\/]/gi,""),n=n.toLowerCase(),n=this.ensureDoubleDashPrefix(n),n},ensureDoubleDashPrefix(n){return n?n.startsWith("--")?n:n.startsWith("-")?"--"+n.slice(1):"--"+n:"--"},setColorStyle(){this.returnData(this.color)}}},df={class:"uip-flex uip-flex-column uip-row-gap-s",ref:"colorpicker"},ff=["disabled","placeholder"],gf=["disabled"];function mf(n,e,t,i,s,r){const o=P("toggle-switch"),l=P("colorPicker");return _(),k("div",df,[Z(g("input",{disabled:!s.color.user,class:"uip-input uip-flex-grow",type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>s.color.name=a),placeholder:s.strings.styleName,autofocus:""},null,8,ff),[[ne,s.color.name]]),O(o,{activeValue:s.mode,options:s.colorModes,returnValue:a=>{s.mode=a}},null,8,["activeValue","options","returnValue"]),O(l,{value:r.returnColor,returnData:a=>{s.color[s.mode]=a},args:{hasStyleManager:!1}},null,8,["value","returnData"]),t.returnData?(_(),k("button",{key:0,onClick:e[1]||(e[1]=(...a)=>r.setColorStyle&&r.setColorStyle(...a)),class:"uip-button-primary",disabled:!s.color.name},N(s.strings.create),9,gf)):z("",!0)],512)}const bf=J(hf,[["render",mf]]),{__:vf}=wp.i18n,yf={components:{colorBox:mu,screenControl:bd,colorPicker:vu,colourStyleEditor:bf},props:{returnData:Function,value:Object,args:Object},data(){return{updating:!1,colour:this.returnDefaultValue,strings:{colorPicker:vf("Colour picker","uipress-lite")}}},watch:{colour:{handler(){this.updating||this.returnData(this.colour)},deep:!0},value:{handler(n,e){this.updating||this.formatValue()},deep:!0,immediate:!0}},computed:{returnDefaultValue(){return{value:"",type:"solid"}},returnFillStyle(){if(!("value"in this.colour)||!this.colour.value)return;const n=this.colour.value;return n.includes("--")?`background:var(${n})`:`background:${n}`},colourPickerScreen(){return{component:"colorPicker",value:this.colour.value,label:this.strings.colorPicker,args:this.args,returnData:n=>{this.colour.value=n}}},returnDropPos(){return this.hasNestedPath(this.args,"dropPosition")?this.args.dropPosition:"left center"}},methods:{async formatValue(){this.updating=!0,this.colour=this.returnDefaultValue,this.colour=this.isObject(this.value)?{...this.value}:this.returnDefaultValue,await this.$nextTick(),this.updating=!1}}},xf={class:"uip-padding-s uip-w-240"};function _f(n,e,t,i,s,r){const o=P("colorBox"),l=P("screenControl"),a=P("dropdown");return _(),he(a,{pos:r.returnDropPos,snapX:["#uip-block-settings","#uip-template-settings","#uip-global-settings"],ref:"fillDrop",class:"uip-w-100p"},{trigger:Y(()=>[O(o,{backgroundStyle:r.returnFillStyle,text:this.colour.value,remove:()=>{this.colour.value=""}},null,8,["backgroundStyle","text","remove"])]),content:Y(()=>[g("div",xf,[O(l,{startScreen:r.colourPickerScreen,homeScreen:r.colourPickerScreen.component,closer:n.$refs.fillDrop.close,showNavigation:!0},{componenthandler:Y(({processScreen:c,currentScreen:p,goBack:f})=>[(_(),he(Vc,null,[(_(),he(ni(p.component),{onRequestScreen:d=>{c(d)},onGoBack:d=>f(),returnData:p.returnData,value:p.value,args:p.args},null,40,["onRequestScreen","onGoBack","returnData","value","args"]))],1024))]),_:1},8,["startScreen","homeScreen","closer"])])]),_:1},8,["pos"])}const wf=J(yf,[["render",_f]]),kf={props:{returnData:Function,value:String,placeHolder:String,args:Object,size:String},data(){return{option:"",password:!1,updating:!1}},watch:{value:{handler(n,e){this.updating||this.injectProp()},immediate:!0},option:{handler(n,e){this.updating||(this.returnData(this.option),this.maybeFormatForMeta())}}},mounted(){this.initialiseInput()},computed:{returnType(){return this.password?"password":"text"}},methods:{maybeFormatForMeta(){if(!this.args||!this.args.metaKey||!this.option)return;let n=this.option;n=n.replace(" ","_"),n=n.replace(/[&/#,+()$~%.'":*?<>{}]/g,""),n=n.toLowerCase(),this.option=n},initialiseInput(){this.args&&this.args.password&&(this.password=!0)},async injectProp(){this.updating=!0,this.option=this.value,await Hs(),this.updating=!1}}},Af=["type","placeholder"];function Ef(n,e,t,i,s,r){return Z((_(),k("input",{type:r.returnType,class:Ke(["uip-input-small uip-w-100p",{"uip-w-100":t.size=="xsmall"}]),"onUpdate:modelValue":e[0]||(e[0]=o=>s.option=o),placeholder:t.placeHolder},null,10,Af)),[[Hc,s.option]])}const Sf=J(kf,[["render",Ef]]),Tf={props:{returnData:Function,value:String,placeHolder:String},data(){return{option:null}},watch:{option:{handler(n,e){this.returnData(this.option)},deep:!0}},mounted(){this.injectProp()},methods:{injectProp(){this.value&&(this.option=this.value)}}},Nf=["placeholder"];function Cf(n,e,t,i,s,r){return Z((_(),k("textarea",{class:"uip-input uip-w-100p","onUpdate:modelValue":e[0]||(e[0]=o=>s.option=o),placeholder:t.placeHolder},null,8,Nf)),[[ne,s.option]])}const Of=J(Tf,[["render",Cf]]),Lf={props:{returnData:Function,value:[String,Number],placeHolder:String,customStep:[String,Number]},data(){return{option:"",step:1}},watch:{option:{handler(n,e){this.returnData(this.option)},deep:!0}},mounted(){this.initialiseNumber()},methods:{initialiseNumber(){typeof this.value<"u"&&(this.option=this.value),this.customStep&&(this.step=this.customStep)},stepUpNumber(){const n=parseFloat(this.option||0),e=parseFloat(this.step),t=n+e;this.option=t,Number.isInteger(this.option)||(this.option=this.option.toFixed(2))},stepDownNumber(){const n=parseFloat(this.option||0),e=parseFloat(this.step),t=n-e;this.option=t,Number.isInteger(this.option)||(this.option=this.option.toFixed(2))}}},If={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center uip-w-100p"},qf=["placeholder"],Rf={class:"uip-padding-xxxs uip-border-rounder uip-background-muted uip-flex uip-gap-xxs uip-no-text-select"},Df=g("div",{class:"uip-border-right"},null,-1);function Pf(n,e,t,i,s,r){const o=P("AppIcon");return _(),k("div",If,[Z(g("input",{type:"number",class:"uip-input-small uip-w-100p uip-flex-grow","onUpdate:modelValue":e[0]||(e[0]=l=>s.option=l),placeholder:t.placeHolder},null,8,qf),[[ne,s.option]]),g("div",Rf,[O(o,{icon:"remove",class:"uip-link-muted uip-icon uip-text-l",onClick:e[1]||(e[1]=l=>r.stepDownNumber())}),Df,O(o,{icon:"add",class:"uip-link-muted uip-icon uip-text-l",onClick:e[2]||(e[2]=l=>r.stepUpNumber())})])])}const Mf=J(Lf,[["render",Pf]]),{__:Gl}=wp.i18n,Bf={props:{returnData:Function,value:Array,placeHolder:String},data(){return{strings:{placeHolder:Gl("Select post types","uipress-lite"),searchPlaceHolder:Gl("Seach post types","uipress-lite")}}}};function $f(n,e,t,i,s,r){const o=P("post-type-select");return _(),he(o,{selected:t.value,placeHolder:s.strings.placeHolder,searchPlaceHolder:s.strings.searchPlaceHolder,single:!1,updateSelected:t.returnData},null,8,["selected","placeHolder","searchPlaceHolder","updateSelected"])}const jf=J(Bf,[["render",$f]]);var yu=typeof global=="object"&&global&&global.Object===Object&&global,Uf=typeof self=="object"&&self&&self.Object===Object&&self,It=yu||Uf||Function("return this")(),rn=It.Symbol,xu=Object.prototype,Vf=xu.hasOwnProperty,Hf=xu.toString,Ni=rn?rn.toStringTag:void 0;function Ff(n){var e=Vf.call(n,Ni),t=n[Ni];try{n[Ni]=void 0;var i=!0}catch{}var s=Hf.call(n);return i&&(e?n[Ni]=t:delete n[Ni]),s}var zf=Object.prototype,Kf=zf.toString;function Gf(n){return Kf.call(n)}var Wf="[object Null]",Xf="[object Undefined]",Wl=rn?rn.toStringTag:void 0;function ci(n){return n==null?n===void 0?Xf:Wf:Wl&&Wl in Object(n)?Ff(n):Gf(n)}function jt(n){return n!=null&&typeof n=="object"}var yn=Array.isArray;function on(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function _u(n){return n}var Yf="[object AsyncFunction]",Zf="[object Function]",Qf="[object GeneratorFunction]",Jf="[object Proxy]";function Jo(n){if(!on(n))return!1;var e=ci(n);return e==Zf||e==Qf||e==Yf||e==Jf}var ro=It["__core-js_shared__"],Xl=function(){var n=/[^.]+$/.exec(ro&&ro.keys&&ro.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function eg(n){return!!Xl&&Xl in n}var tg=Function.prototype,ng=tg.toString;function wn(n){if(n!=null){try{return ng.call(n)}catch{}try{return n+""}catch{}}return""}var ig=/[\\^$.*+?()[\]{}|]/g,sg=/^\[object .+?Constructor\]$/,rg=Function.prototype,og=Object.prototype,lg=rg.toString,ag=og.hasOwnProperty,ug=RegExp("^"+lg.call(ag).replace(ig,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cg(n){if(!on(n)||eg(n))return!1;var e=Jo(n)?ug:sg;return e.test(wn(n))}function pg(n,e){return n==null?void 0:n[e]}function kn(n,e){var t=pg(n,e);return cg(t)?t:void 0}var Ao=kn(It,"WeakMap"),Yl=Object.create,hg=function(){function n(){}return function(e){if(!on(e))return{};if(Yl)return Yl(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();function dg(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function wu(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e}var fg=800,gg=16,mg=Date.now;function bg(n){var e=0,t=0;return function(){var i=mg(),s=gg-(i-t);if(t=i,s>0){if(++e>=fg)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function vg(n){return function(){return n}}var Ms=function(){try{var n=kn(Object,"defineProperty");return n({},"",{}),n}catch{}}(),yg=Ms?function(n,e){return Ms(n,"toString",{configurable:!0,enumerable:!1,value:vg(e),writable:!0})}:_u,xg=bg(yg);function _g(n,e){for(var t=-1,i=n==null?0:n.length;++t<i&&e(n[t],t,n)!==!1;);return n}var wg=9007199254740991,kg=/^(?:0|[1-9]\d*)$/;function ku(n,e){var t=typeof n;return e=e??wg,!!e&&(t=="number"||t!="symbol"&&kg.test(n))&&n>-1&&n%1==0&&n<e}function el(n,e,t){e=="__proto__"&&Ms?Ms(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Xi(n,e){return n===e||n!==n&&e!==e}var Ag=Object.prototype,Eg=Ag.hasOwnProperty;function Au(n,e,t){var i=n[e];(!(Eg.call(n,e)&&Xi(i,t))||t===void 0&&!(e in n))&&el(n,e,t)}function Yi(n,e,t,i){var s=!t;t||(t={});for(var r=-1,o=e.length;++r<o;){var l=e[r],a=void 0;a===void 0&&(a=n[l]),s?el(t,l,a):Au(t,l,a)}return t}var Zl=Math.max;function Sg(n,e,t){return e=Zl(e===void 0?n.length-1:e,0),function(){for(var i=arguments,s=-1,r=Zl(i.length-e,0),o=Array(r);++s<r;)o[s]=i[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=i[s];return l[e]=t(o),dg(n,this,l)}}function Tg(n,e){return xg(Sg(n,e,_u),n+"")}var Ng=9007199254740991;function Eu(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Ng}function Ks(n){return n!=null&&Eu(n.length)&&!Jo(n)}function Cg(n,e,t){if(!on(t))return!1;var i=typeof e;return(i=="number"?Ks(t)&&ku(e,t.length):i=="string"&&e in t)?Xi(t[e],n):!1}function Og(n){return Tg(function(e,t){var i=-1,s=t.length,r=s>1?t[s-1]:void 0,o=s>2?t[2]:void 0;for(r=n.length>3&&typeof r=="function"?(s--,r):void 0,o&&Cg(t[0],t[1],o)&&(r=s<3?void 0:r,s=1),e=Object(e);++i<s;){var l=t[i];l&&n(e,l,i,r)}return e})}var Lg=Object.prototype;function tl(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||Lg;return n===t}function Ig(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var qg="[object Arguments]";function Ql(n){return jt(n)&&ci(n)==qg}var Su=Object.prototype,Rg=Su.hasOwnProperty,Dg=Su.propertyIsEnumerable,Eo=Ql(function(){return arguments}())?Ql:function(n){return jt(n)&&Rg.call(n,"callee")&&!Dg.call(n,"callee")};function Pg(){return!1}var Tu=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Jl=Tu&&typeof module=="object"&&module&&!module.nodeType&&module,Mg=Jl&&Jl.exports===Tu,ea=Mg?It.Buffer:void 0,Bg=ea?ea.isBuffer:void 0,Ui=Bg||Pg,$g="[object Arguments]",jg="[object Array]",Ug="[object Boolean]",Vg="[object Date]",Hg="[object Error]",Fg="[object Function]",zg="[object Map]",Kg="[object Number]",Gg="[object Object]",Wg="[object RegExp]",Xg="[object Set]",Yg="[object String]",Zg="[object WeakMap]",Qg="[object ArrayBuffer]",Jg="[object DataView]",em="[object Float32Array]",tm="[object Float64Array]",nm="[object Int8Array]",im="[object Int16Array]",sm="[object Int32Array]",rm="[object Uint8Array]",om="[object Uint8ClampedArray]",lm="[object Uint16Array]",am="[object Uint32Array]",ge={};ge[em]=ge[tm]=ge[nm]=ge[im]=ge[sm]=ge[rm]=ge[om]=ge[lm]=ge[am]=!0;ge[$g]=ge[jg]=ge[Qg]=ge[Ug]=ge[Jg]=ge[Vg]=ge[Hg]=ge[Fg]=ge[zg]=ge[Kg]=ge[Gg]=ge[Wg]=ge[Xg]=ge[Yg]=ge[Zg]=!1;function um(n){return jt(n)&&Eu(n.length)&&!!ge[ci(n)]}function nl(n){return function(e){return n(e)}}var Nu=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Di=Nu&&typeof module=="object"&&module&&!module.nodeType&&module,cm=Di&&Di.exports===Nu,oo=cm&&yu.process,ri=function(){try{var n=Di&&Di.require&&Di.require("util").types;return n||oo&&oo.binding&&oo.binding("util")}catch{}}(),ta=ri&&ri.isTypedArray,il=ta?nl(ta):um,pm=Object.prototype,hm=pm.hasOwnProperty;function Cu(n,e){var t=yn(n),i=!t&&Eo(n),s=!t&&!i&&Ui(n),r=!t&&!i&&!s&&il(n),o=t||i||s||r,l=o?Ig(n.length,String):[],a=l.length;for(var c in n)(e||hm.call(n,c))&&!(o&&(c=="length"||s&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||ku(c,a)))&&l.push(c);return l}function Ou(n,e){return function(t){return n(e(t))}}var dm=Ou(Object.keys,Object),fm=Object.prototype,gm=fm.hasOwnProperty;function mm(n){if(!tl(n))return dm(n);var e=[];for(var t in Object(n))gm.call(n,t)&&t!="constructor"&&e.push(t);return e}function sl(n){return Ks(n)?Cu(n):mm(n)}function bm(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var vm=Object.prototype,ym=vm.hasOwnProperty;function xm(n){if(!on(n))return bm(n);var e=tl(n),t=[];for(var i in n)i=="constructor"&&(e||!ym.call(n,i))||t.push(i);return t}function Zi(n){return Ks(n)?Cu(n,!0):xm(n)}var Vi=kn(Object,"create");function _m(){this.__data__=Vi?Vi(null):{},this.size=0}function wm(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var km="__lodash_hash_undefined__",Am=Object.prototype,Em=Am.hasOwnProperty;function Sm(n){var e=this.__data__;if(Vi){var t=e[n];return t===km?void 0:t}return Em.call(e,n)?e[n]:void 0}var Tm=Object.prototype,Nm=Tm.hasOwnProperty;function Cm(n){var e=this.__data__;return Vi?e[n]!==void 0:Nm.call(e,n)}var Om="__lodash_hash_undefined__";function Lm(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Vi&&e===void 0?Om:e,this}function xn(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}xn.prototype.clear=_m;xn.prototype.delete=wm;xn.prototype.get=Sm;xn.prototype.has=Cm;xn.prototype.set=Lm;function Im(){this.__data__=[],this.size=0}function Gs(n,e){for(var t=n.length;t--;)if(Xi(n[t][0],e))return t;return-1}var qm=Array.prototype,Rm=qm.splice;function Dm(n){var e=this.__data__,t=Gs(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():Rm.call(e,t,1),--this.size,!0}function Pm(n){var e=this.__data__,t=Gs(e,n);return t<0?void 0:e[t][1]}function Mm(n){return Gs(this.__data__,n)>-1}function Bm(n,e){var t=this.__data__,i=Gs(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}function Ht(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Ht.prototype.clear=Im;Ht.prototype.delete=Dm;Ht.prototype.get=Pm;Ht.prototype.has=Mm;Ht.prototype.set=Bm;var Hi=kn(It,"Map");function $m(){this.size=0,this.__data__={hash:new xn,map:new(Hi||Ht),string:new xn}}function jm(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function Ws(n,e){var t=n.__data__;return jm(e)?t[typeof e=="string"?"string":"hash"]:t.map}function Um(n){var e=Ws(this,n).delete(n);return this.size-=e?1:0,e}function Vm(n){return Ws(this,n).get(n)}function Hm(n){return Ws(this,n).has(n)}function Fm(n,e){var t=Ws(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}function An(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}An.prototype.clear=$m;An.prototype.delete=Um;An.prototype.get=Vm;An.prototype.has=Hm;An.prototype.set=Fm;function Lu(n,e){for(var t=-1,i=e.length,s=n.length;++t<i;)n[s+t]=e[t];return n}var rl=Ou(Object.getPrototypeOf,Object),zm="[object Object]",Km=Function.prototype,Gm=Object.prototype,Iu=Km.toString,Wm=Gm.hasOwnProperty,Xm=Iu.call(Object);function Ym(n){if(!jt(n)||ci(n)!=zm)return!1;var e=rl(n);if(e===null)return!0;var t=Wm.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Iu.call(t)==Xm}function Zm(){this.__data__=new Ht,this.size=0}function Qm(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function Jm(n){return this.__data__.get(n)}function e1(n){return this.__data__.has(n)}var t1=200;function n1(n,e){var t=this.__data__;if(t instanceof Ht){var i=t.__data__;if(!Hi||i.length<t1-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new An(i)}return t.set(n,e),this.size=t.size,this}function Nt(n){var e=this.__data__=new Ht(n);this.size=e.size}Nt.prototype.clear=Zm;Nt.prototype.delete=Qm;Nt.prototype.get=Jm;Nt.prototype.has=e1;Nt.prototype.set=n1;function i1(n,e){return n&&Yi(e,sl(e),n)}function s1(n,e){return n&&Yi(e,Zi(e),n)}var qu=typeof exports=="object"&&exports&&!exports.nodeType&&exports,na=qu&&typeof module=="object"&&module&&!module.nodeType&&module,r1=na&&na.exports===qu,ia=r1?It.Buffer:void 0,sa=ia?ia.allocUnsafe:void 0;function Ru(n,e){if(e)return n.slice();var t=n.length,i=sa?sa(t):new n.constructor(t);return n.copy(i),i}function o1(n,e){for(var t=-1,i=n==null?0:n.length,s=0,r=[];++t<i;){var o=n[t];e(o,t,n)&&(r[s++]=o)}return r}function Du(){return[]}var l1=Object.prototype,a1=l1.propertyIsEnumerable,ra=Object.getOwnPropertySymbols,ol=ra?function(n){return n==null?[]:(n=Object(n),o1(ra(n),function(e){return a1.call(n,e)}))}:Du;function u1(n,e){return Yi(n,ol(n),e)}var c1=Object.getOwnPropertySymbols,Pu=c1?function(n){for(var e=[];n;)Lu(e,ol(n)),n=rl(n);return e}:Du;function p1(n,e){return Yi(n,Pu(n),e)}function Mu(n,e,t){var i=e(n);return yn(n)?i:Lu(i,t(n))}function So(n){return Mu(n,sl,ol)}function h1(n){return Mu(n,Zi,Pu)}var To=kn(It,"DataView"),No=kn(It,"Promise"),Co=kn(It,"Set"),oa="[object Map]",d1="[object Object]",la="[object Promise]",aa="[object Set]",ua="[object WeakMap]",ca="[object DataView]",f1=wn(To),g1=wn(Hi),m1=wn(No),b1=wn(Co),v1=wn(Ao),dt=ci;(To&&dt(new To(new ArrayBuffer(1)))!=ca||Hi&&dt(new Hi)!=oa||No&&dt(No.resolve())!=la||Co&&dt(new Co)!=aa||Ao&&dt(new Ao)!=ua)&&(dt=function(n){var e=ci(n),t=e==d1?n.constructor:void 0,i=t?wn(t):"";if(i)switch(i){case f1:return ca;case g1:return oa;case m1:return la;case b1:return aa;case v1:return ua}return e});var y1=Object.prototype,x1=y1.hasOwnProperty;function _1(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&x1.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var Bs=It.Uint8Array;function ll(n){var e=new n.constructor(n.byteLength);return new Bs(e).set(new Bs(n)),e}function w1(n,e){var t=e?ll(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var k1=/\w*$/;function A1(n){var e=new n.constructor(n.source,k1.exec(n));return e.lastIndex=n.lastIndex,e}var pa=rn?rn.prototype:void 0,ha=pa?pa.valueOf:void 0;function E1(n){return ha?Object(ha.call(n)):{}}function Bu(n,e){var t=e?ll(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var S1="[object Boolean]",T1="[object Date]",N1="[object Map]",C1="[object Number]",O1="[object RegExp]",L1="[object Set]",I1="[object String]",q1="[object Symbol]",R1="[object ArrayBuffer]",D1="[object DataView]",P1="[object Float32Array]",M1="[object Float64Array]",B1="[object Int8Array]",$1="[object Int16Array]",j1="[object Int32Array]",U1="[object Uint8Array]",V1="[object Uint8ClampedArray]",H1="[object Uint16Array]",F1="[object Uint32Array]";function z1(n,e,t){var i=n.constructor;switch(e){case R1:return ll(n);case S1:case T1:return new i(+n);case D1:return w1(n,t);case P1:case M1:case B1:case $1:case j1:case U1:case V1:case H1:case F1:return Bu(n,t);case N1:return new i;case C1:case I1:return new i(n);case O1:return A1(n);case L1:return new i;case q1:return E1(n)}}function $u(n){return typeof n.constructor=="function"&&!tl(n)?hg(rl(n)):{}}var K1="[object Map]";function G1(n){return jt(n)&&dt(n)==K1}var da=ri&&ri.isMap,W1=da?nl(da):G1,X1="[object Set]";function Y1(n){return jt(n)&&dt(n)==X1}var fa=ri&&ri.isSet,Z1=fa?nl(fa):Y1,Q1=1,J1=2,eb=4,ju="[object Arguments]",tb="[object Array]",nb="[object Boolean]",ib="[object Date]",sb="[object Error]",Uu="[object Function]",rb="[object GeneratorFunction]",ob="[object Map]",lb="[object Number]",Vu="[object Object]",ab="[object RegExp]",ub="[object Set]",cb="[object String]",pb="[object Symbol]",hb="[object WeakMap]",db="[object ArrayBuffer]",fb="[object DataView]",gb="[object Float32Array]",mb="[object Float64Array]",bb="[object Int8Array]",vb="[object Int16Array]",yb="[object Int32Array]",xb="[object Uint8Array]",_b="[object Uint8ClampedArray]",wb="[object Uint16Array]",kb="[object Uint32Array]",fe={};fe[ju]=fe[tb]=fe[db]=fe[fb]=fe[nb]=fe[ib]=fe[gb]=fe[mb]=fe[bb]=fe[vb]=fe[yb]=fe[ob]=fe[lb]=fe[Vu]=fe[ab]=fe[ub]=fe[cb]=fe[pb]=fe[xb]=fe[_b]=fe[wb]=fe[kb]=!0;fe[sb]=fe[Uu]=fe[hb]=!1;function qs(n,e,t,i,s,r){var o,l=e&Q1,a=e&J1,c=e&eb;if(o!==void 0)return o;if(!on(n))return n;var p=yn(n);if(p){if(o=_1(n),!l)return wu(n,o)}else{var f=dt(n),d=f==Uu||f==rb;if(Ui(n))return Ru(n,l);if(f==Vu||f==ju||d&&!s){if(o=a||d?{}:$u(n),!l)return a?p1(n,s1(o,n)):u1(n,i1(o,n))}else{if(!fe[f])return s?n:{};o=z1(n,f,l)}}r||(r=new Nt);var m=r.get(n);if(m)return m;r.set(n,o),Z1(n)?n.forEach(function(x){o.add(qs(x,e,t,x,n,r))}):W1(n)&&n.forEach(function(x,y){o.set(y,qs(x,e,t,y,n,r))});var v=c?a?h1:So:a?Zi:sl,w=p?void 0:v(n);return _g(w||n,function(x,y){w&&(y=x,x=n[y]),Au(o,y,qs(x,e,t,y,n,r))}),o}var Ab=1,Eb=4;function Jn(n){return qs(n,Ab|Eb)}var Sb="__lodash_hash_undefined__";function Tb(n){return this.__data__.set(n,Sb),this}function Nb(n){return this.__data__.has(n)}function $s(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new An;++e<t;)this.add(n[e])}$s.prototype.add=$s.prototype.push=Tb;$s.prototype.has=Nb;function Cb(n,e){for(var t=-1,i=n==null?0:n.length;++t<i;)if(e(n[t],t,n))return!0;return!1}function Ob(n,e){return n.has(e)}var Lb=1,Ib=2;function Hu(n,e,t,i,s,r){var o=t&Lb,l=n.length,a=e.length;if(l!=a&&!(o&&a>l))return!1;var c=r.get(n),p=r.get(e);if(c&&p)return c==e&&p==n;var f=-1,d=!0,m=t&Ib?new $s:void 0;for(r.set(n,e),r.set(e,n);++f<l;){var v=n[f],w=e[f];if(i)var x=o?i(w,v,f,e,n,r):i(v,w,f,n,e,r);if(x!==void 0){if(x)continue;d=!1;break}if(m){if(!Cb(e,function(y,A){if(!Ob(m,A)&&(v===y||s(v,y,t,i,r)))return m.push(A)})){d=!1;break}}else if(!(v===w||s(v,w,t,i,r))){d=!1;break}}return r.delete(n),r.delete(e),d}function qb(n){var e=-1,t=Array(n.size);return n.forEach(function(i,s){t[++e]=[s,i]}),t}function Rb(n){var e=-1,t=Array(n.size);return n.forEach(function(i){t[++e]=i}),t}var Db=1,Pb=2,Mb="[object Boolean]",Bb="[object Date]",$b="[object Error]",jb="[object Map]",Ub="[object Number]",Vb="[object RegExp]",Hb="[object Set]",Fb="[object String]",zb="[object Symbol]",Kb="[object ArrayBuffer]",Gb="[object DataView]",ga=rn?rn.prototype:void 0,lo=ga?ga.valueOf:void 0;function Wb(n,e,t,i,s,r,o){switch(t){case Gb:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case Kb:return!(n.byteLength!=e.byteLength||!r(new Bs(n),new Bs(e)));case Mb:case Bb:case Ub:return Xi(+n,+e);case $b:return n.name==e.name&&n.message==e.message;case Vb:case Fb:return n==e+"";case jb:var l=qb;case Hb:var a=i&Db;if(l||(l=Rb),n.size!=e.size&&!a)return!1;var c=o.get(n);if(c)return c==e;i|=Pb,o.set(n,e);var p=Hu(l(n),l(e),i,s,r,o);return o.delete(n),p;case zb:if(lo)return lo.call(n)==lo.call(e)}return!1}var Xb=1,Yb=Object.prototype,Zb=Yb.hasOwnProperty;function Qb(n,e,t,i,s,r){var o=t&Xb,l=So(n),a=l.length,c=So(e),p=c.length;if(a!=p&&!o)return!1;for(var f=a;f--;){var d=l[f];if(!(o?d in e:Zb.call(e,d)))return!1}var m=r.get(n),v=r.get(e);if(m&&v)return m==e&&v==n;var w=!0;r.set(n,e),r.set(e,n);for(var x=o;++f<a;){d=l[f];var y=n[d],A=e[d];if(i)var C=o?i(A,y,d,e,n,r):i(y,A,d,n,e,r);if(!(C===void 0?y===A||s(y,A,t,i,r):C)){w=!1;break}x||(x=d=="constructor")}if(w&&!x){var I=n.constructor,L=e.constructor;I!=L&&"constructor"in n&&"constructor"in e&&!(typeof I=="function"&&I instanceof I&&typeof L=="function"&&L instanceof L)&&(w=!1)}return r.delete(n),r.delete(e),w}var Jb=1,ma="[object Arguments]",ba="[object Array]",Ss="[object Object]",ev=Object.prototype,va=ev.hasOwnProperty;function tv(n,e,t,i,s,r){var o=yn(n),l=yn(e),a=o?ba:dt(n),c=l?ba:dt(e);a=a==ma?Ss:a,c=c==ma?Ss:c;var p=a==Ss,f=c==Ss,d=a==c;if(d&&Ui(n)){if(!Ui(e))return!1;o=!0,p=!1}if(d&&!p)return r||(r=new Nt),o||il(n)?Hu(n,e,t,i,s,r):Wb(n,e,a,t,i,s,r);if(!(t&Jb)){var m=p&&va.call(n,"__wrapped__"),v=f&&va.call(e,"__wrapped__");if(m||v){var w=m?n.value():n,x=v?e.value():e;return r||(r=new Nt),s(w,x,t,i,r)}}return d?(r||(r=new Nt),Qb(n,e,t,i,s,r)):!1}function Fu(n,e,t,i,s){return n===e?!0:n==null||e==null||!jt(n)&&!jt(e)?n!==n&&e!==e:tv(n,e,t,i,Fu,s)}function nv(n){return function(e,t,i){for(var s=-1,r=Object(e),o=i(e),l=o.length;l--;){var a=o[++s];if(t(r[a],a,r)===!1)break}return e}}var iv=nv();function Oo(n,e,t){(t!==void 0&&!Xi(n[e],t)||t===void 0&&!(e in n))&&el(n,e,t)}function sv(n){return jt(n)&&Ks(n)}function Lo(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function rv(n){return Yi(n,Zi(n))}function ov(n,e,t,i,s,r,o){var l=Lo(n,t),a=Lo(e,t),c=o.get(a);if(c){Oo(n,t,c);return}var p=r?r(l,a,t+"",n,e,o):void 0,f=p===void 0;if(f){var d=yn(a),m=!d&&Ui(a),v=!d&&!m&&il(a);p=a,d||m||v?yn(l)?p=l:sv(l)?p=wu(l):m?(f=!1,p=Ru(a,!0)):v?(f=!1,p=Bu(a,!0)):p=[]:Ym(a)||Eo(a)?(p=l,Eo(l)?p=rv(l):(!on(l)||Jo(l))&&(p=$u(a))):f=!1}f&&(o.set(a,p),s(p,a,i,r,o),o.delete(a)),Oo(n,t,p)}function zu(n,e,t,i,s){n!==e&&iv(e,function(r,o){if(s||(s=new Nt),on(r))ov(n,e,o,t,zu,i,s);else{var l=i?i(Lo(n,o),r,o+"",n,e,s):void 0;l===void 0&&(l=r),Oo(n,o,l)}},Zi)}function al(n,e){return Fu(n,e)}var nn=Og(function(n,e,t){zu(n,e,t)}),U=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(U||{});class Ot{constructor(e,t,i={}){this.attrName=e,this.keyName=t;const s=U.TYPE&U.ATTRIBUTE;this.scope=i.scope!=null?i.scope&U.LEVEL|s:U.ATTRIBUTE,i.whitelist!=null&&(this.whitelist=i.whitelist)}static keys(e){return Array.from(e.attributes).map(t=>t.name)}add(e,t){return this.canAdd(e,t)?(e.setAttribute(this.keyName,t),!0):!1}canAdd(e,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""}}class ei extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const Ku=class Io{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,t=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){let i=null;try{i=e.parentNode}catch{return null}return this.find(i,t)}return null}create(e,t,i){const s=this.query(t);if(s==null)throw new ei(`Unable to create ${t} blot`);const r=s,o=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:r.create(i),l=new r(e,o,i);return Io.blots.set(l.domNode,l),l}find(e,t=!1){return Io.find(e,t)}query(e,t=U.ANY){let i;return typeof e=="string"?i=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?i=this.types.text:typeof e=="number"?e&U.LEVEL&U.BLOCK?i=this.types.block:e&U.LEVEL&U.INLINE&&(i=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(s=>(i=this.classes[s],!!i)),i=i||this.tags[e.tagName]),i==null?null:"scope"in i&&t&U.LEVEL&i.scope&&t&U.TYPE&i.scope?i:null}register(...e){return e.map(t=>{const i="blotName"in t,s="attrName"in t;if(!i&&!s)throw new ei("Invalid definition");if(i&&t.blotName==="abstract")throw new ei("Cannot register abstract class");const r=i?t.blotName:s?t.attrName:void 0;return this.types[r]=t,s?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):i&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(o=>o.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(o=>{(this.tags[o]==null||t.className==null)&&(this.tags[o]=t)}))),t})}};Ku.blots=new WeakMap;let oi=Ku;function ya(n,e){return(n.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${e}-`)===0)}class lv extends Ot{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(e,t){return this.canAdd(e,t)?(this.remove(e),e.classList.add(`${this.keyName}-${t}`),!0):!1}remove(e){ya(e,this.keyName).forEach(t=>{e.classList.remove(t)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const t=(ya(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""}}const vt=lv;function ao(n){const e=n.split("-"),t=e.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("");return e[0]+t}class av extends Ot{static keys(e){return(e.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(e,t){return this.canAdd(e,t)?(e.style[ao(this.keyName)]=t,!0):!1}remove(e){e.style[ao(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const t=e.style[ao(this.keyName)];return this.canAdd(e,t)?t:""}}const ln=av;class uv{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,t){t?e.add(this.domNode,t)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=oi.find(this.domNode);if(e==null)return;const t=Ot.keys(this.domNode),i=vt.keys(this.domNode),s=ln.keys(this.domNode);t.concat(i).concat(s).forEach(r=>{const o=e.scroll.query(r,U.ATTRIBUTE);o instanceof Ot&&(this.attributes[o.attrName]=o)})}copy(e){Object.keys(this.attributes).forEach(t=>{const i=this.attributes[t].value(this.domNode);e.format(t,i)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,t)=>(e[t]=this.attributes[t].value(this.domNode),e),{})}}const Xs=uv,Gu=class{constructor(e,t){this.scroll=e,this.domNode=t,oi.blots.set(t,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new ei("Blot definition missing tagName");let t,i;return Array.isArray(this.tagName)?(typeof e=="string"?(i=e.toUpperCase(),parseInt(i,10).toString()===i&&(i=parseInt(i,10))):typeof e=="number"&&(i=e),typeof i=="number"?t=document.createElement(this.tagName[i-1]):i&&this.tagName.indexOf(i)>-1?t=document.createElement(i):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),oi.blots.delete(this.domNode)}deleteAt(e,t){this.isolate(e,t).remove()}formatAt(e,t,i,s){const r=this.isolate(e,t);if(this.scroll.query(i,U.BLOT)!=null&&s)r.wrap(i,s);else if(this.scroll.query(i,U.ATTRIBUTE)!=null){const o=this.scroll.create(this.statics.scope);r.wrap(o),o.format(i,s)}}insertAt(e,t,i){const s=i==null?this.scroll.create("text",t):this.scroll.create(t,i),r=this.split(e);this.parent.insertBefore(s,r||void 0)}isolate(e,t){const i=this.split(e);if(i==null)throw new Error("Attempt to isolate at end");return i.split(t),i}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,t){const i=typeof e=="string"?this.scroll.create(e,t):e;return this.parent!=null&&(this.parent.insertBefore(i,this.next||void 0),this.remove()),i}split(e,t){return e===0?this:this.next}update(e,t){}wrap(e,t){const i=typeof e=="string"?this.scroll.create(e,t):e;if(this.parent!=null&&this.parent.insertBefore(i,this.next||void 0),typeof i.appendChild!="function")throw new ei(`Cannot wrap ${e}`);return i.appendChild(this),i}};Gu.blotName="abstract";let Wu=Gu;const Xu=class extends Wu{static value(e){return!0}index(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(e,t){let i=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(i+=1),[this.parent.domNode,i]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};Xu.scope=U.INLINE_BLOT;let cv=Xu;const De=cv;class pv{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const t=e.slice(1);this.append(...t)}}at(e){const t=this.iterator();let i=t();for(;i&&e>0;)e-=1,i=t();return i}contains(e){const t=this.iterator();let i=t();for(;i;){if(i===e)return!0;i=t()}return!1}indexOf(e){const t=this.iterator();let i=t(),s=0;for(;i;){if(i===e)return s;s+=1,i=t()}return-1}insertBefore(e,t){e!=null&&(this.remove(e),e.next=t,t!=null?(e.prev=t.prev,t.prev!=null&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let t=0,i=this.head;for(;i!=null;){if(i===e)return t;t+=i.length(),i=i.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const t=e;return e!=null&&(e=e.next),t}}find(e,t=!1){const i=this.iterator();let s=i();for(;s;){const r=s.length();if(e<r||t&&e===r&&(s.next==null||s.next.length()!==0))return[s,e];e-=r,s=i()}return[null,0]}forEach(e){const t=this.iterator();let i=t();for(;i;)e(i),i=t()}forEachAt(e,t,i){if(t<=0)return;const[s,r]=this.find(e);let o=e-r;const l=this.iterator(s);let a=l();for(;a&&o<e+t;){const c=a.length();e>o?i(a,e-o,Math.min(t,o+c-e)):i(a,0,Math.min(c,e+t-o)),o+=c,a=l()}}map(e){return this.reduce((t,i)=>(t.push(e(i)),t),[])}reduce(e,t){const i=this.iterator();let s=i();for(;s;)t=e(t,s),s=i();return t}}function xa(n,e){const t=e.find(n);if(t)return t;try{return e.create(n)}catch{const i=e.create(U.INLINE);return Array.from(n.childNodes).forEach(s=>{i.domNode.appendChild(s)}),n.parentNode&&n.parentNode.replaceChild(i.domNode,n),i.attach(),i}}const Yu=class Zt extends Wu{constructor(e,t){super(e,t),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,Zt.uiClass&&this.uiNode.classList.add(Zt.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new pv,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const t=xa(e,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof ei)return;throw t}})}deleteAt(e,t){if(e===0&&t===this.length())return this.remove();this.children.forEachAt(e,t,(i,s,r)=>{i.deleteAt(s,r)})}descendant(e,t=0){const[i,s]=this.children.find(t);return e.blotName==null&&e(i)||e.blotName!=null&&i instanceof e?[i,s]:i instanceof Zt?i.descendant(e,s):[null,-1]}descendants(e,t=0,i=Number.MAX_VALUE){let s=[],r=i;return this.children.forEachAt(t,i,(o,l,a)=>{(e.blotName==null&&e(o)||e.blotName!=null&&o instanceof e)&&s.push(o),o instanceof Zt&&(s=s.concat(o.descendants(e,l,r))),r-=a}),s}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(t=>{e||this.statics.allowedChildren.some(i=>t instanceof i)||(t.statics.scope===U.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),e=!0):t instanceof Zt?t.unwrap():t.remove())})}formatAt(e,t,i,s){this.children.forEachAt(e,t,(r,o,l)=>{r.formatAt(o,l,i,s)})}insertAt(e,t,i){const[s,r]=this.children.find(e);if(s)s.insertAt(r,t,i);else{const o=i==null?this.scroll.create("text",t):this.scroll.create(t,i);this.appendChild(o)}}insertBefore(e,t){e.parent!=null&&e.parent.children.remove(e);let i=null;this.children.insertBefore(e,t||null),e.parent=this,t!=null&&(i=t.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==i)&&this.domNode.insertBefore(e.domNode,i),e.attach()}length(){return this.children.reduce((e,t)=>e+t.length(),0)}moveChildren(e,t){this.children.forEach(i=>{e.insertBefore(i,t)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(e,t=!1){const[i,s]=this.children.find(e,t),r=[[this,e]];return i instanceof Zt?r.concat(i.path(s,t)):(i!=null&&r.push([i,s]),r)}removeChild(e){this.children.remove(e)}replaceWith(e,t){const i=typeof e=="string"?this.scroll.create(e,t):e;return i instanceof Zt&&this.moveChildren(i),super.replaceWith(i)}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const i=this.clone();return this.parent&&this.parent.insertBefore(i,this.next||void 0),this.children.forEachAt(e,this.length(),(s,r,o)=>{const l=s.split(r,t);l!=null&&i.appendChild(l)}),i}splitAfter(e){const t=this.clone();for(;e.next!=null;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,t){const i=[],s=[];e.forEach(r=>{r.target===this.domNode&&r.type==="childList"&&(i.push(...r.addedNodes),s.push(...r.removedNodes))}),s.forEach(r=>{if(r.parentNode!=null&&r.tagName!=="IFRAME"&&document.body.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const o=this.scroll.find(r);o!=null&&(o.domNode.parentNode==null||o.domNode.parentNode===this.domNode)&&o.detach()}),i.filter(r=>r.parentNode===this.domNode&&r!==this.uiNode).sort((r,o)=>r===o?0:r.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(r=>{let o=null;r.nextSibling!=null&&(o=this.scroll.find(r.nextSibling));const l=xa(r,this.scroll);(l.next!==o||l.next==null)&&(l.parent!=null&&l.parent.removeChild(this),this.insertBefore(l,o||void 0))}),this.enforceAllowedChildren()}};Yu.uiClass="";let hv=Yu;const gt=hv;function dv(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}const Fn=class zn extends gt{static create(e){return super.create(e)}static formats(e,t){const i=t.query(zn.blotName);if(!(i!=null&&e.tagName===i.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Xs(this.domNode)}format(e,t){if(e===this.statics.blotName&&!t)this.children.forEach(i=>{i instanceof zn||(i=i.wrap(zn.blotName,!0)),this.attributes.copy(i)}),this.unwrap();else{const i=this.scroll.query(e,U.INLINE);if(i==null)return;i instanceof Ot?this.attributes.attribute(i,t):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t)}}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,i,s){this.formats()[i]!=null||this.scroll.query(i,U.ATTRIBUTE)?this.isolate(e,t).format(i,s):super.formatAt(e,t,i,s)}optimize(e){super.optimize(e);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const i=this.next;i instanceof zn&&i.prev===this&&dv(t,i.formats())&&(i.moveChildren(this),i.remove())}replaceWith(e,t){const i=super.replaceWith(e,t);return this.attributes.copy(i),i}update(e,t){super.update(e,t),e.some(i=>i.target===this.domNode&&i.type==="attributes")&&this.attributes.build()}wrap(e,t){const i=super.wrap(e,t);return i instanceof zn&&this.attributes.move(i),i}};Fn.allowedChildren=[Fn,De],Fn.blotName="inline",Fn.scope=U.INLINE_BLOT,Fn.tagName="SPAN";let fv=Fn;const ul=fv,Kn=class qo extends gt{static create(e){return super.create(e)}static formats(e,t){const i=t.query(qo.blotName);if(!(i!=null&&e.tagName===i.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Xs(this.domNode)}format(e,t){const i=this.scroll.query(e,U.BLOCK);i!=null&&(i instanceof Ot?this.attributes.attribute(i,t):e===this.statics.blotName&&!t?this.replaceWith(qo.blotName):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t))}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,i,s){this.scroll.query(i,U.BLOCK)!=null?this.format(i,s):super.formatAt(e,t,i,s)}insertAt(e,t,i){if(i==null||this.scroll.query(t,U.INLINE)!=null)super.insertAt(e,t,i);else{const s=this.split(e);if(s!=null){const r=this.scroll.create(t,i);s.parent.insertBefore(r,s)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,t){const i=super.replaceWith(e,t);return this.attributes.copy(i),i}update(e,t){super.update(e,t),e.some(i=>i.target===this.domNode&&i.type==="attributes")&&this.attributes.build()}};Kn.blotName="block",Kn.scope=U.BLOCK_BLOT,Kn.tagName="P",Kn.allowedChildren=[ul,Kn,De];let gv=Kn;const Fi=gv,Ro=class extends gt{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,t){super.deleteAt(e,t),this.enforceAllowedChildren()}formatAt(e,t,i,s){super.formatAt(e,t,i,s),this.enforceAllowedChildren()}insertAt(e,t,i){super.insertAt(e,t,i),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Ro.blotName="container",Ro.scope=U.BLOCK_BLOT;let mv=Ro;const Ys=mv;class bv extends De{static formats(e,t){}format(e,t){super.formatAt(0,this.length(),e,t)}formatAt(e,t,i,s){e===0&&t===this.length()?this.format(i,s):super.formatAt(e,t,i,s)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Ye=bv,vv={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},yv=100,Gn=class extends gt{constructor(e,t){super(null,t),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(i=>{this.update(i)}),this.observer.observe(this.domNode,vv),this.attach()}create(e,t){return this.registry.create(this,e,t)}find(e,t=!1){const i=this.registry.find(e,t);return i?i.scroll===this?i:t?this.find(i.scroll.domNode.parentNode,!0):null:null}query(e,t=U.ANY){return this.registry.query(e,t)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,t){this.update(),e===0&&t===this.length()?this.children.forEach(i=>{i.remove()}):super.deleteAt(e,t)}formatAt(e,t,i,s){this.update(),super.formatAt(e,t,i,s)}insertAt(e,t,i){this.update(),super.insertAt(e,t,i)}optimize(e=[],t={}){super.optimize(t);const i=t.mutationsMap||new WeakMap;let s=Array.from(this.observer.takeRecords());for(;s.length>0;)e.push(s.pop());const r=(a,c=!0)=>{a==null||a===this||a.domNode.parentNode!=null&&(i.has(a.domNode)||i.set(a.domNode,[]),c&&r(a.parent))},o=a=>{i.has(a.domNode)&&(a instanceof gt&&a.children.forEach(o),i.delete(a.domNode),a.optimize(t))};let l=e;for(let a=0;l.length>0;a+=1){if(a>=yv)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(c=>{const p=this.find(c.target,!0);p!=null&&(p.domNode===c.target&&(c.type==="childList"?(r(this.find(c.previousSibling,!1)),Array.from(c.addedNodes).forEach(f=>{const d=this.find(f,!1);r(d,!1),d instanceof gt&&d.children.forEach(m=>{r(m,!1)})})):c.type==="attributes"&&r(p.prev)),r(p))}),this.children.forEach(o),l=Array.from(this.observer.takeRecords()),s=l.slice();s.length>0;)e.push(s.pop())}}update(e,t={}){e=e||this.observer.takeRecords();const i=new WeakMap;e.map(s=>{const r=this.find(s.target,!0);return r==null?null:i.has(r.domNode)?(i.get(r.domNode).push(s),null):(i.set(r.domNode,[s]),r)}).forEach(s=>{s!=null&&s!==this&&i.has(s.domNode)&&s.update(i.get(s.domNode)||[],t)}),t.mutationsMap=i,i.has(this.domNode)&&super.update(i.get(this.domNode),t),this.optimize(e,t)}};Gn.blotName="scroll",Gn.defaultChild=Fi,Gn.allowedChildren=[Fi,Ys],Gn.scope=U.BLOCK_BLOT,Gn.tagName="DIV";let xv=Gn;const cl=xv,Do=class Zu extends De{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,t){super(e,t),this.text=this.statics.value(this.domNode)}deleteAt(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)}index(e,t){return this.domNode===e?t:-1}insertAt(e,t,i){i==null?(this.text=this.text.slice(0,e)+t+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,t,i)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Zu&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,t=!1){return[this.domNode,e]}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const i=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(i,this.next||void 0),this.text=this.statics.value(this.domNode),i}update(e,t){e.some(i=>i.type==="characterData"&&i.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Do.blotName="text",Do.scope=U.INLINE_BLOT;let _v=Do;const js=_v,wv=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Ot,AttributorStore:Xs,BlockBlot:Fi,ClassAttributor:vt,ContainerBlot:Ys,EmbedBlot:Ye,InlineBlot:ul,LeafBlot:De,ParentBlot:gt,Registry:oi,Scope:U,ScrollBlot:cl,StyleAttributor:ln,TextBlot:js},Symbol.toStringTag,{value:"Module"}));var Jt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Po={exports:{}},Xe=-1,Ue=1,Ae=0;function zi(n,e,t,i,s){if(n===e)return n?[[Ae,n]]:[];if(t!=null){var r=Lv(n,e,t);if(r)return r}var o=pl(n,e),l=n.substring(0,o);n=n.substring(o),e=e.substring(o),o=Zs(n,e);var a=n.substring(n.length-o);n=n.substring(0,n.length-o),e=e.substring(0,e.length-o);var c=kv(n,e);return l&&c.unshift([Ae,l]),a&&c.push([Ae,a]),hl(c,s),i&&Sv(c),c}function kv(n,e){var t;if(!n)return[[Ue,e]];if(!e)return[[Xe,n]];var i=n.length>e.length?n:e,s=n.length>e.length?e:n,r=i.indexOf(s);if(r!==-1)return t=[[Ue,i.substring(0,r)],[Ae,s],[Ue,i.substring(r+s.length)]],n.length>e.length&&(t[0][0]=t[2][0]=Xe),t;if(s.length===1)return[[Xe,n],[Ue,e]];var o=Ev(n,e);if(o){var l=o[0],a=o[1],c=o[2],p=o[3],f=o[4],d=zi(l,c),m=zi(a,p);return d.concat([[Ae,f]],m)}return Av(n,e)}function Av(n,e){for(var t=n.length,i=e.length,s=Math.ceil((t+i)/2),r=s,o=2*s,l=new Array(o),a=new Array(o),c=0;c<o;c++)l[c]=-1,a[c]=-1;l[r+1]=0,a[r+1]=0;for(var p=t-i,f=p%2!==0,d=0,m=0,v=0,w=0,x=0;x<s;x++){for(var y=-x+d;y<=x-m;y+=2){var A=r+y,C;y===-x||y!==x&&l[A-1]<l[A+1]?C=l[A+1]:C=l[A-1]+1;for(var I=C-y;C<t&&I<i&&n.charAt(C)===e.charAt(I);)C++,I++;if(l[A]=C,C>t)m+=2;else if(I>i)d+=2;else if(f){var L=r+p-y;if(L>=0&&L<o&&a[L]!==-1){var $=t-a[L];if(C>=$)return _a(n,e,C,I)}}}for(var K=-x+v;K<=x-w;K+=2){var L=r+K,$;K===-x||K!==x&&a[L-1]<a[L+1]?$=a[L+1]:$=a[L-1]+1;for(var ce=$-K;$<t&&ce<i&&n.charAt(t-$-1)===e.charAt(i-ce-1);)$++,ce++;if(a[L]=$,$>t)w+=2;else if(ce>i)v+=2;else if(!f){var A=r+p-K;if(A>=0&&A<o&&l[A]!==-1){var C=l[A],I=r+C-A;if($=t-$,C>=$)return _a(n,e,C,I)}}}}return[[Xe,n],[Ue,e]]}function _a(n,e,t,i){var s=n.substring(0,t),r=e.substring(0,i),o=n.substring(t),l=e.substring(i),a=zi(s,r),c=zi(o,l);return a.concat(c)}function pl(n,e){if(!n||!e||n.charAt(0)!==e.charAt(0))return 0;for(var t=0,i=Math.min(n.length,e.length),s=i,r=0;t<s;)n.substring(r,s)==e.substring(r,s)?(t=s,r=t):i=s,s=Math.floor((i-t)/2+t);return Ju(n.charCodeAt(s-1))&&s--,s}function wa(n,e){var t=n.length,i=e.length;if(t==0||i==0)return 0;t>i?n=n.substring(t-i):t<i&&(e=e.substring(0,t));var s=Math.min(t,i);if(n==e)return s;for(var r=0,o=1;;){var l=n.substring(s-o),a=e.indexOf(l);if(a==-1)return r;o+=a,(a==0||n.substring(s-o)==e.substring(0,o))&&(r=o,o++)}}function Zs(n,e){if(!n||!e||n.slice(-1)!==e.slice(-1))return 0;for(var t=0,i=Math.min(n.length,e.length),s=i,r=0;t<s;)n.substring(n.length-s,n.length-r)==e.substring(e.length-s,e.length-r)?(t=s,r=t):i=s,s=Math.floor((i-t)/2+t);return ec(n.charCodeAt(n.length-s))&&s--,s}function Ev(n,e){var t=n.length>e.length?n:e,i=n.length>e.length?e:n;if(t.length<4||i.length*2<t.length)return null;function s(m,v,w){for(var x=m.substring(w,w+Math.floor(m.length/4)),y=-1,A="",C,I,L,$;(y=v.indexOf(x,y+1))!==-1;){var K=pl(m.substring(w),v.substring(y)),ce=Zs(m.substring(0,w),v.substring(0,y));A.length<ce+K&&(A=v.substring(y-ce,y)+v.substring(y,y+K),C=m.substring(0,w-ce),I=m.substring(w+K),L=v.substring(0,y-ce),$=v.substring(y+K))}return A.length*2>=m.length?[C,I,L,$,A]:null}var r=s(t,i,Math.ceil(t.length/4)),o=s(t,i,Math.ceil(t.length/2)),l;if(!r&&!o)return null;o?r?l=r[4].length>o[4].length?r:o:l=o:l=r;var a,c,p,f;n.length>e.length?(a=l[0],c=l[1],p=l[2],f=l[3]):(p=l[0],f=l[1],a=l[2],c=l[3]);var d=l[4];return[a,c,p,f,d]}function Sv(n){for(var e=!1,t=[],i=0,s=null,r=0,o=0,l=0,a=0,c=0;r<n.length;)n[r][0]==Ae?(t[i++]=r,o=a,l=c,a=0,c=0,s=n[r][1]):(n[r][0]==Ue?a+=n[r][1].length:c+=n[r][1].length,s&&s.length<=Math.max(o,l)&&s.length<=Math.max(a,c)&&(n.splice(t[i-1],0,[Xe,s]),n[t[i-1]+1][0]=Ue,i--,i--,r=i>0?t[i-1]:-1,o=0,l=0,a=0,c=0,s=null,e=!0)),r++;for(e&&hl(n),Cv(n),r=1;r<n.length;){if(n[r-1][0]==Xe&&n[r][0]==Ue){var p=n[r-1][1],f=n[r][1],d=wa(p,f),m=wa(f,p);d>=m?(d>=p.length/2||d>=f.length/2)&&(n.splice(r,0,[Ae,f.substring(0,d)]),n[r-1][1]=p.substring(0,p.length-d),n[r+1][1]=f.substring(d),r++):(m>=p.length/2||m>=f.length/2)&&(n.splice(r,0,[Ae,p.substring(0,m)]),n[r-1][0]=Ue,n[r-1][1]=f.substring(0,f.length-m),n[r+1][0]=Xe,n[r+1][1]=p.substring(m),r++),r++}r++}}var ka=/[^a-zA-Z0-9]/,Aa=/\s/,Ea=/[\r\n]/,Tv=/\n\r?\n$/,Nv=/^\r?\n\r?\n/;function Cv(n){function e(m,v){if(!m||!v)return 6;var w=m.charAt(m.length-1),x=v.charAt(0),y=w.match(ka),A=x.match(ka),C=y&&w.match(Aa),I=A&&x.match(Aa),L=C&&w.match(Ea),$=I&&x.match(Ea),K=L&&m.match(Tv),ce=$&&v.match(Nv);return K||ce?5:L||$?4:y&&!C&&I?3:C||I?2:y||A?1:0}for(var t=1;t<n.length-1;){if(n[t-1][0]==Ae&&n[t+1][0]==Ae){var i=n[t-1][1],s=n[t][1],r=n[t+1][1],o=Zs(i,s);if(o){var l=s.substring(s.length-o);i=i.substring(0,i.length-o),s=l+s.substring(0,s.length-o),r=l+r}for(var a=i,c=s,p=r,f=e(i,s)+e(s,r);s.charAt(0)===r.charAt(0);){i+=s.charAt(0),s=s.substring(1)+r.charAt(0),r=r.substring(1);var d=e(i,s)+e(s,r);d>=f&&(f=d,a=i,c=s,p=r)}n[t-1][1]!=a&&(a?n[t-1][1]=a:(n.splice(t-1,1),t--),n[t][1]=c,p?n[t+1][1]=p:(n.splice(t+1,1),t--))}t++}}function hl(n,e){n.push([Ae,""]);for(var t=0,i=0,s=0,r="",o="",l;t<n.length;){if(t<n.length-1&&!n[t][1]){n.splice(t,1);continue}switch(n[t][0]){case Ue:s++,o+=n[t][1],t++;break;case Xe:i++,r+=n[t][1],t++;break;case Ae:var a=t-s-i-1;if(e){if(a>=0&&nc(n[a][1])){var c=n[a][1].slice(-1);if(n[a][1]=n[a][1].slice(0,-1),r=c+r,o=c+o,!n[a][1]){n.splice(a,1),t--;var p=a-1;n[p]&&n[p][0]===Ue&&(s++,o=n[p][1]+o,p--),n[p]&&n[p][0]===Xe&&(i++,r=n[p][1]+r,p--),a=p}}if(tc(n[t][1])){var c=n[t][1].charAt(0);n[t][1]=n[t][1].slice(1),r+=c,o+=c}}if(t<n.length-1&&!n[t][1]){n.splice(t,1);break}if(r.length>0||o.length>0){r.length>0&&o.length>0&&(l=pl(o,r),l!==0&&(a>=0?n[a][1]+=o.substring(0,l):(n.splice(0,0,[Ae,o.substring(0,l)]),t++),o=o.substring(l),r=r.substring(l)),l=Zs(o,r),l!==0&&(n[t][1]=o.substring(o.length-l)+n[t][1],o=o.substring(0,o.length-l),r=r.substring(0,r.length-l)));var f=s+i;r.length===0&&o.length===0?(n.splice(t-f,f),t=t-f):r.length===0?(n.splice(t-f,f,[Ue,o]),t=t-f+1):o.length===0?(n.splice(t-f,f,[Xe,r]),t=t-f+1):(n.splice(t-f,f,[Xe,r],[Ue,o]),t=t-f+2)}t!==0&&n[t-1][0]===Ae?(n[t-1][1]+=n[t][1],n.splice(t,1)):t++,s=0,i=0,r="",o="";break}}n[n.length-1][1]===""&&n.pop();var d=!1;for(t=1;t<n.length-1;)n[t-1][0]===Ae&&n[t+1][0]===Ae&&(n[t][1].substring(n[t][1].length-n[t-1][1].length)===n[t-1][1]?(n[t][1]=n[t-1][1]+n[t][1].substring(0,n[t][1].length-n[t-1][1].length),n[t+1][1]=n[t-1][1]+n[t+1][1],n.splice(t-1,1),d=!0):n[t][1].substring(0,n[t+1][1].length)==n[t+1][1]&&(n[t-1][1]+=n[t+1][1],n[t][1]=n[t][1].substring(n[t+1][1].length)+n[t+1][1],n.splice(t+1,1),d=!0)),t++;d&&hl(n,e)}function Ju(n){return n>=55296&&n<=56319}function ec(n){return n>=56320&&n<=57343}function tc(n){return ec(n.charCodeAt(0))}function nc(n){return Ju(n.charCodeAt(n.length-1))}function Ov(n){for(var e=[],t=0;t<n.length;t++)n[t][1].length>0&&e.push(n[t]);return e}function uo(n,e,t,i){return nc(n)||tc(i)?null:Ov([[Ae,n],[Xe,e],[Ue,t],[Ae,i]])}function Lv(n,e,t){var i=typeof t=="number"?{index:t,length:0}:t.oldRange,s=typeof t=="number"?null:t.newRange,r=n.length,o=e.length;if(i.length===0&&(s===null||s.length===0)){var l=i.index,a=n.slice(0,l),c=n.slice(l),p=s?s.index:null;e:{var f=l+o-r;if(p!==null&&p!==f||f<0||f>o)break e;var d=e.slice(0,f),m=e.slice(f);if(m!==c)break e;var v=Math.min(l,f),w=a.slice(0,v),x=d.slice(0,v);if(w!==x)break e;var y=a.slice(v),A=d.slice(v);return uo(w,y,A,c)}e:{if(p!==null&&p!==l)break e;var C=l,d=e.slice(0,C),m=e.slice(C);if(d!==a)break e;var I=Math.min(r-C,o-C),L=c.slice(c.length-I),$=m.slice(m.length-I);if(L!==$)break e;var y=c.slice(0,c.length-I),A=m.slice(0,m.length-I);return uo(a,y,A,L)}}if(i.length>0&&s&&s.length===0)e:{var w=n.slice(0,i.index),L=n.slice(i.index+i.length),v=w.length,I=L.length;if(o<v+I)break e;var x=e.slice(0,v),$=e.slice(o-I);if(w!==x||L!==$)break e;var y=n.slice(v,r-I),A=e.slice(v,o-I);return uo(w,y,A,L)}return null}function Qs(n,e,t,i){return zi(n,e,t,i,!0)}Qs.INSERT=Ue;Qs.DELETE=Xe;Qs.EQUAL=Ae;var Iv=Qs,Us={exports:{}};Us.exports;(function(n,e){var t=200,i="__lodash_hash_undefined__",s=9007199254740991,r="[object Arguments]",o="[object Array]",l="[object Boolean]",a="[object Date]",c="[object Error]",p="[object Function]",f="[object GeneratorFunction]",d="[object Map]",m="[object Number]",v="[object Object]",w="[object Promise]",x="[object RegExp]",y="[object Set]",A="[object String]",C="[object Symbol]",I="[object WeakMap]",L="[object ArrayBuffer]",$="[object DataView]",K="[object Float32Array]",ce="[object Float64Array]",Me="[object Int8Array]",Ve="[object Int16Array]",j="[object Int32Array]",V="[object Uint8Array]",G="[object Uint8ClampedArray]",ee="[object Uint16Array]",ae="[object Uint32Array]",Ee=/[\\^$.*+?()[\]{}|]/g,Ze=/\w*$/,rt=/^\[object .+?Constructor\]$/,Qe=/^(?:0|[1-9]\d*)$/,te={};te[r]=te[o]=te[L]=te[$]=te[l]=te[a]=te[K]=te[ce]=te[Me]=te[Ve]=te[j]=te[d]=te[m]=te[v]=te[x]=te[y]=te[A]=te[C]=te[V]=te[G]=te[ee]=te[ae]=!0,te[c]=te[p]=te[I]=!1;var zt=typeof Jt=="object"&&Jt&&Jt.Object===Object&&Jt,an=typeof self=="object"&&self&&self.Object===Object&&self,Be=zt||an||Function("return this")(),qt=e&&!e.nodeType&&e,oe=qt&&!0&&n&&!n.nodeType&&n,ot=oe&&oe.exports===qt;function T(u,h){return u.set(h[0],h[1]),u}function q(u,h){return u.add(h),u}function R(u,h){for(var b=-1,E=u?u.length:0;++b<E&&h(u[b],b,u)!==!1;);return u}function H(u,h){for(var b=-1,E=h.length,X=u.length;++b<E;)u[X+b]=h[b];return u}function se(u,h,b,E){for(var X=-1,F=u?u.length:0;++X<F;)b=h(b,u[X],X,u);return b}function de(u,h){for(var b=-1,E=Array(u);++b<u;)E[b]=h(b);return E}function Q(u,h){return u==null?void 0:u[h]}function W(u){var h=!1;if(u!=null&&typeof u.toString!="function")try{h=!!(u+"")}catch{}return h}function me(u){var h=-1,b=Array(u.size);return u.forEach(function(E,X){b[++h]=[X,E]}),b}function lt(u,h){return function(b){return u(h(b))}}function ye(u){var h=-1,b=Array(u.size);return u.forEach(function(E){b[++h]=E}),b}var ir=Array.prototype,sr=Function.prototype,Nn=Object.prototype,pi=Be["__core-js_shared__"],ns=function(){var u=/[^.]+$/.exec(pi&&pi.keys&&pi.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),is=sr.toString,_t=Nn.hasOwnProperty,Cn=Nn.toString,rr=RegExp("^"+is.call(_t).replace(Ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),un=ot?Be.Buffer:void 0,On=Be.Symbol,hi=Be.Uint8Array,Je=lt(Object.getPrototypeOf,Object),ss=Object.create,rs=Nn.propertyIsEnumerable,or=ir.splice,di=Object.getOwnPropertySymbols,Ln=un?un.isBuffer:void 0,os=lt(Object.keys,Object),In=ut(Be,"DataView"),cn=ut(Be,"Map"),at=ut(Be,"Promise"),qn=ut(Be,"Set"),fi=ut(Be,"WeakMap"),pn=ut(Object,"create"),gi=$e(In),hn=$e(cn),mi=$e(at),bi=$e(qn),vi=$e(fi),Kt=On?On.prototype:void 0,ls=Kt?Kt.valueOf:void 0;function Rt(u){var h=-1,b=u?u.length:0;for(this.clear();++h<b;){var E=u[h];this.set(E[0],E[1])}}function lr(){this.__data__=pn?pn(null):{}}function ar(u){return this.has(u)&&delete this.__data__[u]}function ur(u){var h=this.__data__;if(pn){var b=h[u];return b===i?void 0:b}return _t.call(h,u)?h[u]:void 0}function as(u){var h=this.__data__;return pn?h[u]!==void 0:_t.call(h,u)}function yi(u,h){var b=this.__data__;return b[u]=pn&&h===void 0?i:h,this}Rt.prototype.clear=lr,Rt.prototype.delete=ar,Rt.prototype.get=ur,Rt.prototype.has=as,Rt.prototype.set=yi;function Te(u){var h=-1,b=u?u.length:0;for(this.clear();++h<b;){var E=u[h];this.set(E[0],E[1])}}function cr(){this.__data__=[]}function pr(u){var h=this.__data__,b=Dn(h,u);if(b<0)return!1;var E=h.length-1;return b==E?h.pop():or.call(h,b,1),!0}function hr(u){var h=this.__data__,b=Dn(h,u);return b<0?void 0:h[b][1]}function dr(u){return Dn(this.__data__,u)>-1}function fr(u,h){var b=this.__data__,E=Dn(b,u);return E<0?b.push([u,h]):b[E][1]=h,this}Te.prototype.clear=cr,Te.prototype.delete=pr,Te.prototype.get=hr,Te.prototype.has=dr,Te.prototype.set=fr;function Oe(u){var h=-1,b=u?u.length:0;for(this.clear();++h<b;){var E=u[h];this.set(E[0],E[1])}}function gr(){this.__data__={hash:new Rt,map:new(cn||Te),string:new Rt}}function mr(u){return fn(this,u).delete(u)}function br(u){return fn(this,u).get(u)}function vr(u){return fn(this,u).has(u)}function yr(u,h){return fn(this,u).set(u,h),this}Oe.prototype.clear=gr,Oe.prototype.delete=mr,Oe.prototype.get=br,Oe.prototype.has=vr,Oe.prototype.set=yr;function He(u){this.__data__=new Te(u)}function xr(){this.__data__=new Te}function _r(u){return this.__data__.delete(u)}function wr(u){return this.__data__.get(u)}function kr(u){return this.__data__.has(u)}function Ar(u,h){var b=this.__data__;if(b instanceof Te){var E=b.__data__;if(!cn||E.length<t-1)return E.push([u,h]),this;b=this.__data__=new Oe(E)}return b.set(u,h),this}He.prototype.clear=xr,He.prototype.delete=_r,He.prototype.get=wr,He.prototype.has=kr,He.prototype.set=Ar;function Rn(u,h){var b=ki(u)||Mn(u)?de(u.length,String):[],E=b.length,X=!!E;for(var F in u)_t.call(u,F)&&!(X&&(F=="length"||Br(F,E)))&&b.push(F);return b}function us(u,h,b){var E=u[h];(!(_t.call(u,h)&&fs(E,b))||b===void 0&&!(h in u))&&(u[h]=b)}function Dn(u,h){for(var b=u.length;b--;)if(fs(u[b][0],h))return b;return-1}function wt(u,h){return u&&wi(h,Ei(h),u)}function xi(u,h,b,E,X,F,re){var ie;if(E&&(ie=F?E(u,X,F,re):E(u)),ie!==void 0)return ie;if(!At(u))return u;var ve=ki(u);if(ve){if(ie=Pr(u),!h)return qr(u,ie)}else{var ue=Pt(u),Le=ue==p||ue==f;if(gs(u))return Pn(u,h);if(ue==v||ue==r||Le&&!F){if(W(u))return F?u:{};if(ie=kt(Le?{}:u),!h)return Rr(u,wt(ie,u))}else{if(!te[ue])return F?u:{};ie=Mr(u,ue,xi,h)}}re||(re=new He);var Fe=re.get(u);if(Fe)return Fe;if(re.set(u,ie),!ve)var xe=b?Dr(u):Ei(u);return R(xe||u,function(Ie,Ne){xe&&(Ne=Ie,Ie=u[Ne]),us(ie,Ne,xi(Ie,h,b,E,Ne,u,re))}),ie}function Er(u){return At(u)?ss(u):{}}function Sr(u,h,b){var E=h(u);return ki(u)?E:H(E,b(u))}function Tr(u){return Cn.call(u)}function Nr(u){if(!At(u)||jr(u))return!1;var h=Ai(u)||W(u)?rr:rt;return h.test($e(u))}function Cr(u){if(!hs(u))return os(u);var h=[];for(var b in Object(u))_t.call(u,b)&&b!="constructor"&&h.push(b);return h}function Pn(u,h){if(h)return u.slice();var b=new u.constructor(u.length);return u.copy(b),b}function _i(u){var h=new u.constructor(u.byteLength);return new hi(h).set(new hi(u)),h}function dn(u,h){var b=h?_i(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.byteLength)}function cs(u,h,b){var E=h?b(me(u),!0):me(u);return se(E,T,new u.constructor)}function ps(u){var h=new u.constructor(u.source,Ze.exec(u));return h.lastIndex=u.lastIndex,h}function Or(u,h,b){var E=h?b(ye(u),!0):ye(u);return se(E,q,new u.constructor)}function Lr(u){return ls?Object(ls.call(u)):{}}function Ir(u,h){var b=h?_i(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.length)}function qr(u,h){var b=-1,E=u.length;for(h||(h=Array(E));++b<E;)h[b]=u[b];return h}function wi(u,h,b,E){b||(b={});for(var X=-1,F=h.length;++X<F;){var re=h[X],ie=void 0;us(b,re,ie===void 0?u[re]:ie)}return b}function Rr(u,h){return wi(u,Dt(u),h)}function Dr(u){return Sr(u,Ei,Dt)}function fn(u,h){var b=u.__data__;return $r(h)?b[typeof h=="string"?"string":"hash"]:b.map}function ut(u,h){var b=Q(u,h);return Nr(b)?b:void 0}var Dt=di?lt(di,Object):Vr,Pt=Tr;(In&&Pt(new In(new ArrayBuffer(1)))!=$||cn&&Pt(new cn)!=d||at&&Pt(at.resolve())!=w||qn&&Pt(new qn)!=y||fi&&Pt(new fi)!=I)&&(Pt=function(u){var h=Cn.call(u),b=h==v?u.constructor:void 0,E=b?$e(b):void 0;if(E)switch(E){case gi:return $;case hn:return d;case mi:return w;case bi:return y;case vi:return I}return h});function Pr(u){var h=u.length,b=u.constructor(h);return h&&typeof u[0]=="string"&&_t.call(u,"index")&&(b.index=u.index,b.input=u.input),b}function kt(u){return typeof u.constructor=="function"&&!hs(u)?Er(Je(u)):{}}function Mr(u,h,b,E){var X=u.constructor;switch(h){case L:return _i(u);case l:case a:return new X(+u);case $:return dn(u,E);case K:case ce:case Me:case Ve:case j:case V:case G:case ee:case ae:return Ir(u,E);case d:return cs(u,E,b);case m:case A:return new X(u);case x:return ps(u);case y:return Or(u,E,b);case C:return Lr(u)}}function Br(u,h){return h=h??s,!!h&&(typeof u=="number"||Qe.test(u))&&u>-1&&u%1==0&&u<h}function $r(u){var h=typeof u;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?u!=="__proto__":u===null}function jr(u){return!!ns&&ns in u}function hs(u){var h=u&&u.constructor,b=typeof h=="function"&&h.prototype||Nn;return u===b}function $e(u){if(u!=null){try{return is.call(u)}catch{}try{return u+""}catch{}}return""}function ds(u){return xi(u,!0,!0)}function fs(u,h){return u===h||u!==u&&h!==h}function Mn(u){return Ur(u)&&_t.call(u,"callee")&&(!rs.call(u,"callee")||Cn.call(u)==r)}var ki=Array.isArray;function Bn(u){return u!=null&&ms(u.length)&&!Ai(u)}function Ur(u){return bs(u)&&Bn(u)}var gs=Ln||Hr;function Ai(u){var h=At(u)?Cn.call(u):"";return h==p||h==f}function ms(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=s}function At(u){var h=typeof u;return!!u&&(h=="object"||h=="function")}function bs(u){return!!u&&typeof u=="object"}function Ei(u){return Bn(u)?Rn(u):Cr(u)}function Vr(){return[]}function Hr(){return!1}n.exports=ds})(Us,Us.exports);var ic=Us.exports,Vs={exports:{}};Vs.exports;(function(n,e){var t=200,i="__lodash_hash_undefined__",s=1,r=2,o=9007199254740991,l="[object Arguments]",a="[object Array]",c="[object AsyncFunction]",p="[object Boolean]",f="[object Date]",d="[object Error]",m="[object Function]",v="[object GeneratorFunction]",w="[object Map]",x="[object Number]",y="[object Null]",A="[object Object]",C="[object Promise]",I="[object Proxy]",L="[object RegExp]",$="[object Set]",K="[object String]",ce="[object Symbol]",Me="[object Undefined]",Ve="[object WeakMap]",j="[object ArrayBuffer]",V="[object DataView]",G="[object Float32Array]",ee="[object Float64Array]",ae="[object Int8Array]",Ee="[object Int16Array]",Ze="[object Int32Array]",rt="[object Uint8Array]",Qe="[object Uint8ClampedArray]",te="[object Uint16Array]",zt="[object Uint32Array]",an=/[\\^$.*+?()[\]{}|]/g,Be=/^\[object .+?Constructor\]$/,qt=/^(?:0|[1-9]\d*)$/,oe={};oe[G]=oe[ee]=oe[ae]=oe[Ee]=oe[Ze]=oe[rt]=oe[Qe]=oe[te]=oe[zt]=!0,oe[l]=oe[a]=oe[j]=oe[p]=oe[V]=oe[f]=oe[d]=oe[m]=oe[w]=oe[x]=oe[A]=oe[L]=oe[$]=oe[K]=oe[Ve]=!1;var ot=typeof Jt=="object"&&Jt&&Jt.Object===Object&&Jt,T=typeof self=="object"&&self&&self.Object===Object&&self,q=ot||T||Function("return this")(),R=e&&!e.nodeType&&e,H=R&&!0&&n&&!n.nodeType&&n,se=H&&H.exports===R,de=se&&ot.process,Q=function(){try{return de&&de.binding&&de.binding("util")}catch{}}(),W=Q&&Q.isTypedArray;function me(u,h){for(var b=-1,E=u==null?0:u.length,X=0,F=[];++b<E;){var re=u[b];h(re,b,u)&&(F[X++]=re)}return F}function lt(u,h){for(var b=-1,E=h.length,X=u.length;++b<E;)u[X+b]=h[b];return u}function ye(u,h){for(var b=-1,E=u==null?0:u.length;++b<E;)if(h(u[b],b,u))return!0;return!1}function ir(u,h){for(var b=-1,E=Array(u);++b<u;)E[b]=h(b);return E}function sr(u){return function(h){return u(h)}}function Nn(u,h){return u.has(h)}function pi(u,h){return u==null?void 0:u[h]}function ns(u){var h=-1,b=Array(u.size);return u.forEach(function(E,X){b[++h]=[X,E]}),b}function is(u,h){return function(b){return u(h(b))}}function _t(u){var h=-1,b=Array(u.size);return u.forEach(function(E){b[++h]=E}),b}var Cn=Array.prototype,rr=Function.prototype,un=Object.prototype,On=q["__core-js_shared__"],hi=rr.toString,Je=un.hasOwnProperty,ss=function(){var u=/[^.]+$/.exec(On&&On.keys&&On.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),rs=un.toString,or=RegExp("^"+hi.call(Je).replace(an,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),di=se?q.Buffer:void 0,Ln=q.Symbol,os=q.Uint8Array,In=un.propertyIsEnumerable,cn=Cn.splice,at=Ln?Ln.toStringTag:void 0,qn=Object.getOwnPropertySymbols,fi=di?di.isBuffer:void 0,pn=is(Object.keys,Object),gi=Dt(q,"DataView"),hn=Dt(q,"Map"),mi=Dt(q,"Promise"),bi=Dt(q,"Set"),vi=Dt(q,"WeakMap"),Kt=Dt(Object,"create"),ls=$e(gi),Rt=$e(hn),lr=$e(mi),ar=$e(bi),ur=$e(vi),as=Ln?Ln.prototype:void 0,yi=as?as.valueOf:void 0;function Te(u){var h=-1,b=u==null?0:u.length;for(this.clear();++h<b;){var E=u[h];this.set(E[0],E[1])}}function cr(){this.__data__=Kt?Kt(null):{},this.size=0}function pr(u){var h=this.has(u)&&delete this.__data__[u];return this.size-=h?1:0,h}function hr(u){var h=this.__data__;if(Kt){var b=h[u];return b===i?void 0:b}return Je.call(h,u)?h[u]:void 0}function dr(u){var h=this.__data__;return Kt?h[u]!==void 0:Je.call(h,u)}function fr(u,h){var b=this.__data__;return this.size+=this.has(u)?0:1,b[u]=Kt&&h===void 0?i:h,this}Te.prototype.clear=cr,Te.prototype.delete=pr,Te.prototype.get=hr,Te.prototype.has=dr,Te.prototype.set=fr;function Oe(u){var h=-1,b=u==null?0:u.length;for(this.clear();++h<b;){var E=u[h];this.set(E[0],E[1])}}function gr(){this.__data__=[],this.size=0}function mr(u){var h=this.__data__,b=Pn(h,u);if(b<0)return!1;var E=h.length-1;return b==E?h.pop():cn.call(h,b,1),--this.size,!0}function br(u){var h=this.__data__,b=Pn(h,u);return b<0?void 0:h[b][1]}function vr(u){return Pn(this.__data__,u)>-1}function yr(u,h){var b=this.__data__,E=Pn(b,u);return E<0?(++this.size,b.push([u,h])):b[E][1]=h,this}Oe.prototype.clear=gr,Oe.prototype.delete=mr,Oe.prototype.get=br,Oe.prototype.has=vr,Oe.prototype.set=yr;function He(u){var h=-1,b=u==null?0:u.length;for(this.clear();++h<b;){var E=u[h];this.set(E[0],E[1])}}function xr(){this.size=0,this.__data__={hash:new Te,map:new(hn||Oe),string:new Te}}function _r(u){var h=ut(this,u).delete(u);return this.size-=h?1:0,h}function wr(u){return ut(this,u).get(u)}function kr(u){return ut(this,u).has(u)}function Ar(u,h){var b=ut(this,u),E=b.size;return b.set(u,h),this.size+=b.size==E?0:1,this}He.prototype.clear=xr,He.prototype.delete=_r,He.prototype.get=wr,He.prototype.has=kr,He.prototype.set=Ar;function Rn(u){var h=-1,b=u==null?0:u.length;for(this.__data__=new He;++h<b;)this.add(u[h])}function us(u){return this.__data__.set(u,i),this}function Dn(u){return this.__data__.has(u)}Rn.prototype.add=Rn.prototype.push=us,Rn.prototype.has=Dn;function wt(u){var h=this.__data__=new Oe(u);this.size=h.size}function xi(){this.__data__=new Oe,this.size=0}function Er(u){var h=this.__data__,b=h.delete(u);return this.size=h.size,b}function Sr(u){return this.__data__.get(u)}function Tr(u){return this.__data__.has(u)}function Nr(u,h){var b=this.__data__;if(b instanceof Oe){var E=b.__data__;if(!hn||E.length<t-1)return E.push([u,h]),this.size=++b.size,this;b=this.__data__=new He(E)}return b.set(u,h),this.size=b.size,this}wt.prototype.clear=xi,wt.prototype.delete=Er,wt.prototype.get=Sr,wt.prototype.has=Tr,wt.prototype.set=Nr;function Cr(u,h){var b=Mn(u),E=!b&&fs(u),X=!b&&!E&&Bn(u),F=!b&&!E&&!X&&bs(u),re=b||E||X||F,ie=re?ir(u.length,String):[],ve=ie.length;for(var ue in u)Je.call(u,ue)&&!(re&&(ue=="length"||X&&(ue=="offset"||ue=="parent")||F&&(ue=="buffer"||ue=="byteLength"||ue=="byteOffset")||Mr(ue,ve)))&&ie.push(ue);return ie}function Pn(u,h){for(var b=u.length;b--;)if(ds(u[b][0],h))return b;return-1}function _i(u,h,b){var E=h(u);return Mn(u)?E:lt(E,b(u))}function dn(u){return u==null?u===void 0?Me:y:at&&at in Object(u)?Pt(u):hs(u)}function cs(u){return At(u)&&dn(u)==l}function ps(u,h,b,E,X){return u===h?!0:u==null||h==null||!At(u)&&!At(h)?u!==u&&h!==h:Or(u,h,b,E,ps,X)}function Or(u,h,b,E,X,F){var re=Mn(u),ie=Mn(h),ve=re?a:kt(u),ue=ie?a:kt(h);ve=ve==l?A:ve,ue=ue==l?A:ue;var Le=ve==A,Fe=ue==A,xe=ve==ue;if(xe&&Bn(u)){if(!Bn(h))return!1;re=!0,Le=!1}if(xe&&!Le)return F||(F=new wt),re||bs(u)?wi(u,h,b,E,X,F):Rr(u,h,ve,b,E,X,F);if(!(b&s)){var Ie=Le&&Je.call(u,"__wrapped__"),Ne=Fe&&Je.call(h,"__wrapped__");if(Ie||Ne){var Gt=Ie?u.value():u,Mt=Ne?h.value():h;return F||(F=new wt),X(Gt,Mt,b,E,F)}}return xe?(F||(F=new wt),Dr(u,h,b,E,X,F)):!1}function Lr(u){if(!ms(u)||$r(u))return!1;var h=gs(u)?or:Be;return h.test($e(u))}function Ir(u){return At(u)&&Ai(u.length)&&!!oe[dn(u)]}function qr(u){if(!jr(u))return pn(u);var h=[];for(var b in Object(u))Je.call(u,b)&&b!="constructor"&&h.push(b);return h}function wi(u,h,b,E,X,F){var re=b&s,ie=u.length,ve=h.length;if(ie!=ve&&!(re&&ve>ie))return!1;var ue=F.get(u);if(ue&&F.get(h))return ue==h;var Le=-1,Fe=!0,xe=b&r?new Rn:void 0;for(F.set(u,h),F.set(h,u);++Le<ie;){var Ie=u[Le],Ne=h[Le];if(E)var Gt=re?E(Ne,Ie,Le,h,u,F):E(Ie,Ne,Le,u,h,F);if(Gt!==void 0){if(Gt)continue;Fe=!1;break}if(xe){if(!ye(h,function(Mt,gn){if(!Nn(xe,gn)&&(Ie===Mt||X(Ie,Mt,b,E,F)))return xe.push(gn)})){Fe=!1;break}}else if(!(Ie===Ne||X(Ie,Ne,b,E,F))){Fe=!1;break}}return F.delete(u),F.delete(h),Fe}function Rr(u,h,b,E,X,F,re){switch(b){case V:if(u.byteLength!=h.byteLength||u.byteOffset!=h.byteOffset)return!1;u=u.buffer,h=h.buffer;case j:return!(u.byteLength!=h.byteLength||!F(new os(u),new os(h)));case p:case f:case x:return ds(+u,+h);case d:return u.name==h.name&&u.message==h.message;case L:case K:return u==h+"";case w:var ie=ns;case $:var ve=E&s;if(ie||(ie=_t),u.size!=h.size&&!ve)return!1;var ue=re.get(u);if(ue)return ue==h;E|=r,re.set(u,h);var Le=wi(ie(u),ie(h),E,X,F,re);return re.delete(u),Le;case ce:if(yi)return yi.call(u)==yi.call(h)}return!1}function Dr(u,h,b,E,X,F){var re=b&s,ie=fn(u),ve=ie.length,ue=fn(h),Le=ue.length;if(ve!=Le&&!re)return!1;for(var Fe=ve;Fe--;){var xe=ie[Fe];if(!(re?xe in h:Je.call(h,xe)))return!1}var Ie=F.get(u);if(Ie&&F.get(h))return Ie==h;var Ne=!0;F.set(u,h),F.set(h,u);for(var Gt=re;++Fe<ve;){xe=ie[Fe];var Mt=u[xe],gn=h[xe];if(E)var El=re?E(gn,Mt,xe,h,u,F):E(Mt,gn,xe,u,h,F);if(!(El===void 0?Mt===gn||X(Mt,gn,b,E,F):El)){Ne=!1;break}Gt||(Gt=xe=="constructor")}if(Ne&&!Gt){var vs=u.constructor,ys=h.constructor;vs!=ys&&"constructor"in u&&"constructor"in h&&!(typeof vs=="function"&&vs instanceof vs&&typeof ys=="function"&&ys instanceof ys)&&(Ne=!1)}return F.delete(u),F.delete(h),Ne}function fn(u){return _i(u,Ei,Pr)}function ut(u,h){var b=u.__data__;return Br(h)?b[typeof h=="string"?"string":"hash"]:b.map}function Dt(u,h){var b=pi(u,h);return Lr(b)?b:void 0}function Pt(u){var h=Je.call(u,at),b=u[at];try{u[at]=void 0;var E=!0}catch{}var X=rs.call(u);return E&&(h?u[at]=b:delete u[at]),X}var Pr=qn?function(u){return u==null?[]:(u=Object(u),me(qn(u),function(h){return In.call(u,h)}))}:Vr,kt=dn;(gi&&kt(new gi(new ArrayBuffer(1)))!=V||hn&&kt(new hn)!=w||mi&&kt(mi.resolve())!=C||bi&&kt(new bi)!=$||vi&&kt(new vi)!=Ve)&&(kt=function(u){var h=dn(u),b=h==A?u.constructor:void 0,E=b?$e(b):"";if(E)switch(E){case ls:return V;case Rt:return w;case lr:return C;case ar:return $;case ur:return Ve}return h});function Mr(u,h){return h=h??o,!!h&&(typeof u=="number"||qt.test(u))&&u>-1&&u%1==0&&u<h}function Br(u){var h=typeof u;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?u!=="__proto__":u===null}function $r(u){return!!ss&&ss in u}function jr(u){var h=u&&u.constructor,b=typeof h=="function"&&h.prototype||un;return u===b}function hs(u){return rs.call(u)}function $e(u){if(u!=null){try{return hi.call(u)}catch{}try{return u+""}catch{}}return""}function ds(u,h){return u===h||u!==u&&h!==h}var fs=cs(function(){return arguments}())?cs:function(u){return At(u)&&Je.call(u,"callee")&&!In.call(u,"callee")},Mn=Array.isArray;function ki(u){return u!=null&&Ai(u.length)&&!gs(u)}var Bn=fi||Hr;function Ur(u,h){return ps(u,h)}function gs(u){if(!ms(u))return!1;var h=dn(u);return h==m||h==v||h==c||h==I}function Ai(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=o}function ms(u){var h=typeof u;return u!=null&&(h=="object"||h=="function")}function At(u){return u!=null&&typeof u=="object"}var bs=W?sr(W):Ir;function Ei(u){return ki(u)?Cr(u):qr(u)}function Vr(){return[]}function Hr(){return!1}n.exports=Ur})(Vs,Vs.exports);var sc=Vs.exports,dl={};Object.defineProperty(dl,"__esModule",{value:!0});const qv=ic,Rv=sc;var Mo;(function(n){function e(r={},o={},l=!1){typeof r!="object"&&(r={}),typeof o!="object"&&(o={});let a=qv(o);l||(a=Object.keys(a).reduce((c,p)=>(a[p]!=null&&(c[p]=a[p]),c),{}));for(const c in r)r[c]!==void 0&&o[c]===void 0&&(a[c]=r[c]);return Object.keys(a).length>0?a:void 0}n.compose=e;function t(r={},o={}){typeof r!="object"&&(r={}),typeof o!="object"&&(o={});const l=Object.keys(r).concat(Object.keys(o)).reduce((a,c)=>(Rv(r[c],o[c])||(a[c]=o[c]===void 0?null:o[c]),a),{});return Object.keys(l).length>0?l:void 0}n.diff=t;function i(r={},o={}){r=r||{};const l=Object.keys(o).reduce((a,c)=>(o[c]!==r[c]&&r[c]!==void 0&&(a[c]=o[c]),a),{});return Object.keys(r).reduce((a,c)=>(r[c]!==o[c]&&o[c]===void 0&&(a[c]=null),a),l)}n.invert=i;function s(r,o,l=!1){if(typeof r!="object")return o;if(typeof o!="object")return;if(!l)return o;const a=Object.keys(o).reduce((c,p)=>(r[p]===void 0&&(c[p]=o[p]),c),{});return Object.keys(a).length>0?a:void 0}n.transform=s})(Mo||(Mo={}));dl.default=Mo;var Js={};Object.defineProperty(Js,"__esModule",{value:!0});var Bo;(function(n){function e(t){return typeof t.delete=="number"?t.delete:typeof t.retain=="number"?t.retain:typeof t.retain=="object"&&t.retain!==null?1:typeof t.insert=="string"?t.insert.length:1}n.length=e})(Bo||(Bo={}));Js.default=Bo;var fl={};Object.defineProperty(fl,"__esModule",{value:!0});const Sa=Js;class Dv{constructor(e){this.ops=e,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(e){e||(e=1/0);const t=this.ops[this.index];if(t){const i=this.offset,s=Sa.default.length(t);if(e>=s-i?(e=s-i,this.index+=1,this.offset=0):this.offset+=e,typeof t.delete=="number")return{delete:e};{const r={};return t.attributes&&(r.attributes=t.attributes),typeof t.retain=="number"?r.retain=e:typeof t.retain=="object"&&t.retain!==null?r.retain=t.retain:typeof t.insert=="string"?r.insert=t.insert.substr(i,e):r.insert=t.insert,r}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?Sa.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const e=this.ops[this.index];return e?typeof e.delete=="number"?"delete":typeof e.retain=="number"||typeof e.retain=="object"&&e.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const e=this.offset,t=this.index,i=this.next(),s=this.ops.slice(this.index);return this.offset=e,this.index=t,[i].concat(s)}}else return[]}}fl.default=Dv;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const t=Iv,i=ic,s=sc,r=dl;e.AttributeMap=r.default;const o=Js;e.Op=o.default;const l=fl;e.OpIterator=l.default;const a="\0",c=(f,d)=>{if(typeof f!="object"||f===null)throw new Error(`cannot retain a ${typeof f}`);if(typeof d!="object"||d===null)throw new Error(`cannot retain a ${typeof d}`);const m=Object.keys(f)[0];if(!m||m!==Object.keys(d)[0])throw new Error(`embed types not matched: ${m} != ${Object.keys(d)[0]}`);return[m,f[m],d[m]]};class p{constructor(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]}static registerEmbed(d,m){this.handlers[d]=m}static unregisterEmbed(d){delete this.handlers[d]}static getHandler(d){const m=this.handlers[d];if(!m)throw new Error(`no handlers for embed type "${d}"`);return m}insert(d,m){const v={};return typeof d=="string"&&d.length===0?this:(v.insert=d,m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(v.attributes=m),this.push(v))}delete(d){return d<=0?this:this.push({delete:d})}retain(d,m){if(typeof d=="number"&&d<=0)return this;const v={retain:d};return m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(v.attributes=m),this.push(v)}push(d){let m=this.ops.length,v=this.ops[m-1];if(d=i(d),typeof v=="object"){if(typeof d.delete=="number"&&typeof v.delete=="number")return this.ops[m-1]={delete:v.delete+d.delete},this;if(typeof v.delete=="number"&&d.insert!=null&&(m-=1,v=this.ops[m-1],typeof v!="object"))return this.ops.unshift(d),this;if(s(d.attributes,v.attributes)){if(typeof d.insert=="string"&&typeof v.insert=="string")return this.ops[m-1]={insert:v.insert+d.insert},typeof d.attributes=="object"&&(this.ops[m-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof v.retain=="number")return this.ops[m-1]={retain:v.retain+d.retain},typeof d.attributes=="object"&&(this.ops[m-1].attributes=d.attributes),this}}return m===this.ops.length?this.ops.push(d):this.ops.splice(m,0,d),this}chop(){const d=this.ops[this.ops.length-1];return d&&typeof d.retain=="number"&&!d.attributes&&this.ops.pop(),this}filter(d){return this.ops.filter(d)}forEach(d){this.ops.forEach(d)}map(d){return this.ops.map(d)}partition(d){const m=[],v=[];return this.forEach(w=>{(d(w)?m:v).push(w)}),[m,v]}reduce(d,m){return this.ops.reduce(d,m)}changeLength(){return this.reduce((d,m)=>m.insert?d+o.default.length(m):m.delete?d-m.delete:d,0)}length(){return this.reduce((d,m)=>d+o.default.length(m),0)}slice(d=0,m=1/0){const v=[],w=new l.default(this.ops);let x=0;for(;x<m&&w.hasNext();){let y;x<d?y=w.next(d-x):(y=w.next(m-x),v.push(y)),x+=o.default.length(y)}return new p(v)}compose(d){const m=new l.default(this.ops),v=new l.default(d.ops),w=[],x=v.peek();if(x!=null&&typeof x.retain=="number"&&x.attributes==null){let A=x.retain;for(;m.peekType()==="insert"&&m.peekLength()<=A;)A-=m.peekLength(),w.push(m.next());x.retain-A>0&&v.next(x.retain-A)}const y=new p(w);for(;m.hasNext()||v.hasNext();)if(v.peekType()==="insert")y.push(v.next());else if(m.peekType()==="delete")y.push(m.next());else{const A=Math.min(m.peekLength(),v.peekLength()),C=m.next(A),I=v.next(A);if(I.retain){const L={};if(typeof C.retain=="number")L.retain=typeof I.retain=="number"?A:I.retain;else if(typeof I.retain=="number")C.retain==null?L.insert=C.insert:L.retain=C.retain;else{const K=C.retain==null?"insert":"retain",[ce,Me,Ve]=c(C[K],I.retain),j=p.getHandler(ce);L[K]={[ce]:j.compose(Me,Ve,K==="retain")}}const $=r.default.compose(C.attributes,I.attributes,typeof C.retain=="number");if($&&(L.attributes=$),y.push(L),!v.hasNext()&&s(y.ops[y.ops.length-1],L)){const K=new p(m.rest());return y.concat(K).chop()}}else typeof I.delete=="number"&&(typeof C.retain=="number"||typeof C.retain=="object"&&C.retain!==null)&&y.push(I)}return y.chop()}concat(d){const m=new p(this.ops.slice());return d.ops.length>0&&(m.push(d.ops[0]),m.ops=m.ops.concat(d.ops.slice(1))),m}diff(d,m){if(this.ops===d.ops)return new p;const v=[this,d].map(C=>C.map(I=>{if(I.insert!=null)return typeof I.insert=="string"?I.insert:a;const L=C===d?"on":"with";throw new Error("diff() called "+L+" non-document")}).join("")),w=new p,x=t(v[0],v[1],m,!0),y=new l.default(this.ops),A=new l.default(d.ops);return x.forEach(C=>{let I=C[1].length;for(;I>0;){let L=0;switch(C[0]){case t.INSERT:L=Math.min(A.peekLength(),I),w.push(A.next(L));break;case t.DELETE:L=Math.min(I,y.peekLength()),y.next(L),w.delete(L);break;case t.EQUAL:L=Math.min(y.peekLength(),A.peekLength(),I);const $=y.next(L),K=A.next(L);s($.insert,K.insert)?w.retain(L,r.default.diff($.attributes,K.attributes)):w.push(K).delete(L);break}I-=L}}),w.chop()}eachLine(d,m=`
`){const v=new l.default(this.ops);let w=new p,x=0;for(;v.hasNext();){if(v.peekType()!=="insert")return;const y=v.peek(),A=o.default.length(y)-v.peekLength(),C=typeof y.insert=="string"?y.insert.indexOf(m,A)-A:-1;if(C<0)w.push(v.next());else if(C>0)w.push(v.next(C));else{if(d(w,v.next(1).attributes||{},x)===!1)return;x+=1,w=new p}}w.length()>0&&d(w,{},x)}invert(d){const m=new p;return this.reduce((v,w)=>{if(w.insert)m.delete(o.default.length(w));else{if(typeof w.retain=="number"&&w.attributes==null)return m.retain(w.retain),v+w.retain;if(w.delete||typeof w.retain=="number"){const x=w.delete||w.retain;return d.slice(v,v+x).forEach(A=>{w.delete?m.push(A):w.retain&&w.attributes&&m.retain(o.default.length(A),r.default.invert(w.attributes,A.attributes))}),v+x}else if(typeof w.retain=="object"&&w.retain!==null){const x=d.slice(v,v+1),y=new l.default(x.ops).next(),[A,C,I]=c(w.retain,y.insert),L=p.getHandler(A);return m.retain({[A]:L.invert(C,I)},r.default.invert(w.attributes,y.attributes)),v+1}}return v},0),m.chop()}transform(d,m=!1){if(m=!!m,typeof d=="number")return this.transformPosition(d,m);const v=d,w=new l.default(this.ops),x=new l.default(v.ops),y=new p;for(;w.hasNext()||x.hasNext();)if(w.peekType()==="insert"&&(m||x.peekType()!=="insert"))y.retain(o.default.length(w.next()));else if(x.peekType()==="insert")y.push(x.next());else{const A=Math.min(w.peekLength(),x.peekLength()),C=w.next(A),I=x.next(A);if(C.delete)continue;if(I.delete)y.push(I);else{const L=C.retain,$=I.retain;let K=typeof $=="object"&&$!==null?$:A;if(typeof L=="object"&&L!==null&&typeof $=="object"&&$!==null){const ce=Object.keys(L)[0];if(ce===Object.keys($)[0]){const Me=p.getHandler(ce);Me&&(K={[ce]:Me.transform(L[ce],$[ce],m)})}}y.retain(K,r.default.transform(C.attributes,I.attributes,m))}}return y.chop()}transformPosition(d,m=!1){m=!!m;const v=new l.default(this.ops);let w=0;for(;v.hasNext()&&w<=d;){const x=v.peekLength(),y=v.peekType();if(v.next(),y==="delete"){d-=Math.min(x,d-w);continue}else y==="insert"&&(w<d||!m)&&(d+=x);w+=x}return d}}p.Op=o.default,p.OpIterator=l.default,p.AttributeMap=r.default,p.handlers={},e.default=p,n.exports=p,n.exports.default=p})(Po,Po.exports);var st=Po.exports;const B=Qu(st);class yt extends Ye{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}yt.blotName="break";yt.tagName="BR";let bt=class extends js{};function er(n){return n.replace(/[&<>"']/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[e])}const Tt=class Tt extends ul{static compare(e,t){const i=Tt.order.indexOf(e),s=Tt.order.indexOf(t);return i>=0||s>=0?i-s:e===t?0:e<t?-1:1}formatAt(e,t,i,s){if(Tt.compare(this.statics.blotName,i)<0&&this.scroll.query(i,U.BLOT)){const r=this.isolate(e,t);s&&r.wrap(i,s)}else super.formatAt(e,t,i,s)}optimize(e){if(super.optimize(e),this.parent instanceof Tt&&Tt.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}};D(Tt,"allowedChildren",[Tt,yt,Ye,bt]),D(Tt,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Lt=Tt;const Ta=1;class Ce extends Fi{constructor(){super(...arguments);D(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=rc(this)),this.cache.delta}deleteAt(t,i){super.deleteAt(t,i),this.cache={}}formatAt(t,i,s,r){i<=0||(this.scroll.query(s,U.BLOCK)?t+i===this.length()&&this.format(s,r):super.formatAt(t,Math.min(i,this.length()-t-1),s,r),this.cache={})}insertAt(t,i,s){if(s!=null){super.insertAt(t,i,s),this.cache={};return}if(i.length===0)return;const r=i.split(`
`),o=r.shift();o.length>0&&(t<this.length()-1||this.children.tail==null?super.insertAt(Math.min(t,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});let l=this;r.reduce((a,c)=>(l=l.split(a,!0),l.insertAt(0,c),c.length),t+o.length)}insertBefore(t,i){const{head:s}=this.children;super.insertBefore(t,i),s instanceof yt&&s.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+Ta),this.cache.length}moveChildren(t,i){super.moveChildren(t,i),this.cache={}}optimize(t){super.optimize(t),this.cache={}}path(t){return super.path(t,!0)}removeChild(t){super.removeChild(t),this.cache={}}split(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i&&(t===0||t>=this.length()-Ta)){const r=this.clone();return t===0?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}const s=super.split(t,i);return this.cache={},s}}Ce.blotName="block";Ce.tagName="P";Ce.defaultChild=yt;Ce.allowedChildren=[yt,Lt,Ye,bt];class it extends Ye{attach(){super.attach(),this.attributes=new Xs(this.domNode)}delta(){return new B().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,t){const i=this.scroll.query(e,U.BLOCK_ATTRIBUTE);i!=null&&this.attributes.attribute(i,t)}formatAt(e,t,i,s){this.format(i,s)}insertAt(e,t,i){if(i!=null){super.insertAt(e,t,i);return}const s=t.split(`
`),r=s.pop(),o=s.map(a=>{const c=this.scroll.create(Ce.blotName);return c.insertAt(0,a),c}),l=this.split(e);o.forEach(a=>{this.parent.insertBefore(a,l)}),r&&this.parent.insertBefore(this.scroll.create("text",r),l)}}it.scope=U.BLOCK_BLOT;function rc(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.descendants(De).reduce((t,i)=>i.length()===0?t:t.insert(i.value(),tt(i,{},e)),new B).insert(`
`,tt(n))}function tt(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return n==null||("formats"in n&&typeof n.formats=="function"&&(e={...e,...n.formats()},t&&delete e["code-token"]),n.parent==null||n.parent.statics.blotName==="scroll"||n.parent.statics.scope!==n.statics.scope)?e:tt(n.parent,e,t)}const et=class et extends Ye{static value(){}constructor(e,t,i){super(e,t),this.selection=i,this.textNode=document.createTextNode(et.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,t){if(this.savedLength!==0){super.format(e,t);return}let i=this,s=0;for(;i!=null&&i.statics.scope!==U.BLOCK_BLOT;)s+=i.offset(i.parent),i=i.parent;i!=null&&(this.savedLength=et.CONTENTS.length,i.optimize(),i.formatAt(s,et.CONTENTS.length,e,t),this.savedLength=0)}index(e,t){return e===this.textNode?0:super.index(e,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof bt?this.prev:null,i=t?t.length():0,s=this.next instanceof bt?this.next:null,r=s?s.text:"",{textNode:o}=this,l=o.data.split(et.CONTENTS).join("");o.data=et.CONTENTS;let a;if(t)a=t,(l||s)&&(t.insertAt(t.length(),l+r),s&&s.remove());else if(s)a=s,s.insertAt(0,l);else{const c=document.createTextNode(l);a=this.scroll.create(c),this.parent.insertBefore(a,this)}if(this.remove(),e){const c=(d,m)=>t&&d===t.domNode?m:d===o?i+m-1:s&&d===s.domNode?i+l.length+m:null,p=c(e.start.node,e.start.offset),f=c(e.end.node,e.end.offset);if(p!==null&&f!==null)return{startNode:a.domNode,startOffset:p,endNode:a.domNode,endOffset:f}}return null}update(e,t){if(e.some(i=>i.type==="characterData"&&i.target===this.textNode)){const i=this.restore();i&&(t.range=i)}}optimize(e){super.optimize(e);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=et.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}};D(et,"blotName","cursor"),D(et,"className","ql-cursor"),D(et,"tagName","span"),D(et,"CONTENTS","\uFEFF");let li=et;var oc={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(t=!1));function s(a,c,p){this.fn=a,this.context=c,this.once=p||!1}function r(a,c,p,f,d){if(typeof p!="function")throw new TypeError("The listener must be a function");var m=new s(p,f||a,d),v=t?t+c:c;return a._events[v]?a._events[v].fn?a._events[v]=[a._events[v],m]:a._events[v].push(m):(a._events[v]=m,a._eventsCount++),a}function o(a,c){--a._eventsCount===0?a._events=new i:delete a._events[c]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],p,f;if(this._eventsCount===0)return c;for(f in p=this._events)e.call(p,f)&&c.push(t?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(p)):c},l.prototype.listeners=function(c){var p=t?t+c:c,f=this._events[p];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,m=f.length,v=new Array(m);d<m;d++)v[d]=f[d].fn;return v},l.prototype.listenerCount=function(c){var p=t?t+c:c,f=this._events[p];return f?f.fn?1:f.length:0},l.prototype.emit=function(c,p,f,d,m,v){var w=t?t+c:c;if(!this._events[w])return!1;var x=this._events[w],y=arguments.length,A,C;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,p),!0;case 3:return x.fn.call(x.context,p,f),!0;case 4:return x.fn.call(x.context,p,f,d),!0;case 5:return x.fn.call(x.context,p,f,d,m),!0;case 6:return x.fn.call(x.context,p,f,d,m,v),!0}for(C=1,A=new Array(y-1);C<y;C++)A[C-1]=arguments[C];x.fn.apply(x.context,A)}else{var I=x.length,L;for(C=0;C<I;C++)switch(x[C].once&&this.removeListener(c,x[C].fn,void 0,!0),y){case 1:x[C].fn.call(x[C].context);break;case 2:x[C].fn.call(x[C].context,p);break;case 3:x[C].fn.call(x[C].context,p,f);break;case 4:x[C].fn.call(x[C].context,p,f,d);break;default:if(!A)for(L=1,A=new Array(y-1);L<y;L++)A[L-1]=arguments[L];x[C].fn.apply(x[C].context,A)}}return!0},l.prototype.on=function(c,p,f){return r(this,c,p,f,!1)},l.prototype.once=function(c,p,f){return r(this,c,p,f,!0)},l.prototype.removeListener=function(c,p,f,d){var m=t?t+c:c;if(!this._events[m])return this;if(!p)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===p&&(!d||v.once)&&(!f||v.context===f)&&o(this,m);else{for(var w=0,x=[],y=v.length;w<y;w++)(v[w].fn!==p||d&&!v[w].once||f&&v[w].context!==f)&&x.push(v[w]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},l.prototype.removeAllListeners=function(c){var p;return c?(p=t?t+c:c,this._events[p]&&o(this,p)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=t,l.EventEmitter=l,n.exports=l})(oc);var Pv=oc.exports;const Mv=Qu(Pv),$o=new WeakMap,jo=["error","warn","log","info"];let Uo="warn";function lc(n){if(Uo&&jo.indexOf(n)<=jo.indexOf(Uo)){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];console[n](...t)}}function Ft(n){return jo.reduce((e,t)=>(e[t]=lc.bind(console,t,n),e),{})}Ft.level=n=>{Uo=n};lc.level=Ft.level;const co=Ft("quill:events"),Bv=["selectionchange","mousedown","mouseup","click"];Bv.forEach(n=>{document.addEventListener(n,function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];Array.from(document.querySelectorAll(".ql-container")).forEach(s=>{const r=$o.get(s);r&&r.emitter&&r.emitter.handleDOM(...t)})})});class M extends Mv{constructor(){super(),this.domListeners={},this.on("error",co.error)}emit(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return co.log.call(co,...t),super.emit(...t)}handleDOM(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];(this.domListeners[e.type]||[]).forEach(r=>{let{node:o,handler:l}=r;(e.target===o||o.contains(e.target))&&l(e,...i)})}listenDOM(e,t,i){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:t,handler:i})}}D(M,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),D(M,"sources",{API:"api",SILENT:"silent",USER:"user"});const po=Ft("quill:selection");class _n{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=t}}class $v{constructor(e,t){this.emitter=t,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new _n(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,M.sources.USER),1)}),this.emitter.on(M.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const i=this.getNativeRange();i!=null&&i.start.node!==this.cursor.textNode&&this.emitter.once(M.events.SCROLL_UPDATE,(s,r)=>{try{this.root.contains(i.start.node)&&this.root.contains(i.end.node)&&this.setNativeRange(i.start.node,i.start.offset,i.end.node,i.end.offset);const o=r.some(l=>l.type==="characterData"||l.type==="childList"||l.type==="attributes"&&l.target===this.root);this.update(o?M.sources.SILENT:s)}catch{}})}),this.emitter.on(M.events.SCROLL_OPTIMIZE,(i,s)=>{if(s.range){const{startNode:r,startOffset:o,endNode:l,endOffset:a}=s.range;this.setNativeRange(r,o,l,a),this.update(M.sources.SILENT)}}),this.update(M.sources.SILENT)}handleComposition(){this.emitter.on(M.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(M.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(M.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,t){this.scroll.update();const i=this.getNativeRange();if(!(i==null||!i.native.collapsed||this.scroll.query(e,U.BLOCK))){if(i.start.node!==this.cursor.textNode){const s=this.scroll.find(i.start.node,!1);if(s==null)return;if(s instanceof De){const r=s.split(i.start.offset);s.parent.insertBefore(this.cursor,r)}else s.insertBefore(this.cursor,i.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const i=this.scroll.length();e=Math.min(e,i-1),t=Math.min(e+t,i-1)-e;let s,[r,o]=this.scroll.leaf(e);if(r==null)return null;if(t>0&&o===r.length()){const[p]=this.scroll.leaf(e+1);if(p){const[f]=this.scroll.line(e),[d]=this.scroll.line(e+1);f===d&&(r=p,o=0)}}[s,o]=r.position(o,!0);const l=document.createRange();if(t>0)return l.setStart(s,o),[r,o]=this.scroll.leaf(e+t),r==null?null:([s,o]=r.position(o,!0),l.setEnd(s,o),l.getBoundingClientRect());let a="left",c;if(s instanceof Text){if(!s.data.length)return null;o<s.data.length?(l.setStart(s,o),l.setEnd(s,o+1)):(l.setStart(s,o-1),l.setEnd(s,o),a="right"),c=l.getBoundingClientRect()}else{if(!(r.domNode instanceof Element))return null;c=r.domNode.getBoundingClientRect(),o>0&&(a="right")}return{bottom:c.top+c.height,height:c.height,left:c[a],right:c[a],top:c.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const t=e.getRangeAt(0);if(t==null)return null;const i=this.normalizeNative(t);return po.info("getNativeRange",i),i}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&ho(this.root,document.activeElement)}normalizedToRange(e){const t=[[e.start.node,e.start.offset]];e.native.collapsed||t.push([e.end.node,e.end.offset]);const i=t.map(o=>{const[l,a]=o,c=this.scroll.find(l,!0),p=c.offset(this.scroll);return a===0?p:c instanceof De?p+c.index(l,a):p+c.length()}),s=Math.min(Math.max(...i),this.scroll.length()-1),r=Math.min(s,...i);return new _n(r,s-r)}normalizeNative(e){if(!ho(this.root,e.startContainer)||!e.collapsed&&!ho(this.root,e.endContainer))return null;const t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(i=>{let{node:s,offset:r}=i;for(;!(s instanceof Text)&&s.childNodes.length>0;)if(s.childNodes.length>r)s=s.childNodes[r],r=0;else if(s.childNodes.length===r)s=s.lastChild,s instanceof Text?r=s.data.length:s.childNodes.length>0?r=s.childNodes.length:r=s.childNodes.length+1;else break;i.node=s,i.offset=r}),t}rangeToNative(e){const t=this.scroll.length(),i=(s,r)=>{s=Math.min(t-1,s);const[o,l]=this.scroll.leaf(s);return o?o.position(l,r):[null,-1]};return[...i(e.index,!1),...i(e.index+e.length,!0)]}setNativeRange(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(po.info("setNativeRange",e,t,i,s),e!=null&&(this.root.parentNode==null||e.parentNode==null||i.parentNode==null))return;const o=document.getSelection();if(o!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:l}=this.getNativeRange()||{};if(l==null||r||e!==l.startContainer||t!==l.startOffset||i!==l.endContainer||s!==l.endOffset){e instanceof Element&&e.tagName==="BR"&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),i instanceof Element&&i.tagName==="BR"&&(s=Array.from(i.parentNode.childNodes).indexOf(i),i=i.parentNode);const a=document.createRange();a.setStart(e,t),a.setEnd(i,s),o.removeAllRanges(),o.addRange(a)}}else o.removeAllRanges(),this.root.blur()}setRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:M.sources.API;if(typeof t=="string"&&(i=t,t=!1),po.info("setRange",e),e!=null){const s=this.rangeToNative(e);this.setNativeRange(...s,t)}else this.setNativeRange(null);this.update(i)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:M.sources.USER;const t=this.lastRange,[i,s]=this.getRange();if(this.lastRange=i,this.lastNative=s,this.lastRange!=null&&(this.savedRange=this.lastRange),!al(t,this.lastRange)){if(!this.composing&&s!=null&&s.native.collapsed&&s.start.node!==this.cursor.textNode){const o=this.cursor.restore();o&&this.setNativeRange(o.startNode,o.startOffset,o.endNode,o.endOffset)}const r=[M.events.SELECTION_CHANGE,Jn(this.lastRange),Jn(t),e];this.emitter.emit(M.events.EDITOR_CHANGE,...r),e!==M.sources.SILENT&&this.emitter.emit(...r)}}}function ho(n,e){try{e.parentNode}catch{return!1}return n.contains(e)}const jv=/^[ -~]*$/;class Uv{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const i=Na(e),s=new B;return Hv(i.ops.slice()).reduce((o,l)=>{const a=st.Op.length(l);let c=l.attributes||{},p=!1,f=!1;if(l.insert!=null){if(s.retain(a),typeof l.insert=="string"){const v=l.insert;f=!v.endsWith(`
`)&&(t<=o||!!this.scroll.descendant(it,o)[0]),this.scroll.insertAt(o,v);const[w,x]=this.scroll.line(o);let y=nn({},tt(w));if(w instanceof Ce){const[A]=w.descendant(De,x);A&&(y=nn(y,tt(A)))}c=st.AttributeMap.diff(y,c)||{}}else if(typeof l.insert=="object"){const v=Object.keys(l.insert)[0];if(v==null)return o;const w=this.scroll.query(v,U.INLINE)!=null;if(w)(t<=o||this.scroll.descendant(it,o)[0])&&(f=!0);else if(o>0){const[x,y]=this.scroll.descendant(De,o-1);x instanceof bt?x.value()[y]!==`
`&&(p=!0):x instanceof Ye&&x.statics.scope===U.INLINE_BLOT&&(p=!0)}if(this.scroll.insertAt(o,v,l.insert[v]),w){const[x]=this.scroll.descendant(De,o);if(x){const y=nn({},tt(x));c=st.AttributeMap.diff(y,c)||{}}}}t+=a}else if(s.push(l),l.retain!==null&&typeof l.retain=="object"){const v=Object.keys(l.retain)[0];if(v==null)return o;this.scroll.updateEmbedAt(o,v,l.retain[v])}Object.keys(c).forEach(v=>{this.scroll.formatAt(o,a,v,c[v])});const d=p?1:0,m=f?1:0;return t+=d+m,s.retain(d),s.delete(m),o+a+d+m},0),s.reduce((o,l)=>typeof l.delete=="number"?(this.scroll.deleteAt(o,l.delete),o):o+st.Op.length(l),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(i)}deleteText(e,t){return this.scroll.deleteAt(e,t),this.update(new B().retain(e).delete(t))}formatLine(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(i).forEach(r=>{this.scroll.lines(e,Math.max(t,1)).forEach(o=>{o.format(r,i[r])})}),this.scroll.optimize();const s=new B().retain(e).retain(t,Jn(i));return this.update(s)}formatText(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(i).forEach(r=>{this.scroll.formatAt(e,t,r,i[r])});const s=new B().retain(e).retain(t,Jn(i));return this.update(s)}getContents(e,t){return this.delta.slice(e,e+t)}getDelta(){return this.scroll.lines().reduce((e,t)=>e.concat(t.delta()),new B)}getFormat(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=[],s=[];t===0?this.scroll.path(e).forEach(l=>{const[a]=l;a instanceof Ce?i.push(a):a instanceof De&&s.push(a)}):(i=this.scroll.lines(e,t),s=this.scroll.descendants(De,e,t));const[r,o]=[i,s].map(l=>{const a=l.shift();if(a==null)return{};let c=tt(a);for(;Object.keys(c).length>0;){const p=l.shift();if(p==null)return c;c=Vv(tt(p),c)}return c});return{...r,...o}}getHTML(e,t){const[i,s]=this.scroll.line(e);if(i){const r=i.length();return i.length()>=s+t&&!(s===0&&t===r)?Ki(i,s,t,!0):Ki(this.scroll,e,t,!0)}return""}getText(e,t){return this.getContents(e,t).filter(i=>typeof i.insert=="string").map(i=>i.insert).join("")}insertContents(e,t){const i=Na(t),s=new B().retain(e).concat(i);return this.scroll.insertContents(e,i),this.update(s)}insertEmbed(e,t,i){return this.scroll.insertAt(e,t,i),this.update(new B().retain(e).insert({[t]:i}))}insertText(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,t),Object.keys(i).forEach(s=>{this.scroll.formatAt(e,t.length,s,i[s])}),this.update(new B().retain(e).insert(t,Jn(i)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if((e==null?void 0:e.statics.blotName)!==Ce.blotName)return!1;const t=e;return t.children.length>1?!1:t.children.head instanceof yt}removeFormat(e,t){const i=this.getText(e,t),[s,r]=this.scroll.line(e+t);let o=0,l=new B;s!=null&&(o=s.length()-r,l=s.delta().slice(r,r+o-1).insert(`
`));const c=this.getContents(e,t+o).diff(new B().insert(i).concat(l)),p=new B().retain(e).concat(c);return this.applyDelta(p)}update(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const s=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(jv)&&this.scroll.find(t[0].target)){const r=this.scroll.find(t[0].target),o=tt(r),l=r.offset(this.scroll),a=t[0].oldValue.replace(li.CONTENTS,""),c=new B().insert(a),p=new B().insert(r.value()),f=i&&{oldRange:Ca(i.oldRange,-l),newRange:Ca(i.newRange,-l)};e=new B().retain(l).concat(c.diff(p,f)).reduce((m,v)=>v.insert?m.insert(v.insert,o):m.push(v),new B),this.delta=s.compose(e)}else this.delta=this.getDelta(),(!e||!al(s.compose(e),this.delta))&&(e=s.diff(this.delta,i));return e}}function Wn(n,e,t){if(n.length===0){const[m]=fo(t.pop());return e<=0?`</li></${m}>`:`</li></${m}>${Wn([],e-1,t)}`}const[{child:i,offset:s,length:r,indent:o,type:l},...a]=n,[c,p]=fo(l);if(o>e)return t.push(l),o===e+1?`<${c}><li${p}>${Ki(i,s,r)}${Wn(a,o,t)}`:`<${c}><li>${Wn(n,e+1,t)}`;const f=t[t.length-1];if(o===e&&l===f)return`</li><li${p}>${Ki(i,s,r)}${Wn(a,o,t)}`;const[d]=fo(t.pop());return`</li></${d}>${Wn(n,e-1,t)}`}function Ki(n,e,t){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in n&&typeof n.html=="function")return n.html(e,t);if(n instanceof bt)return er(n.value().slice(e,e+t));if(n instanceof gt){if(n.statics.blotName==="list-container"){const c=[];return n.children.forEachAt(e,t,(p,f,d)=>{const m="formats"in p&&typeof p.formats=="function"?p.formats():{};c.push({child:p,offset:f,length:d,indent:m.indent||0,type:m.list})}),Wn(c,-1,[])}const s=[];if(n.children.forEachAt(e,t,(c,p,f)=>{s.push(Ki(c,p,f))}),i||n.statics.blotName==="list")return s.join("");const{outerHTML:r,innerHTML:o}=n.domNode,[l,a]=r.split(`>${o}<`);return l==="<table"?`<table style="border: 1px solid #000;">${s.join("")}<${a}`:`${l}>${s.join("")}<${a}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function Vv(n,e){return Object.keys(e).reduce((t,i)=>{if(n[i]==null)return t;const s=e[i];return s===n[i]?t[i]=s:Array.isArray(s)?s.indexOf(n[i])<0?t[i]=s.concat([n[i]]):t[i]=s:t[i]=[s,n[i]],t},{})}function fo(n){const e=n==="ordered"?"ol":"ul";switch(n){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function Na(n){return n.reduce((e,t)=>{if(typeof t.insert=="string"){const i=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(i,t.attributes)}return e.push(t)},new B)}function Ca(n,e){let{index:t,length:i}=n;return new _n(t+e,i)}function Hv(n){const e=[];return n.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((s,r)=>{r&&e.push({insert:`
`,attributes:t.attributes}),s&&e.push({insert:s,attributes:t.attributes})}):e.push(t)}),e}class xt{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=t}}D(xt,"DEFAULTS",{});const Ts="\uFEFF";class gl extends Ye{constructor(e,t){super(e,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(i=>{this.contentNode.appendChild(i)}),this.leftGuard=document.createTextNode(Ts),this.rightGuard=document.createTextNode(Ts),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,t)}restore(e){let t=null,i;const s=e.data.split(Ts).join("");if(e===this.leftGuard)if(this.prev instanceof bt){const r=this.prev.length();this.prev.insertAt(r,s),t={startNode:this.prev.domNode,startOffset:r+s.length}}else i=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(i),this),t={startNode:i,startOffset:s.length};else e===this.rightGuard&&(this.next instanceof bt?(this.next.insertAt(0,s),t={startNode:this.next.domNode,startOffset:s.length}):(i=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(i),this.next),t={startNode:i,startOffset:s.length}));return e.data=Ts,t}update(e,t){e.forEach(i=>{if(i.type==="characterData"&&(i.target===this.leftGuard||i.target===this.rightGuard)){const s=this.restore(i.target);s&&(t.range=s)}})}}class Fv{constructor(e,t){D(this,"isComposing",!1);this.scroll=e,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const t=e.target instanceof Node?this.scroll.find(e.target,!0):null;t&&!(t instanceof gl)&&(this.emitter.emit(M.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(M.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(M.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(M.events.COMPOSITION_END,e),this.isComposing=!1}}const Mi=class Mi{constructor(e,t){D(this,"modules",{});this.quill=e,this.options=t}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const t=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}};D(Mi,"DEFAULTS",{modules:{}}),D(Mi,"themes",{default:Mi});let ai=Mi;const zv=n=>n.parentElement||n.getRootNode().host||null,Kv=n=>{const e=n.getBoundingClientRect(),t="offsetWidth"in n&&Math.abs(e.width)/n.offsetWidth||1,i="offsetHeight"in n&&Math.abs(e.height)/n.offsetHeight||1;return{top:e.top,right:e.left+n.clientWidth*t,bottom:e.top+n.clientHeight*i,left:e.left}},Ns=n=>{const e=parseInt(n,10);return Number.isNaN(e)?0:e},Oa=(n,e,t,i,s,r)=>n<t&&e>i?0:n<t?-(t-n+s):e>i?e-n>i-t?n+s-t:e-i+r:0,Gv=(n,e)=>{var r,o,l;const t=n.ownerDocument;let i=e,s=n;for(;s;){const a=s===t.body,c=a?{top:0,right:((r=window.visualViewport)==null?void 0:r.width)??t.documentElement.clientWidth,bottom:((o=window.visualViewport)==null?void 0:o.height)??t.documentElement.clientHeight,left:0}:Kv(s),p=getComputedStyle(s),f=Oa(i.left,i.right,c.left,c.right,Ns(p.scrollPaddingLeft),Ns(p.scrollPaddingRight)),d=Oa(i.top,i.bottom,c.top,c.bottom,Ns(p.scrollPaddingTop),Ns(p.scrollPaddingBottom));if(f||d)if(a)(l=t.defaultView)==null||l.scrollBy(f,d);else{const{scrollLeft:m,scrollTop:v}=s;d&&(s.scrollTop+=d),f&&(s.scrollLeft+=f);const w=s.scrollLeft-m,x=s.scrollTop-v;i={left:i.left-w,top:i.top-x,right:i.right-w,bottom:i.bottom-x}}s=a||p.position==="fixed"?null:zv(s)}},Wv=100,Xv=["block","break","cursor","inline","scroll","text"],Yv=(n,e,t)=>{const i=new oi;return Xv.forEach(s=>{const r=e.query(s);r&&i.register(r)}),n.forEach(s=>{let r=e.query(s);r||t.error(`Cannot register "${s}" specified in "formats" config. Are you sure it was registered?`);let o=0;for(;r;)if(i.register(r),r="blotName"in r?r.requiredContainer??null:null,o+=1,o>Wv){t.error(`Cycle detected in registering blot requiredContainer: "${s}"`);break}}),i},ti=Ft("quill"),Cs=new oi;gt.uiClass="ql-ui";const ht=class ht{static debug(e){e===!0&&(e="log"),Ft.level(e)}static find(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return $o.get(e)||Cs.find(e,t)}static import(e){return this.imports[e]==null&&ti.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),i="attrName"in e?e.attrName:e.blotName;typeof i=="string"?this.register(`formats/${i}`,e,t):Object.keys(e).forEach(s=>{this.register(s,e[s],t)})}else{const e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],i=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!i&&ti.warn(`Overwriting ${e} with`,t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&Cs.register(t),typeof t.register=="function"&&t.register(Cs)}}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=Zv(e,t),this.container=this.options.container,this.container==null){ti.error("Invalid Quill container",e);return}this.options.debug&&ht.debug(this.options.debug);const i=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",$o.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new M;const s=cl.blotName,r=this.options.registry.query(s);if(!r||!("blotName"in r))throw new Error(`Cannot initialize Quill without "${s}" blot`);if(this.scroll=new r(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new Uv(this.scroll),this.selection=new $v(this.scroll,this.emitter),this.composition=new Fv(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(M.events.EDITOR_CHANGE,o=>{o===M.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(M.events.SCROLL_UPDATE,(o,l)=>{const a=this.selection.lastRange,[c]=this.selection.getRange(),p=a&&c?{oldRange:a,newRange:c}:void 0;pt.call(this,()=>this.editor.update(null,l,p),o)}),this.emitter.on(M.events.SCROLL_EMBED_UPDATE,(o,l)=>{const a=this.selection.lastRange,[c]=this.selection.getRange(),p=a&&c?{oldRange:a,newRange:c}:void 0;pt.call(this,()=>{const f=new B().retain(o.offset(this)).retain({[o.statics.blotName]:l});return this.editor.update(f,[],p)},ht.sources.USER)}),i){const o=this.clipboard.convert({html:`${i}<p><br></p>`,text:`
`});this.setContents(o)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const i=e;e=document.createElement("div"),e.classList.add(i)}return this.container.insertBefore(e,t),e}blur(){this.selection.setRange(null)}deleteText(e,t,i){return[e,t,,i]=$t(e,t,i),pt.call(this,()=>this.editor.deleteText(e,t),i,e,-1*t)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const t=e();return this.allowReadOnlyEdits=!1,t}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:M.sources.API;return pt.call(this,()=>{const s=this.getSelection(!0);let r=new B;if(s==null)return r;if(this.scroll.query(e,U.BLOCK))r=this.editor.formatLine(s.index,s.length,{[e]:t});else{if(s.length===0)return this.selection.format(e,t),r;r=this.editor.formatText(s.index,s.length,{[e]:t})}return this.setSelection(s,M.sources.SILENT),r},i)}formatLine(e,t,i,s,r){let o;return[e,t,o,r]=$t(e,t,i,s,r),pt.call(this,()=>this.editor.formatLine(e,t,o),r,e,0)}formatText(e,t,i,s,r){let o;return[e,t,o,r]=$t(e,t,i,s,r),pt.call(this,()=>this.editor.formatText(e,t,o),r,e,0)}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=null;if(typeof e=="number"?i=this.selection.getBounds(e,t):i=this.selection.getBounds(e.index,e.length),!i)return null;const s=this.container.getBoundingClientRect();return{bottom:i.bottom-s.top,height:i.height,left:i.left-s.left,right:i.right-s.left,top:i.top-s.top,width:i.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,t]=$t(e,t),this.editor.getContents(e,t)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=$t(e,t),this.editor.getHTML(e,t)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=$t(e,t),this.editor.getText(e,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,t,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ht.sources.API;return pt.call(this,()=>this.editor.insertEmbed(e,t,i),s,e)}insertText(e,t,i,s,r){let o;return[e,,o,r]=$t(e,0,i,s,r),pt.call(this,()=>this.editor.insertText(e,t,o),r,e,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,t,i){return[e,t,,i]=$t(e,t,i),pt.call(this,()=>this.editor.removeFormat(e,t),i,e)}scrollRectIntoView(e){Gv(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,t=e&&this.selection.getBounds(e.index,e.length);t&&this.scrollRectIntoView(t)}setContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M.sources.API;return pt.call(this,()=>{e=new B(e);const i=this.getLength(),s=this.editor.deleteText(0,i),r=this.editor.insertContents(0,e),o=this.editor.deleteText(this.getLength()-1,1);return s.compose(r).compose(o)},t)}setSelection(e,t,i){e==null?this.selection.setRange(null,t||ht.sources.API):([e,t,,i]=$t(e,t,i),this.selection.setRange(new _n(Math.max(0,e),t),i),i!==M.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M.sources.API;const i=new B().insert(e);return this.setContents(i,t)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:M.sources.USER;const t=this.scroll.update(e);return this.selection.update(e),t}updateContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M.sources.API;return pt.call(this,()=>(e=new B(e),this.editor.applyDelta(e)),t,!0)}};D(ht,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Cs,theme:"default"}),D(ht,"events",M.events),D(ht,"sources",M.sources),D(ht,"version","2.0.2"),D(ht,"imports",{delta:B,parchment:wv,"core/module":xt,"core/theme":ai});let S=ht;function La(n){return typeof n=="string"?document.querySelector(n):n}function go(n){return Object.entries(n??{}).reduce((e,t)=>{let[i,s]=t;return{...e,[i]:s===!0?{}:s}},{})}function Ia(n){return Object.fromEntries(Object.entries(n).filter(e=>e[1]!==void 0))}function Zv(n,e){const t=La(n);if(!t)throw new Error("Invalid Quill container");const s=!e.theme||e.theme===S.DEFAULTS.theme?ai:S.import(`themes/${e.theme}`);if(!s)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:r,...o}=S.DEFAULTS,{modules:l,...a}=s.DEFAULTS;let c=go(e.modules);c!=null&&c.toolbar&&c.toolbar.constructor!==Object&&(c={...c,toolbar:{container:c.toolbar}});const p=nn({},go(r),go(l),c),f={...o,...Ia(a),...Ia(e)};let d=e.registry;return d?e.formats&&ti.warn('Ignoring "formats" option because "registry" is specified'):d=e.formats?Yv(e.formats,f.registry,ti):f.registry,{...f,registry:d,container:t,theme:s,modules:Object.entries(p).reduce((m,v)=>{let[w,x]=v;if(!x)return m;const y=S.import(`modules/${w}`);return y==null?(ti.error(`Cannot load ${w} module. Are you sure you registered it?`),m):{...m,[w]:nn({},y.DEFAULTS||{},x)}},{}),bounds:La(f.bounds)}}function pt(n,e,t,i){if(!this.isEnabled()&&e===M.sources.USER&&!this.allowReadOnlyEdits)return new B;let s=t==null?null:this.getSelection();const r=this.editor.delta,o=n();if(s!=null&&(t===!0&&(t=s.index),i==null?s=qa(s,o,e):i!==0&&(s=qa(s,t,i,e)),this.setSelection(s,M.sources.SILENT)),o.length()>0){const l=[M.events.TEXT_CHANGE,o,r,e];this.emitter.emit(M.events.EDITOR_CHANGE,...l),e!==M.sources.SILENT&&this.emitter.emit(...l)}return o}function $t(n,e,t,i,s){let r={};return typeof n.index=="number"&&typeof n.length=="number"?typeof e!="number"?(s=i,i=t,t=e,e=n.length,n=n.index):(e=n.length,n=n.index):typeof e!="number"&&(s=i,i=t,t=e,e=0),typeof t=="object"?(r=t,s=i):typeof t=="string"&&(i!=null?r[t]=i:s=t),s=s||M.sources.API,[n,e,r,s]}function qa(n,e,t,i){const s=typeof t=="number"?t:0;if(n==null)return null;let r,o;return e&&typeof e.transformPosition=="function"?[r,o]=[n.index,n.index+n.length].map(l=>e.transformPosition(l,i!==M.sources.USER)):[r,o]=[n.index,n.index+n.length].map(l=>l<e||l===e&&i===M.sources.USER?l:s>=0?l+s:Math.max(e,l+s)),new _n(r,o-r)}class En extends Ys{}function Ra(n){return n instanceof Ce||n instanceof it}function Da(n){return typeof n.updateContent=="function"}class Xn extends cl{constructor(e,t,i){let{emitter:s}=i;super(e,t),this.emitter=s,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",r=>this.handleDragStart(r))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(M.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(M.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,t){this.emitter.emit(M.events.SCROLL_EMBED_UPDATE,e,t)}deleteAt(e,t){const[i,s]=this.line(e),[r]=this.line(e+t);if(super.deleteAt(e,t),r!=null&&i!==r&&s>0){if(i instanceof it||r instanceof it){this.optimize();return}const o=r.children.head instanceof yt?null:r.children.head;i.moveChildren(r,o),i.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,t,i,s){super.formatAt(e,t,i,s),this.optimize()}insertAt(e,t,i){if(e>=this.length())if(i==null||this.scroll.query(t,U.BLOCK)==null){const s=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(s),i==null&&t.endsWith(`
`)?s.insertAt(0,t.slice(0,-1),i):s.insertAt(0,t,i)}else{const s=this.scroll.create(t,i);this.appendChild(s)}else super.insertAt(e,t,i);this.optimize()}insertBefore(e,t){if(e.statics.scope===U.INLINE_BLOT){const i=this.scroll.create(this.statics.defaultChild.blotName);i.appendChild(e),super.insertBefore(i,t)}else super.insertBefore(e,t)}insertContents(e,t){const i=this.deltaToRenderBlocks(t.concat(new B().insert(`
`))),s=i.pop();if(s==null)return;this.batchStart();const r=i.shift();if(r){const a=r.type==="block"&&(r.delta.length()===0||!this.descendant(it,e)[0]&&e<this.length()),c=r.type==="block"?r.delta:new B().insert({[r.key]:r.value});mo(this,e,c);const p=r.type==="block"?1:0,f=e+c.length()+p;a&&this.insertAt(f-1,`
`);const d=tt(this.line(e)[0]),m=st.AttributeMap.diff(d,r.attributes)||{};Object.keys(m).forEach(v=>{this.formatAt(f-1,1,v,m[v])}),e=f}let[o,l]=this.children.find(e);if(i.length&&(o&&(o=o.split(l),l=0),i.forEach(a=>{if(a.type==="block"){const c=this.createBlock(a.attributes,o||void 0);mo(c,0,a.delta)}else{const c=this.create(a.key,a.value);this.insertBefore(c,o||void 0),Object.keys(a.attributes).forEach(p=>{c.format(p,a.attributes[p])})}})),s.type==="block"&&s.delta.length()){const a=o?o.offset(o.scroll)+l:this.length();mo(this,a,s.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const t=this.path(e).pop();if(!t)return[null,-1];const[i,s]=t;return i instanceof De?[i,s]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(Ra,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const i=(s,r,o)=>{let l=[],a=o;return s.children.forEachAt(r,o,(c,p,f)=>{Ra(c)?l.push(c):c instanceof Ys&&(l=l.concat(i(c,p,a))),a-=f}),l};return i(this,e,t)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,t),e.length>0&&this.emitter.emit(M.events.SCROLL_OPTIMIZE,e,t))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let t=M.sources.USER;typeof e=="string"&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(i=>{let{target:s}=i;const r=this.find(s,!0);return r&&!Da(r)}),e.length>0&&this.emitter.emit(M.events.SCROLL_BEFORE_UPDATE,t,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(M.events.SCROLL_UPDATE,t,e)}updateEmbedAt(e,t,i){const[s]=this.descendant(r=>r instanceof it,e);s&&s.statics.blotName===t&&Da(s)&&s.updateContent(i)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const t=[];let i=new B;return e.forEach(s=>{const r=s==null?void 0:s.insert;if(r)if(typeof r=="string"){const o=r.split(`
`);o.slice(0,-1).forEach(a=>{i.insert(a,s.attributes),t.push({type:"block",delta:i,attributes:s.attributes??{}}),i=new B});const l=o[o.length-1];l&&i.insert(l,s.attributes)}else{const o=Object.keys(r)[0];if(!o)return;this.query(o,U.INLINE)?i.push(s):(i.length()&&t.push({type:"block",delta:i,attributes:{}}),i=new B,t.push({type:"blockEmbed",key:o,value:r[o],attributes:s.attributes??{}}))}}),i.length()&&t.push({type:"block",delta:i,attributes:{}}),t}createBlock(e,t){let i;const s={};Object.entries(e).forEach(l=>{let[a,c]=l;this.query(a,U.BLOCK&U.BLOT)!=null?i=a:s[a]=c});const r=this.create(i||this.statics.defaultChild.blotName,i?e[i]:void 0);this.insertBefore(r,t||void 0);const o=r.length();return Object.entries(s).forEach(l=>{let[a,c]=l;r.formatAt(0,o,a,c)}),r}}D(Xn,"blotName","scroll"),D(Xn,"className","ql-editor"),D(Xn,"tagName","DIV"),D(Xn,"defaultChild",Ce),D(Xn,"allowedChildren",[Ce,it,En]);function mo(n,e,t){t.reduce((i,s)=>{const r=st.Op.length(s);let o=s.attributes||{};if(s.insert!=null){if(typeof s.insert=="string"){const l=s.insert;n.insertAt(i,l);const[a]=n.descendant(De,i),c=tt(a);o=st.AttributeMap.diff(c,o)||{}}else if(typeof s.insert=="object"){const l=Object.keys(s.insert)[0];if(l==null)return i;if(n.insertAt(i,l,s.insert[l]),n.scroll.query(l,U.INLINE)!=null){const[c]=n.descendant(De,i),p=tt(c);o=st.AttributeMap.diff(p,o)||{}}}}return Object.keys(o).forEach(l=>{n.formatAt(i,r,l,o[l])}),i+r},e)}const ml={scope:U.BLOCK,whitelist:["right","center","justify"]},Qv=new Ot("align","align",ml),ac=new vt("align","ql-align",ml),uc=new ln("align","text-align",ml);class cc extends ln{value(e){let t=super.value(e);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(s=>`00${parseInt(s,10).toString(16)}`.slice(-2)).join("")}`):t}}const Jv=new vt("color","ql-color",{scope:U.INLINE}),bl=new cc("color","color",{scope:U.INLINE}),e0=new vt("background","ql-bg",{scope:U.INLINE}),vl=new cc("background","background-color",{scope:U.INLINE});class Sn extends En{static create(e){const t=super.create(e);return t.setAttribute("spellcheck","false"),t}code(e,t){return this.children.map(i=>i.length()<=1?"":i.domNode.innerText).join(`
`).slice(e,e+t)}html(e,t){return`<pre>
${er(this.code(e,t))}
</pre>`}}class Pe extends Ce{static register(){S.register(Sn)}}D(Pe,"TAB","  ");class yl extends Lt{}yl.blotName="code";yl.tagName="CODE";Pe.blotName="code-block";Pe.className="ql-code-block";Pe.tagName="DIV";Sn.blotName="code-block-container";Sn.className="ql-code-block-container";Sn.tagName="DIV";Sn.allowedChildren=[Pe];Pe.allowedChildren=[bt,yt,li];Pe.requiredContainer=Sn;const xl={scope:U.BLOCK,whitelist:["rtl"]},pc=new Ot("direction","dir",xl),hc=new vt("direction","ql-direction",xl),dc=new ln("direction","direction",xl),fc={scope:U.INLINE,whitelist:["serif","monospace"]},gc=new vt("font","ql-font",fc);class t0 extends ln{value(e){return super.value(e).replace(/["']/g,"")}}const mc=new t0("font","font-family",fc),bc=new vt("size","ql-size",{scope:U.INLINE,whitelist:["small","large","huge"]}),vc=new ln("size","font-size",{scope:U.INLINE,whitelist:["10px","18px","32px"]}),n0=Ft("quill:keyboard"),i0=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class tr extends xt{static match(e,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(i=>!!t[i]!==e[i]&&t[i]!==null)?!1:t.key===e.key||t.key===e.which}constructor(e,t){super(e,t),this.bindings={},Object.keys(this.options.bindings).forEach(i=>{this.options.bindings[i]&&this.addBinding(this.options.bindings[i])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=r0(e);if(s==null){n0.warn("Attempted to add invalid keyboard binding",s);return}typeof t=="function"&&(t={handler:t}),typeof i=="function"&&(i={handler:i}),(Array.isArray(s.key)?s.key:[s.key]).forEach(o=>{const l={...s,key:o,...t,...i};this.bindings[l.key]=this.bindings[l.key]||[],this.bindings[l.key].push(l)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const s=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(y=>tr.match(e,y));if(s.length===0)return;const r=S.find(e.target,!0);if(r&&r.scroll!==this.quill.scroll)return;const o=this.quill.getSelection();if(o==null||!this.quill.hasFocus())return;const[l,a]=this.quill.getLine(o.index),[c,p]=this.quill.getLeaf(o.index),[f,d]=o.length===0?[c,p]:this.quill.getLeaf(o.index+o.length),m=c instanceof js?c.value().slice(0,p):"",v=f instanceof js?f.value().slice(d):"",w={collapsed:o.length===0,empty:o.length===0&&l.length()<=1,format:this.quill.getFormat(o),line:l,offset:a,prefix:m,suffix:v,event:e};s.some(y=>{if(y.collapsed!=null&&y.collapsed!==w.collapsed||y.empty!=null&&y.empty!==w.empty||y.offset!=null&&y.offset!==w.offset)return!1;if(Array.isArray(y.format)){if(y.format.every(A=>w.format[A]==null))return!1}else if(typeof y.format=="object"&&!Object.keys(y.format).every(A=>y.format[A]===!0?w.format[A]!=null:y.format[A]===!1?w.format[A]==null:al(y.format[A],w.format[A])))return!1;return y.prefix!=null&&!y.prefix.test(w.prefix)||y.suffix!=null&&!y.suffix.test(w.suffix)?!1:y.handler.call(this,o,w,y)!==!0})&&e.preventDefault()})}handleBackspace(e,t){const i=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let s={};const[r]=this.quill.getLine(e.index);let o=new B().retain(e.index-i).delete(i);if(t.offset===0){const[l]=this.quill.getLine(e.index-1);if(l&&!(l.statics.blotName==="block"&&l.length()<=1)){const c=r.formats(),p=this.quill.getFormat(e.index-1,1);if(s=st.AttributeMap.diff(c,p)||{},Object.keys(s).length>0){const f=new B().retain(e.index+r.length()-2).retain(1,s);o=o.compose(f)}}}this.quill.updateContents(o,S.sources.USER),this.quill.focus()}handleDelete(e,t){const i=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(e.index>=this.quill.getLength()-i)return;let s={};const[r]=this.quill.getLine(e.index);let o=new B().retain(e.index).delete(i);if(t.offset>=r.length()-1){const[l]=this.quill.getLine(e.index+1);if(l){const a=r.formats(),c=this.quill.getFormat(e.index,1);s=st.AttributeMap.diff(a,c)||{},Object.keys(s).length>0&&(o=o.retain(l.length()-1).retain(1,s))}}this.quill.updateContents(o,S.sources.USER),this.quill.focus()}handleDeleteRange(e){_l({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,t){const i=Object.keys(t.format).reduce((r,o)=>(this.quill.scroll.query(o,U.BLOCK)&&!Array.isArray(t.format[o])&&(r[o]=t.format[o]),r),{}),s=new B().retain(e.index).delete(e.length).insert(`
`,i);this.quill.updateContents(s,S.sources.USER),this.quill.setSelection(e.index+1,S.sources.SILENT),this.quill.focus()}}const s0={bindings:{bold:bo("bold"),italic:bo("italic"),underline:bo("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",S.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",S.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,e){e.format.indent!=null?this.quill.format("indent","-1",S.sources.USER):e.format.list!=null&&this.quill.format("list",!1,S.sources.USER)}},"indent code-block":Pa(!0),"outdent code-block":Pa(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,S.sources.USER)}},tab:{key:"Tab",handler(n,e){if(e.format.table)return!0;this.quill.history.cutoff();const t=new B().retain(n.index).delete(n.length).insert("	");return this.quill.updateContents(t,S.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,S.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,S.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,e){const t={list:!1};e.format.indent&&(t.indent=!1),this.quill.formatLine(n.index,n.length,t,S.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[e,t]=this.quill.getLine(n.index),i={...e.formats(),list:"checked"},s=new B().retain(n.index).insert(`
`,i).retain(e.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,S.sources.USER),this.quill.setSelection(n.index+1,S.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,e){const[t,i]=this.quill.getLine(n.index),s=new B().retain(n.index).insert(`
`,e.format).retain(t.length()-i-1).retain(1,{header:null});this.quill.updateContents(s,S.sources.USER),this.quill.setSelection(n.index+1,S.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const e=this.quill.getModule("table");if(e){const[t,i,s,r]=e.getTable(n),o=o0(t,i,s,r);if(o==null)return;let l=t.offset();if(o<0){const a=new B().retain(l).insert(`
`);this.quill.updateContents(a,S.sources.USER),this.quill.setSelection(n.index+1,n.length,S.sources.SILENT)}else if(o>0){l+=t.length();const a=new B().retain(l).insert(`
`);this.quill.updateContents(a,S.sources.USER),this.quill.setSelection(l,S.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,e){const{event:t,line:i}=e,s=i.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(s-1,S.sources.USER):this.quill.setSelection(s+i.length(),S.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,e){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=e.prefix,[i,s]=this.quill.getLine(n.index);if(s>t)return!0;let r;switch(e.prefix.trim()){case"[]":case"[ ]":r="unchecked";break;case"[x]":r="checked";break;case"-":case"*":r="bullet";break;default:r="ordered"}this.quill.insertText(n.index," ",S.sources.USER),this.quill.history.cutoff();const o=new B().retain(n.index-s).delete(t+1).retain(i.length()-2-s).retain(1,{list:r});return this.quill.updateContents(o,S.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-t,S.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[e,t]=this.quill.getLine(n.index);let i=2,s=e;for(;s!=null&&s.length()<=1&&s.formats()["code-block"];)if(s=s.prev,i-=1,i<=0){const r=new B().retain(n.index+e.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(r,S.sources.USER),this.quill.setSelection(n.index-1,S.sources.SILENT),!1}return!0}},"embed left":Os("ArrowLeft",!1),"embed left shift":Os("ArrowLeft",!0),"embed right":Os("ArrowRight",!1),"embed right shift":Os("ArrowRight",!0),"table down":Ma(!1),"table up":Ma(!0)}};tr.DEFAULTS=s0;function Pa(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(e,t){let{event:i}=t;const s=this.quill.scroll.query("code-block"),{TAB:r}=s;if(e.length===0&&!i.shiftKey){this.quill.insertText(e.index,r,S.sources.USER),this.quill.setSelection(e.index+r.length,S.sources.SILENT);return}const o=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:l,length:a}=e;o.forEach((c,p)=>{n?(c.insertAt(0,r),p===0?l+=r.length:a+=r.length):c.domNode.textContent.startsWith(r)&&(c.deleteAt(0,r.length),p===0?l-=r.length:a-=r.length)}),this.quill.update(S.sources.USER),this.quill.setSelection(l,a,S.sources.SILENT)}}}function Os(n,e){return{key:n,shiftKey:e,altKey:null,[n==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(i){let{index:s}=i;n==="ArrowRight"&&(s+=i.length+1);const[r]=this.quill.getLeaf(s);return r instanceof Ye?(n==="ArrowLeft"?e?this.quill.setSelection(i.index-1,i.length+1,S.sources.USER):this.quill.setSelection(i.index-1,S.sources.USER):e?this.quill.setSelection(i.index,i.length+1,S.sources.USER):this.quill.setSelection(i.index+i.length+1,S.sources.USER),!1):!0}}}function bo(n){return{key:n[0],shortKey:!0,handler(e,t){this.quill.format(n,!t.format[n],S.sources.USER)}}}function Ma(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,t){const i=n?"prev":"next",s=t.line,r=s.parent[i];if(r!=null){if(r.statics.blotName==="table-row"){let o=r.children.head,l=s;for(;l.prev!=null;)l=l.prev,o=o.next;const a=o.offset(this.quill.scroll)+Math.min(t.offset,o.length()-1);this.quill.setSelection(a,0,S.sources.USER)}}else{const o=s.table()[i];o!=null&&(n?this.quill.setSelection(o.offset(this.quill.scroll)+o.length()-1,0,S.sources.USER):this.quill.setSelection(o.offset(this.quill.scroll),0,S.sources.USER))}return!1}}}function r0(n){if(typeof n=="string"||typeof n=="number")n={key:n};else if(typeof n=="object")n=Jn(n);else return null;return n.shortKey&&(n[i0]=n.shortKey,delete n.shortKey),n}function _l(n){let{quill:e,range:t}=n;const i=e.getLines(t);let s={};if(i.length>1){const r=i[0].formats(),o=i[i.length-1].formats();s=st.AttributeMap.diff(o,r)||{}}e.deleteText(t,S.sources.USER),Object.keys(s).length>0&&e.formatLine(t.index,1,s,S.sources.USER),e.setSelection(t.index,S.sources.SILENT)}function o0(n,e,t,i){return e.prev==null&&e.next==null?t.prev==null&&t.next==null?i===0?-1:1:t.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const l0=/font-weight:\s*normal/,a0=["P","OL","UL"],Ba=n=>n&&a0.includes(n.tagName),u0=n=>{Array.from(n.querySelectorAll("br")).filter(e=>Ba(e.previousElementSibling)&&Ba(e.nextElementSibling)).forEach(e=>{var t;(t=e.parentNode)==null||t.removeChild(e)})},c0=n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(e=>{var t;return(t=e.getAttribute("style"))==null?void 0:t.match(l0)}).forEach(e=>{var i;const t=n.createDocumentFragment();t.append(...e.childNodes),(i=e.parentNode)==null||i.replaceChild(t,e)})};function p0(n){n.querySelector('[id^="docs-internal-guid-"]')&&(c0(n),u0(n))}const h0=/\bmso-list:[^;]*ignore/i,d0=/\bmso-list:[^;]*\bl(\d+)/i,f0=/\bmso-list:[^;]*\blevel(\d+)/i,g0=(n,e)=>{const t=n.getAttribute("style"),i=t==null?void 0:t.match(d0);if(!i)return null;const s=Number(i[1]),r=t==null?void 0:t.match(f0),o=r?Number(r[1]):1,l=new RegExp(`@list l${s}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),a=e.match(l),c=a&&a[1]==="bullet"?"bullet":"ordered";return{id:s,indent:o,type:c,element:n}},m0=n=>{var o,l;const e=Array.from(n.querySelectorAll("[style*=mso-list]")),t=[],i=[];e.forEach(a=>{(a.getAttribute("style")||"").match(h0)?t.push(a):i.push(a)}),t.forEach(a=>{var c;return(c=a.parentNode)==null?void 0:c.removeChild(a)});const s=n.documentElement.innerHTML,r=i.map(a=>g0(a,s)).filter(a=>a);for(;r.length;){const a=[];let c=r.shift();for(;c;)a.push(c),c=r.length&&((o=r[0])==null?void 0:o.element)===c.element.nextElementSibling&&r[0].id===c.id?r.shift():null;const p=document.createElement("ul");a.forEach(m=>{const v=document.createElement("li");v.setAttribute("data-list",m.type),m.indent>1&&v.setAttribute("class",`ql-indent-${m.indent-1}`),v.innerHTML=m.element.innerHTML,p.appendChild(v)});const f=(l=a[0])==null?void 0:l.element,{parentNode:d}=f??{};f&&(d==null||d.replaceChild(p,f)),a.slice(1).forEach(m=>{let{element:v}=m;d==null||d.removeChild(v)})}};function b0(n){n.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&m0(n)}const v0=[b0,p0],y0=n=>{n.documentElement&&v0.forEach(e=>{e(n)})},x0=Ft("quill:clipboard"),_0=[[Node.TEXT_NODE,q0],[Node.TEXT_NODE,ja],["br",S0],[Node.ELEMENT_NODE,ja],[Node.ELEMENT_NODE,E0],[Node.ELEMENT_NODE,A0],[Node.ELEMENT_NODE,L0],["li",C0],["ol, ul",O0],["pre",T0],["tr",I0],["b",vo("bold")],["i",vo("italic")],["strike",vo("strike")],["style",N0]],w0=[Qv,pc].reduce((n,e)=>(n[e.keyName]=e,n),{}),$a=[uc,vl,bl,dc,mc,vc].reduce((n,e)=>(n[e.keyName]=e,n),{});class yc extends xt{constructor(e,t){super(e,t),this.quill.root.addEventListener("copy",i=>this.onCaptureCopy(i,!1)),this.quill.root.addEventListener("cut",i=>this.onCaptureCopy(i,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],_0.concat(this.options.matchers??[]).forEach(i=>{let[s,r]=i;this.addMatcher(s,r)})}addMatcher(e,t){this.matchers.push([e,t])}convert(e){let{html:t,text:i}=e,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(s[Pe.blotName])return new B().insert(i||"",{[Pe.blotName]:s[Pe.blotName]});if(!t)return new B().insert(i||"",s);const r=this.convertHTML(t);return Qi(r,`
`)&&(r.ops[r.ops.length-1].attributes==null||s.table)?r.compose(new B().retain(r.length()-1).delete(1)):r}normalizeHTML(e){y0(e)}convertHTML(e){const t=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(t);const i=t.body,s=new WeakMap,[r,o]=this.prepareMatching(i,s);return wl(this.quill.scroll,i,r,o,s)}dangerouslyPasteHTML(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S.sources.API;if(typeof e=="string"){const s=this.convert({html:e,text:""});this.quill.setContents(s,t),this.quill.setSelection(0,S.sources.SILENT)}else{const s=this.convert({html:t,text:""});this.quill.updateContents(new B().retain(e).concat(s),i),this.quill.setSelection(e+s.length(),S.sources.SILENT)}}onCaptureCopy(e){var o,l;let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[i]=this.quill.selection.getRange();if(i==null)return;const{html:s,text:r}=this.onCopy(i,t);(o=e.clipboardData)==null||o.setData("text/plain",r),(l=e.clipboardData)==null||l.setData("text/html",s),t&&_l({range:i,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(e){var o,l,a,c,p;if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const i=(o=e.clipboardData)==null?void 0:o.getData("text/html");let s=(l=e.clipboardData)==null?void 0:l.getData("text/plain");if(!i&&!s){const f=(a=e.clipboardData)==null?void 0:a.getData("text/uri-list");f&&(s=this.normalizeURIList(f))}const r=Array.from(((c=e.clipboardData)==null?void 0:c.files)||[]);if(!i&&r.length>0){this.quill.uploader.upload(t,r);return}if(i&&r.length>0){const f=new DOMParser().parseFromString(i,"text/html");if(f.body.childElementCount===1&&((p=f.body.firstElementChild)==null?void 0:p.tagName)==="IMG"){this.quill.uploader.upload(t,r);return}}this.onPaste(t,{html:i,text:s})}onCopy(e){const t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}onPaste(e,t){let{text:i,html:s}=t;const r=this.quill.getFormat(e.index),o=this.convert({text:i,html:s},r);x0.log("onPaste",o,{text:i,html:s});const l=new B().retain(e.index).delete(e.length).concat(o);this.quill.updateContents(l,S.sources.USER),this.quill.setSelection(l.length()-e.length,S.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,t){const i=[],s=[];return this.matchers.forEach(r=>{const[o,l]=r;switch(o){case Node.TEXT_NODE:s.push(l);break;case Node.ELEMENT_NODE:i.push(l);break;default:Array.from(e.querySelectorAll(o)).forEach(a=>{if(t.has(a)){const c=t.get(a);c==null||c.push(l)}else t.set(a,[l])});break}}),[i,s]}}D(yc,"DEFAULTS",{matchers:[]});function Tn(n,e,t,i){return i.query(e)?n.reduce((s,r)=>{if(!r.insert)return s;if(r.attributes&&r.attributes[e])return s.push(r);const o=t?{[e]:t}:{};return s.insert(r.insert,{...o,...r.attributes})},new B):n}function Qi(n,e){let t="";for(let i=n.ops.length-1;i>=0&&t.length<e.length;--i){const s=n.ops[i];if(typeof s.insert!="string")break;t=s.insert+t}return t.slice(-1*e.length)===e}function en(n,e){if(!(n instanceof Element))return!1;const t=e.query(n);return t&&t.prototype instanceof Ye?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}function k0(n,e){return n.previousElementSibling&&n.nextElementSibling&&!en(n.previousElementSibling,e)&&!en(n.nextElementSibling,e)}const Ls=new WeakMap;function xc(n){return n==null?!1:(Ls.has(n)||(n.tagName==="PRE"?Ls.set(n,!0):Ls.set(n,xc(n.parentNode))),Ls.get(n))}function wl(n,e,t,i,s){return e.nodeType===e.TEXT_NODE?i.reduce((r,o)=>o(e,r,n),new B):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((r,o)=>{let l=wl(n,o,t,i,s);return o.nodeType===e.ELEMENT_NODE&&(l=t.reduce((a,c)=>c(o,a,n),l),l=(s.get(o)||[]).reduce((a,c)=>c(o,a,n),l)),r.concat(l)},new B):new B}function vo(n){return(e,t,i)=>Tn(t,n,!0,i)}function A0(n,e,t){const i=Ot.keys(n),s=vt.keys(n),r=ln.keys(n),o={};return i.concat(s).concat(r).forEach(l=>{let a=t.query(l,U.ATTRIBUTE);a!=null&&(o[a.attrName]=a.value(n),o[a.attrName])||(a=w0[l],a!=null&&(a.attrName===l||a.keyName===l)&&(o[a.attrName]=a.value(n)||void 0),a=$a[l],a!=null&&(a.attrName===l||a.keyName===l)&&(a=$a[l],o[a.attrName]=a.value(n)||void 0))}),Object.entries(o).reduce((l,a)=>{let[c,p]=a;return Tn(l,c,p,t)},e)}function E0(n,e,t){const i=t.query(n);if(i==null)return e;if(i.prototype instanceof Ye){const s={},r=i.value(n);if(r!=null)return s[i.blotName]=r,new B().insert(s,i.formats(n,t))}else if(i.prototype instanceof Fi&&!Qi(e,`
`)&&e.insert(`
`),"blotName"in i&&"formats"in i&&typeof i.formats=="function")return Tn(e,i.blotName,i.formats(n,t),t);return e}function S0(n,e){return Qi(e,`
`)||e.insert(`
`),e}function T0(n,e,t){const i=t.query("code-block"),s=i&&"formats"in i&&typeof i.formats=="function"?i.formats(n,t):!0;return Tn(e,"code-block",s,t)}function N0(){return new B}function C0(n,e,t){const i=t.query(n);if(i==null||i.blotName!=="list"||!Qi(e,`
`))return e;let s=-1,r=n.parentNode;for(;r!=null;)["OL","UL"].includes(r.tagName)&&(s+=1),r=r.parentNode;return s<=0?e:e.reduce((o,l)=>l.insert?l.attributes&&typeof l.attributes.indent=="number"?o.push(l):o.insert(l.insert,{indent:s,...l.attributes||{}}):o,new B)}function O0(n,e,t){const i=n;let s=i.tagName==="OL"?"ordered":"bullet";const r=i.getAttribute("data-checked");return r&&(s=r==="true"?"checked":"unchecked"),Tn(e,"list",s,t)}function ja(n,e,t){if(!Qi(e,`
`)){if(en(n,t)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&n.nextSibling){let i=n.nextSibling;for(;i!=null;){if(en(i,t))return e.insert(`
`);const s=t.query(i);if(s&&s.prototype instanceof it)return e.insert(`
`);i=i.firstChild}}}return e}function L0(n,e,t){var r;const i={},s=n.style||{};return s.fontStyle==="italic"&&(i.italic=!0),s.textDecoration==="underline"&&(i.underline=!0),s.textDecoration==="line-through"&&(i.strike=!0),((r=s.fontWeight)!=null&&r.startsWith("bold")||parseInt(s.fontWeight,10)>=700)&&(i.bold=!0),e=Object.entries(i).reduce((o,l)=>{let[a,c]=l;return Tn(o,a,c,t)},e),parseFloat(s.textIndent||0)>0?new B().insert("	").concat(e):e}function I0(n,e,t){var s,r;const i=((s=n.parentElement)==null?void 0:s.tagName)==="TABLE"?n.parentElement:(r=n.parentElement)==null?void 0:r.parentElement;if(i!=null){const l=Array.from(i.querySelectorAll("tr")).indexOf(n)+1;return Tn(e,"table",l,t)}return e}function q0(n,e,t){var s;let i=n.data;if(((s=n.parentElement)==null?void 0:s.tagName)==="O:P")return e.insert(i.trim());if(!xc(n)){if(i.trim().length===0&&i.includes(`
`)&&!k0(n,t))return e;const r=(o,l)=>{const a=l.replace(/[^\u00a0]/g,"");return a.length<1&&o?" ":a};i=i.replace(/\r\n/g," ").replace(/\n/g," "),i=i.replace(/\s\s+/g,r.bind(r,!0)),(n.previousSibling==null&&n.parentElement!=null&&en(n.parentElement,t)||n.previousSibling instanceof Element&&en(n.previousSibling,t))&&(i=i.replace(/^\s+/,r.bind(r,!1))),(n.nextSibling==null&&n.parentElement!=null&&en(n.parentElement,t)||n.nextSibling instanceof Element&&en(n.nextSibling,t))&&(i=i.replace(/\s+$/,r.bind(r,!1)))}return e.insert(i)}class _c extends xt{constructor(t,i){super(t,i);D(this,"lastRecorded",0);D(this,"ignoreChange",!1);D(this,"stack",{undo:[],redo:[]});D(this,"currentRange",null);this.quill.on(S.events.EDITOR_CHANGE,(s,r,o,l)=>{s===S.events.SELECTION_CHANGE?r&&l!==S.sources.SILENT&&(this.currentRange=r):s===S.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===S.sources.USER?this.record(r,o):this.transform(r)),this.currentRange=Vo(this.currentRange,r))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",s=>{s.inputType==="historyUndo"?(this.undo(),s.preventDefault()):s.inputType==="historyRedo"&&(this.redo(),s.preventDefault())})}change(t,i){if(this.stack[t].length===0)return;const s=this.stack[t].pop();if(!s)return;const r=this.quill.getContents(),o=s.delta.invert(r);this.stack[i].push({delta:o,range:Vo(s.range,o)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(s.delta,S.sources.USER),this.ignoreChange=!1,this.restoreSelection(s)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,i){if(t.ops.length===0)return;this.stack.redo=[];let s=t.invert(i),r=this.currentRange;const o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(s=s.compose(l.delta),r=l.range)}else this.lastRecorded=o;s.length()!==0&&(this.stack.undo.push({delta:s,range:r}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(t){Ua(this.stack.undo,t),Ua(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range)this.quill.setSelection(t.range,S.sources.USER);else{const i=D0(this.quill.scroll,t.delta);this.quill.setSelection(i,S.sources.USER)}}}D(_c,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function Ua(n,e){let t=e;for(let i=n.length-1;i>=0;i-=1){const s=n[i];n[i]={delta:t.transform(s.delta,!0),range:s.range&&Vo(s.range,t)},t=s.delta.transform(t),n[i].delta.length()===0&&n.splice(i,1)}}function R0(n,e){const t=e.ops[e.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(i=>n.query(i,U.BLOCK)!=null):!1}function D0(n,e){const t=e.reduce((s,r)=>s+(r.delete||0),0);let i=e.length()-t;return R0(n,e)&&(i-=1),i}function Vo(n,e){if(!n)return n;const t=e.transformPosition(n.index),i=e.transformPosition(n.index+n.length);return{index:t,length:i-t}}class wc extends xt{constructor(e,t){super(e,t),e.root.addEventListener("drop",i=>{var o;i.preventDefault();let s=null;if(document.caretRangeFromPoint)s=document.caretRangeFromPoint(i.clientX,i.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(i.clientX,i.clientY);s=document.createRange(),s.setStart(l.offsetNode,l.offset),s.setEnd(l.offsetNode,l.offset)}const r=s&&e.selection.normalizeNative(s);if(r){const l=e.selection.normalizedToRange(r);(o=i.dataTransfer)!=null&&o.files&&this.upload(l,i.dataTransfer.files)}})}upload(e,t){const i=[];Array.from(t).forEach(s=>{var r;s&&((r=this.options.mimetypes)!=null&&r.includes(s.type))&&i.push(s)}),i.length>0&&this.options.handler.call(this,e,i)}}wc.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,e){if(!this.quill.scroll.query("image"))return;const t=e.map(i=>new Promise(s=>{const r=new FileReader;r.onload=()=>{s(r.result)},r.readAsDataURL(i)}));Promise.all(t).then(i=>{const s=i.reduce((r,o)=>r.insert({image:o}),new B().retain(n.index).delete(n.length));this.quill.updateContents(s,M.sources.USER),this.quill.setSelection(n.index+i.length,M.sources.SILENT)})}};const P0=["insertText","insertReplacementText"];class M0 extends xt{constructor(e,t){super(e,t),e.root.addEventListener("beforeinput",i=>{this.handleBeforeInput(i)}),/Android/i.test(navigator.userAgent)||e.on(S.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){_l({range:e,quill:this.quill})}replaceText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(t){const i=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new B().retain(e.index).insert(t,i),S.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,S.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!P0.includes(e.inputType))return;const t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const i=B0(e);if(i==null)return;const s=this.quill.selection.normalizeNative(t),r=s?this.quill.selection.normalizedToRange(s):null;r&&this.replaceText(r,i)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function B0(n){var e;return typeof n.data=="string"?n.data:(e=n.dataTransfer)!=null&&e.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}const $0=/Mac/i.test(navigator.platform),j0=100,U0=n=>!!(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="Home"||$0&&n.key==="a"&&n.ctrlKey===!0);class V0 extends xt{constructor(t,i){super(t,i);D(this,"isListening",!1);D(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,i){let{line:s,event:r}=i;if(!(s instanceof gt)||!s.uiNode)return!0;const o=getComputedStyle(s.domNode).direction==="rtl";return o&&r.key!=="ArrowRight"||!o&&r.key!=="ArrowLeft"?!0:(this.quill.setSelection(t.index-1,t.length+(r.shiftKey?1:0),S.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",t=>{!t.defaultPrevented&&U0(t)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+j0,this.isListening)return;this.isListening=!0;const t=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",t,{once:!0})}handleSelectionChange(){const t=document.getSelection();if(!t)return;const i=t.getRangeAt(0);if(i.collapsed!==!0||i.startOffset!==0)return;const s=this.quill.scroll.find(i.startContainer);if(!(s instanceof gt)||!s.uiNode)return;const r=document.createRange();r.setStartAfter(s.uiNode),r.setEndAfter(s.uiNode),t.removeAllRanges(),t.addRange(r)}}S.register({"blots/block":Ce,"blots/block/embed":it,"blots/break":yt,"blots/container":En,"blots/cursor":li,"blots/embed":gl,"blots/inline":Lt,"blots/scroll":Xn,"blots/text":bt,"modules/clipboard":yc,"modules/history":_c,"modules/keyboard":tr,"modules/uploader":wc,"modules/input":M0,"modules/uiNode":V0});class H0 extends vt{add(e,t){let i=0;if(t==="+1"||t==="-1"){const s=this.value(e)||0;i=t==="+1"?s+1:s-1}else typeof t=="number"&&(i=t);return i===0?(this.remove(e),!0):super.add(e,i.toString())}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t,10))}value(e){return parseInt(super.value(e),10)||void 0}}const F0=new H0("indent","ql-indent",{scope:U.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class Ho extends Ce{}D(Ho,"blotName","blockquote"),D(Ho,"tagName","blockquote");class Fo extends Ce{static formats(e){return this.tagName.indexOf(e.tagName)+1}}D(Fo,"blotName","header"),D(Fo,"tagName",["H1","H2","H3","H4","H5","H6"]);class Ji extends En{}Ji.blotName="list-container";Ji.tagName="OL";class es extends Ce{static create(e){const t=super.create();return t.setAttribute("data-list",e),t}static formats(e){return e.getAttribute("data-list")||void 0}static register(){S.register(Ji)}constructor(e,t){super(e,t);const i=t.ownerDocument.createElement("span"),s=r=>{if(!e.isEnabled())return;const o=this.statics.formats(t,e);o==="checked"?(this.format("list","unchecked"),r.preventDefault()):o==="unchecked"&&(this.format("list","checked"),r.preventDefault())};i.addEventListener("mousedown",s),i.addEventListener("touchstart",s),this.attachUI(i)}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(e,t)}}es.blotName="list";es.tagName="LI";Ji.allowedChildren=[es];es.requiredContainer=Ji;class Gi extends Lt{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}D(Gi,"blotName","bold"),D(Gi,"tagName",["STRONG","B"]);class zo extends Gi{}D(zo,"blotName","italic"),D(zo,"tagName",["EM","I"]);class tn extends Lt{static create(e){const t=super.create(e);return t.setAttribute("href",this.sanitize(e)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){return kc(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,t){e!==this.statics.blotName||!t?super.format(e,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}}D(tn,"blotName","link"),D(tn,"tagName","A"),D(tn,"SANITIZED_URL","about:blank"),D(tn,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function kc(n,e){const t=document.createElement("a");t.href=n;const i=t.href.slice(0,t.href.indexOf(":"));return e.indexOf(i)>-1}class Ko extends Lt{static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}D(Ko,"blotName","script"),D(Ko,"tagName",["SUB","SUP"]);class Go extends Gi{}D(Go,"blotName","strike"),D(Go,"tagName",["S","STRIKE"]);class Wo extends Lt{}D(Wo,"blotName","underline"),D(Wo,"tagName","U");class Rs extends gl{static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return typeof e=="string"&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}D(Rs,"blotName","formula"),D(Rs,"className","ql-formula"),D(Rs,"tagName","SPAN");const Va=["alt","height","width"];class Xo extends Ye{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("src",this.sanitize(e)),t}static formats(e){return Va.reduce((t,i)=>(e.hasAttribute(i)&&(t[i]=e.getAttribute(i)),t),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return kc(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,t){Va.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}}D(Xo,"blotName","image"),D(Xo,"tagName","IMG");const Ha=["height","width"];class Ds extends it{static create(e){const t=super.create(e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(e)),t}static formats(e){return Ha.reduce((t,i)=>(e.hasAttribute(i)&&(t[i]=e.getAttribute(i)),t),{})}static sanitize(e){return tn.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,t){Ha.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}D(Ds,"blotName","video"),D(Ds,"className","ql-video"),D(Ds,"tagName","IFRAME");const Li=new vt("code-token","hljs",{scope:U.INLINE});class Ut extends Lt{static formats(e,t){for(;e!=null&&e!==t.domNode;){if(e.classList&&e.classList.contains(Pe.className))return super.formats(e,t);e=e.parentNode}}constructor(e,t,i){super(e,t,i),Li.add(this.domNode,i)}format(e,t){e!==Ut.blotName?super.format(e,t):t?Li.add(this.domNode,t):(Li.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Li.value(this.domNode)||this.unwrap()}}Ut.blotName="code-token";Ut.className="ql-token";class nt extends Pe{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("data-language",e),t}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(e,t)}replaceWith(e,t){return this.formatAt(0,this.length(),Ut.blotName,!1),super.replaceWith(e,t)}}class Pi extends Sn{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,t){e===nt.blotName&&(this.forceNext=!0,this.children.forEach(i=>{i.format(e,t)}))}formatAt(e,t,i,s){i===nt.blotName&&(this.forceNext=!0),super.formatAt(e,t,i,s)}highlight(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const s=`${Array.from(this.domNode.childNodes).filter(o=>o!==this.uiNode).map(o=>o.textContent).join(`
`)}
`,r=nt.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==s){if(s.trim().length>0||this.cachedText==null){const o=this.children.reduce((a,c)=>a.concat(rc(c,!1)),new B),l=e(s,r);o.diff(l).reduce((a,c)=>{let{retain:p,attributes:f}=c;return p?(f&&Object.keys(f).forEach(d=>{[nt.blotName,Ut.blotName].includes(d)&&this.formatAt(a,p,d,f[d])}),a+p):a},0)}this.cachedText=s,this.forceNext=!1}}html(e,t){const[i]=this.children.find(e);return`<pre data-language="${i?nt.formats(i.domNode):"plain"}">
${er(this.code(e,t))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=nt.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}Pi.allowedChildren=[nt];nt.requiredContainer=Pi;nt.allowedChildren=[Ut,li,bt,yt];const z0=(n,e,t)=>{if(typeof n.versionString=="string"){const i=n.versionString.split(".")[0];if(parseInt(i,10)>=11)return n.highlight(t,{language:e}).value}return n.highlight(e,t).value};class Ac extends xt{static register(){S.register(Ut,!0),S.register(nt,!0),S.register(Pi,!0)}constructor(e,t){if(super(e,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((i,s)=>{let{key:r}=s;return i[r]=!0,i},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(S.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof Pi))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(i=>{let{key:s,label:r}=i;const o=t.ownerDocument.createElement("option");o.textContent=r,o.setAttribute("value",s),t.appendChild(o)}),t.addEventListener("change",()=>{e.format(nt.blotName,t.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(t),e.children.head&&(t.value=nt.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(S.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(S.sources.USER);const i=this.quill.getSelection();(e==null?this.quill.scroll.descendants(Pi):[e]).forEach(r=>{r.highlight(this.highlightBlot,t)}),this.quill.update(S.sources.SILENT),i!=null&&this.quill.setSelection(i,S.sources.SILENT)}highlightBlot(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return er(e).split(`
`).reduce((s,r,o)=>(o!==0&&s.insert(`
`,{[Pe.blotName]:t}),s.insert(r)),new B);const i=this.quill.root.ownerDocument.createElement("div");return i.classList.add(Pe.className),i.innerHTML=z0(this.options.hljs,t,e),wl(this.quill.scroll,i,[(s,r)=>{const o=Li.value(s);return o?r.compose(new B().retain(r.length(),{[Ut.blotName]:o})):r}],[(s,r)=>s.data.split(`
`).reduce((o,l,a)=>(a!==0&&o.insert(`
`,{[Pe.blotName]:t}),o.insert(l)),r)],new WeakMap)}}Ac.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const Bi=class Bi extends Ce{static create(e){const t=super.create();return e?t.setAttribute("data-row",e):t.setAttribute("data-row",kl()),t}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,t){e===Bi.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(e,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};D(Bi,"blotName","table"),D(Bi,"tagName","TD");let ft=Bi;class Vt extends En{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),t=this.children.tail.formats(),i=this.next.children.head.formats(),s=this.next.children.tail.formats();return e.table===t.table&&e.table===i.table&&e.table===s.table}return!1}optimize(e){super.optimize(e),this.children.forEach(t=>{if(t.next==null)return;const i=t.formats(),s=t.next.formats();if(i.table!==s.table){const r=this.splitAfter(t);r&&r.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}D(Vt,"blotName","table-row"),D(Vt,"tagName","TR");class Ct extends En{}D(Ct,"blotName","table-body"),D(Ct,"tagName","TBODY");class ui extends En{balanceCells(){const e=this.descendants(Vt),t=e.reduce((i,s)=>Math.max(s.children.length,i),0);e.forEach(i=>{new Array(t-i.children.length).fill(0).forEach(()=>{let s;i.children.head!=null&&(s=ft.formats(i.children.head.domNode));const r=this.scroll.create(ft.blotName,s);i.appendChild(r),r.optimize()})})}cells(e){return this.rows().map(t=>t.children.at(e))}deleteColumn(e){const[t]=this.descendant(Ct);t==null||t.children.head==null||t.children.forEach(i=>{const s=i.children.at(e);s!=null&&s.remove()})}insertColumn(e){const[t]=this.descendant(Ct);t==null||t.children.head==null||t.children.forEach(i=>{const s=i.children.at(e),r=ft.formats(i.children.head.domNode),o=this.scroll.create(ft.blotName,r);i.insertBefore(o,s)})}insertRow(e){const[t]=this.descendant(Ct);if(t==null||t.children.head==null)return;const i=kl(),s=this.scroll.create(Vt.blotName);t.children.head.children.forEach(()=>{const o=this.scroll.create(ft.blotName,i);s.appendChild(o)});const r=t.children.at(e);t.insertBefore(s,r)}rows(){const e=this.children.head;return e==null?[]:e.children.map(t=>t)}}D(ui,"blotName","table-container"),D(ui,"tagName","TABLE");ui.allowedChildren=[Ct];Ct.requiredContainer=ui;Ct.allowedChildren=[Vt];Vt.requiredContainer=Ct;Vt.allowedChildren=[ft];ft.requiredContainer=Vt;function kl(){return`row-${Math.random().toString(36).slice(2,6)}`}class K0 extends xt{static register(){S.register(ft),S.register(Vt),S.register(Ct),S.register(ui)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(ui).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,t]=this.getTable();t!=null&&(e.deleteColumn(t.cellOffset()),this.quill.update(S.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(S.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const t=e.offset();e.remove(),this.quill.update(S.sources.USER),this.quill.setSelection(t,S.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[t,i]=this.quill.getLine(e.index);if(t==null||t.statics.blotName!==ft.blotName)return[null,null,null,-1];const s=t.parent;return[s.parent.parent,s,t,i]}insertColumn(e){const t=this.quill.getSelection();if(!t)return;const[i,s,r]=this.getTable(t);if(r==null)return;const o=r.cellOffset();i.insertColumn(o+e),this.quill.update(S.sources.USER);let l=s.rowOffset();e===0&&(l+=1),this.quill.setSelection(t.index+l,t.length,S.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const t=this.quill.getSelection();if(!t)return;const[i,s,r]=this.getTable(t);if(r==null)return;const o=s.rowOffset();i.insertRow(o+e),this.quill.update(S.sources.USER),e>0?this.quill.setSelection(t,S.sources.SILENT):this.quill.setSelection(t.index+s.children.length,t.length,S.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,t){const i=this.quill.getSelection();if(i==null)return;const s=new Array(e).fill(0).reduce(r=>{const o=new Array(t).fill(`
`).join("");return r.insert(o,{table:kl()})},new B().retain(i.index));this.quill.updateContents(s,S.sources.USER),this.quill.setSelection(i.index,S.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(S.events.SCROLL_OPTIMIZE,e=>{e.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(S.events.TEXT_CHANGE,(i,s,r)=>{r===S.sources.USER&&this.balanceTables()}),!0):!1)})}}const Fa=Ft("quill:toolbar");class Al extends xt{constructor(e,t){var i,s;if(super(e,t),Array.isArray(this.options.container)){const r=document.createElement("div");r.setAttribute("role","toolbar"),G0(r,this.options.container),(s=(i=e.container)==null?void 0:i.parentNode)==null||s.insertBefore(r,e.container),this.container=r}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){Fa.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(r=>{var l;const o=(l=this.options.handlers)==null?void 0:l[r];o&&this.addHandler(r,o)}),Array.from(this.container.querySelectorAll("button, select")).forEach(r=>{this.attach(r)}),this.quill.on(S.events.EDITOR_CHANGE,()=>{const[r]=this.quill.selection.getRange();this.update(r)})}addHandler(e,t){this.handlers[e]=t}attach(e){let t=Array.from(e.classList).find(s=>s.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){Fa.warn("ignoring attaching to nonexistent format",t,e);return}const i=e.tagName==="SELECT"?"change":"click";e.addEventListener(i,s=>{let r;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const l=e.options[e.selectedIndex];l.hasAttribute("selected")?r=!1:r=l.value||!1}else e.classList.contains("ql-active")?r=!1:r=e.value||!e.hasAttribute("value"),s.preventDefault();this.quill.focus();const[o]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,r);else if(this.quill.scroll.query(t).prototype instanceof Ye){if(r=prompt(`Enter ${t}`),!r)return;this.quill.updateContents(new B().retain(o.index).delete(o.length).insert({[t]:r}),S.sources.USER)}else this.quill.format(t,r,S.sources.USER);this.update(o)}),this.controls.push([t,e])}update(e){const t=e==null?{}:this.quill.getFormat(e);this.controls.forEach(i=>{const[s,r]=i;if(r.tagName==="SELECT"){let o=null;if(e==null)o=null;else if(t[s]==null)o=r.querySelector("option[selected]");else if(!Array.isArray(t[s])){let l=t[s];typeof l=="string"&&(l=l.replace(/"/g,'\\"')),o=r.querySelector(`option[value="${l}"]`)}o==null?(r.value="",r.selectedIndex=-1):o.selected=!0}else if(e==null)r.classList.remove("ql-active"),r.setAttribute("aria-pressed","false");else if(r.hasAttribute("value")){const o=t[s],l=o===r.getAttribute("value")||o!=null&&o.toString()===r.getAttribute("value")||o==null&&!r.getAttribute("value");r.classList.toggle("ql-active",l),r.setAttribute("aria-pressed",l.toString())}else{const o=t[s]!=null;r.classList.toggle("ql-active",o),r.setAttribute("aria-pressed",o.toString())}})}}Al.DEFAULTS={};function za(n,e,t){const i=document.createElement("button");i.setAttribute("type","button"),i.classList.add(`ql-${e}`),i.setAttribute("aria-pressed","false"),t!=null?(i.value=t,i.setAttribute("aria-label",`${e}: ${t}`)):i.setAttribute("aria-label",e),n.appendChild(i)}function G0(n,e){Array.isArray(e[0])||(e=[e]),e.forEach(t=>{const i=document.createElement("span");i.classList.add("ql-formats"),t.forEach(s=>{if(typeof s=="string")za(i,s);else{const r=Object.keys(s)[0],o=s[r];Array.isArray(o)?W0(i,r,o):za(i,r,o)}}),n.appendChild(i)})}function W0(n,e,t){const i=document.createElement("select");i.classList.add(`ql-${e}`),t.forEach(s=>{const r=document.createElement("option");s!==!1?r.setAttribute("value",String(s)):r.setAttribute("selected","selected"),i.appendChild(r)}),n.appendChild(i)}Al.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(n!=null)if(n.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(t=>{this.quill.scroll.query(t,U.INLINE)!=null&&this.quill.format(t,!1,S.sources.USER)})}else this.quill.removeFormat(n.index,n.length,S.sources.USER)},direction(n){const{align:e}=this.quill.getFormat();n==="rtl"&&e==null?this.quill.format("align","right",S.sources.USER):!n&&e==="right"&&this.quill.format("align",!1,S.sources.USER),this.quill.format("direction",n,S.sources.USER)},indent(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e),i=parseInt(t.indent||0,10);if(n==="+1"||n==="-1"){let s=n==="+1"?1:-1;t.direction==="rtl"&&(s*=-1),this.quill.format("indent",i+s,S.sources.USER)}},link(n){n===!0&&(n=prompt("Enter link URL:")),this.quill.format("link",n,S.sources.USER)},list(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e);n==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,S.sources.USER):this.quill.format("list","unchecked",S.sources.USER):this.quill.format("list",n,S.sources.USER)}}};const X0='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',Y0='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',Z0='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',Q0='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',J0='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',ey='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',ty='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',ny='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',Ka='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',iy='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',sy='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',ry='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',oy='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',ly='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',ay='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',uy='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',cy='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',py='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',hy='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',dy='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',fy='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',gy='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',my='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',by='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',vy='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',yy='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',xy='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',_y='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',wy='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',ky='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',Ay='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',Ey='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',Sy='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Wi={align:{"":X0,center:Y0,right:Z0,justify:Q0},background:J0,blockquote:ey,bold:ty,clean:ny,code:Ka,"code-block":Ka,color:iy,direction:{"":sy,rtl:ry},formula:oy,header:{1:ly,2:ay,3:uy,4:cy,5:py,6:hy},italic:dy,image:fy,indent:{"+1":gy,"-1":my},link:by,list:{bullet:vy,check:yy,ordered:xy},script:{sub:_y,super:wy},strike:ky,table:Ay,underline:Ey,video:Sy},Ty='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let Ga=0;function Wa(n,e){n.setAttribute(e,`${n.getAttribute(e)!=="true"}`)}class nr{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Wa(this.label,"aria-expanded"),Wa(this.options,"aria-hidden")}buildItem(e){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const i=e.getAttribute("value");return i&&t.setAttribute("data-value",i),e.textContent&&t.setAttribute("data-label",e.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",s=>{switch(s.key){case"Enter":this.selectItem(t,!0),s.preventDefault();break;case"Escape":this.escape(),s.preventDefault();break}}),t}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=Ty,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${Ga}`,Ga+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(t=>{const i=this.buildItem(t);e.appendChild(i),t.selected===!0&&this.selectItem(i)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i=this.container.querySelector(".ql-selected");e!==i&&(i!=null&&i.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const i=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(i)}else this.selectItem(null);const t=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class Ec extends nr{constructor(e,t){super(e),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(i=>{i.classList.add("ql-primary")})}buildItem(e){const t=super.buildItem(e);return t.style.backgroundColor=e.getAttribute("value")||"",t}selectItem(e,t){super.selectItem(e,t);const i=this.label.querySelector(".ql-color-label"),s=e&&e.getAttribute("data-value")||"";i&&(i.tagName==="line"?i.style.stroke=s:i.style.fill=s)}}let Sc=class extends nr{constructor(e,t){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(i=>{i.innerHTML=t[i.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,t){super.selectItem(e,t);const i=e||this.defaultItem;if(i!=null){if(this.label.innerHTML===i.innerHTML)return;this.label.innerHTML=i.innerHTML}}};const Ny=n=>{const{overflowY:e}=getComputedStyle(n,null);return e!=="visible"&&e!=="clip"};class Tc{constructor(e,t){this.quill=e,this.boundsContainer=t||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,Ny(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const t=e.left+e.width/2-this.root.offsetWidth/2,i=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${i}px`,this.root.classList.remove("ql-flip");const s=this.boundsContainer.getBoundingClientRect(),r=this.root.getBoundingClientRect();let o=0;if(r.right>s.right&&(o=s.right-r.right,this.root.style.left=`${t+o}px`),r.left<s.left&&(o=s.left-r.left,this.root.style.left=`${t+o}px`),r.bottom>s.bottom){const l=r.bottom-r.top,a=e.bottom-e.top+l;this.root.style.top=`${i-a}px`,this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const Cy=[!1,"center","right","justify"],Oy=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Ly=[!1,"serif","monospace"],Iy=["1","2","3",!1],qy=["small",!1,"large","huge"];class ts extends ai{constructor(e,t){super(e,t);const i=s=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",i);return}this.tooltip!=null&&!this.tooltip.root.contains(s.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(r=>{r.container.contains(s.target)||r.close()})};e.emitter.listenDOM("click",document.body,i)}addModule(e){const t=super.addModule(e);return e==="toolbar"&&this.extendToolbar(t),t}buildButtons(e,t){Array.from(e).forEach(i=>{(i.getAttribute("class")||"").split(/\s+/).forEach(r=>{if(r.startsWith("ql-")&&(r=r.slice(3),t[r]!=null))if(r==="direction")i.innerHTML=t[r][""]+t[r].rtl;else if(typeof t[r]=="string")i.innerHTML=t[r];else{const o=i.value||"";o!=null&&t[r][o]&&(i.innerHTML=t[r][o])}})})}buildPickers(e,t){this.pickers=Array.from(e).map(s=>{if(s.classList.contains("ql-align")&&(s.querySelector("option")==null&&Ci(s,Cy),typeof t.align=="object"))return new Sc(s,t.align);if(s.classList.contains("ql-background")||s.classList.contains("ql-color")){const r=s.classList.contains("ql-background")?"background":"color";return s.querySelector("option")==null&&Ci(s,Oy,r==="background"?"#ffffff":"#000000"),new Ec(s,t[r])}return s.querySelector("option")==null&&(s.classList.contains("ql-font")?Ci(s,Ly):s.classList.contains("ql-header")?Ci(s,Iy):s.classList.contains("ql-size")&&Ci(s,qy)),new nr(s)});const i=()=>{this.pickers.forEach(s=>{s.update()})};this.quill.on(M.events.EDITOR_CHANGE,i)}}ts.DEFAULTS=nn({},ai.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");n==null&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class Nc extends Tc{constructor(e,t){super(e,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const i=this.quill.getBounds(this.quill.selection.savedRange);i!=null&&this.position(i),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,M.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,M.sources.USER)),this.quill.root.scrollTop=t;break}case"video":e=Ry(e);case"formula":{if(!e)break;const t=this.quill.getSelection(!0);if(t!=null){const i=t.index+t.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),e,M.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(i+1," ",M.sources.USER),this.quill.setSelection(i+2,M.sources.USER)}break}}this.textbox.value="",this.hide()}}function Ry(n){let e=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:n}function Ci(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(i=>{const s=document.createElement("option");i===t?s.setAttribute("selected","selected"):s.setAttribute("value",String(i)),n.appendChild(s)})}const Dy=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Cc extends Nc{constructor(e,t){super(e,t),this.quill.on(M.events.EDITOR_CHANGE,(i,s,r,o)=>{if(i===M.events.SELECTION_CHANGE)if(s!=null&&s.length>0&&o===M.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const l=this.quill.getLines(s.index,s.length);if(l.length===1){const a=this.quill.getBounds(s);a!=null&&this.position(a)}else{const a=l[l.length-1],c=this.quill.getIndex(a),p=Math.min(a.length()-1,s.index+s.length-c),f=this.quill.getBounds(new _n(c,p));f!=null&&this.position(f)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(M.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const t=this.quill.getBounds(e);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(e){const t=super.position(e),i=this.root.querySelector(".ql-tooltip-arrow");return i.style.marginLeft="",t!==0&&(i.style.marginLeft=`${-1*t-i.offsetWidth/2}px`),t}}D(Cc,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class Oc extends ts{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=Dy),super(e,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new Cc(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),Wi),this.buildPickers(e.container.querySelectorAll("select"),Wi))}}Oc.DEFAULTS=nn({},ts.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1,S.sources.USER)}}}}});const Py=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class Lc extends Nc{constructor(){super(...arguments);D(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",t=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",t=>{if(this.linkRange!=null){const i=this.linkRange;this.restoreFocus(),this.quill.formatText(i,"link",!1,M.sources.USER),delete this.linkRange}t.preventDefault(),this.hide()}),this.quill.on(M.events.SELECTION_CHANGE,(t,i,s)=>{if(t!=null){if(t.length===0&&s===M.sources.USER){const[r,o]=this.quill.scroll.descendant(tn,t.index);if(r!=null){this.linkRange=new _n(t.index-o,r.length());const l=tn.formats(r.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const a=this.quill.getBounds(this.linkRange);a!=null&&this.position(a);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}D(Lc,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class Ic extends ts{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=Py),super(e,t),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),Wi),this.buildPickers(e.container.querySelectorAll("select"),Wi),this.tooltip=new Lc(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,i)=>{e.handlers.link.call(e,!i.format.link)}))}}Ic.DEFAULTS=nn({},ts.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const e=this.quill.getSelection();if(e==null||e.length===0)return;let t=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:i}=this.quill.theme;i.edit("link",t)}else this.quill.format("link",!1,S.sources.USER)}}}}});S.register({"attributors/attribute/direction":pc,"attributors/class/align":ac,"attributors/class/background":e0,"attributors/class/color":Jv,"attributors/class/direction":hc,"attributors/class/font":gc,"attributors/class/size":bc,"attributors/style/align":uc,"attributors/style/background":vl,"attributors/style/color":bl,"attributors/style/direction":dc,"attributors/style/font":mc,"attributors/style/size":vc},!0);S.register({"formats/align":ac,"formats/direction":hc,"formats/indent":F0,"formats/background":vl,"formats/color":bl,"formats/font":gc,"formats/size":bc,"formats/blockquote":Ho,"formats/code-block":Pe,"formats/header":Fo,"formats/list":es,"formats/bold":Gi,"formats/code":yl,"formats/italic":zo,"formats/link":tn,"formats/script":Ko,"formats/strike":Go,"formats/underline":Wo,"formats/formula":Rs,"formats/image":Xo,"formats/video":Ds,"modules/syntax":Ac,"modules/table":K0,"modules/toolbar":Al,"themes/bubble":Oc,"themes/snow":Ic,"ui/icons":Wi,"ui/picker":nr,"ui/icon-picker":Sc,"ui/color-picker":Ec,"ui/tooltip":Tc},!0);const My={props:{returnData:Function,value:String},data(){return{option:this.value,quillEditor:"",variableTrigger:!1}},watch:{value:{handler(){this.updating||(this.option=this.value,this.quillEditor?this.quillEditor.root.innerHTML=this.option:this.startEditor())}}},mounted(){this.startEditor()},methods:{returnStylePath(){return this.uipApp.litePath+"assets/css/modules/uip-quill.css"},startEditor(){const n=this.$refs.uipeditor;this.quillEditor=new S(n,{theme:"snow"}),this.quillEditor.on("text-change",this.handleTextChange),this.quillEditor.root.innerHTML=this.option},async handleTextChange(n,e,t){this.updating=!0,this.returnData(this.quillEditor.root.innerHTML),await this.$nextTick(),this.updating=!1}}},By={class:"uip-flex uip-flex-column uip-min-h-200 uip-w-100p uip-gap-xs"},$y={ref:"uipeditor",class:"uip-h-100p uip-w-100p"};function jy(n,e,t,i,s,r){return _(),k("div",By,[(_(),he(ni("style"),null,{default:Y(()=>[sn(" @import '"+N(r.returnStylePath())+"'; ",1)]),_:1})),g("div",$y,null,512)])}const Uy=J(My,[["render",jy]]),{__:jn}=wp.i18n,Vy={props:{returnData:Function,value:Object},data(){return{open:!1,input:this.returnDefaultOptions,dynamics:this.uipApp.data.dynamicOptions,strings:{dynamicData:jn("Dynamic data","uipress-lite"),currentValue:jn("Current value","uipress-lite"),select:jn("select","uipress-lite"),dataPos:jn("Dynamic data position","uipress-lite")},positionOptions:{left:{label:jn("Left","uipress-lite"),value:"left",placeHolder:""},right:{label:jn("Right","uipress-lite"),value:"right",placeHolder:""}}}},watch:{value:{handler(n,e){this.updating||this.injectProp()},deep:!0,immediate:!0},input:{handler(n,e){if(this.updating)return;const t={string:this.input.string,dynamic:this.input.dynamic,dynamicKey:this.input.dynamicKey,dynamicPos:this.input.dynamicPos,dynamicType:"text"};this.returnData(t)},deep:!0}},computed:{returnDefaultOptions(){return{string:"",dynamicPos:"left"}}},methods:{async injectProp(){this.updating=!0;const n=this.returnDefaultOptions,e=this.isObject(this.value)?this.value:{};this.input={...n,...e},await Hs(),this.updating=!1},chooseItem(n){n.key!=this.input.dynamicKey&&(this.input.dynamic=!0,this.input.dynamicKey=n.key,this.returnData({string:this.input.string,dynamic:this.input.dynamic,dynamicKey:this.input.dynamicKey,dynamicPos:this.input.dynamicPos}))},removeDynamicItem(){this.input.dynamic=!1,this.input.dynamicKey="",this.returnData({string:this.input.string,dynamic:this.input.dynamic,dynamicKey:this.input.dynamicKey,dynamicPos:this.input.dynamicPos})}}},Hy={class:"uip-flex uip-gap-xxs uip-w-100p uip-flex-wrap"},Fy={class:"uip-padding-xs uip-max-w-260"},zy={class:"uip-flex uip-flex-wrap uip-flex-start uip-gap-xs uip-row-gap-xs uip-w-250 uip-max-h-200 uip-scrollbar uip-overflow-auto"},Ky={class:""},Gy={class:"uip-text-s uip-text-bold"},Wy={class:"uip-text-xs uip-text-muted"},Xy=["onClick"],Yy={key:1,class:"uip-w-100p"},Zy={class:"uip-text-s uip-text-muted uip-margin-bottom-xxs uip-margin-top-xs"};function Qy(n,e,t,i,s,r){const o=P("AppIcon"),l=P("dropdown"),a=P("toggle-switch");return _(),k("div",Hy,[s.input.dynamic?(_(),he(l,{key:0,pos:"left center",snapX:["#uip-block-settings","#uip-template-settings","#uip-global-settings"]},{trigger:Y(()=>[g("span",{class:Ke(["uip-border-rounder uip-text-l uip-flex uip-icon uip-padding-xxxs uip-text-center uip-link-default uip-background-muted",{"uip-background-primary uip-text-inverse":this.input.dynamic}])}," database ",2)]),content:Y(()=>[g("div",Fy,[g("div",zy,[(_(!0),k(le,null,be(s.dynamics,c=>(_(),k(le,null,[c.type=="text"?(_(),k("div",{key:0,class:Ke(["uip-border-round hover:uip-background-muted uip-border-round uip-padding-xxs uip-flex uip-flex-between uip-flex-center uip-flex-middle uip-cursor-pointer uip-w-100p",{"uip-background-primary-wash":this.input.dynamicKey==c.key}])},[g("div",Ky,[g("div",Gy,N(c.label),1),g("div",Wy,N(s.strings.currentValue+": "+c.value),1)]),this.input.dynamicKey==c.key?(_(),k("span",{key:0,onClick:e[0]||(e[0]=p=>r.removeDynamicItem()),class:"uip-padding-xxs uip-border-round uip-background-muted hover:uip-background-grey uip-cursor-pointer uip-flex uip-flex-middle uip-flex-center"},[O(o,{icon:"delete",class:"uip-icon"})])):(_(),k("span",{key:1,onClick:p=>r.chooseItem(c),class:"uip-padding-xxs uip-border-round uip-background-muted hover:uip-background-grey uip-cursor-pointer uip-flex uip-flex-middle uip-flex-center"},N(s.strings.select),9,Xy))],2)):z("",!0)],64))),256))])])]),_:1})):z("",!0),Z(g("input",{type:"text",class:"uip-input-small uip-border-left-remove uip-flex-grow","onUpdate:modelValue":e[1]||(e[1]=c=>s.input.string=c)},null,512),[[ne,s.input.string]]),s.input.dynamic?(_(),k("div",Yy,[g("div",Zy,N(s.strings.dataPos),1),g("div",null,[O(a,{options:s.positionOptions,activeValue:s.input.dynamicPos,returnValue:function(c){s.input.dynamicPos=c}},null,8,["options","activeValue","returnValue"])])])):z("",!0)])}const Jy=J(Vy,[["render",Qy]]),ex={methods:{doesBrowserSupportPassiveScroll(){let n=!1;try{const e={get passive(){return n=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{n=!1}return n}}},tx={mixins:[ex],props:{allItems:{type:Array,required:!0},containerClass:{type:String,required:!1},rootHeight:{type:Number,required:!1,default:300},startRowHeight:{type:Number,required:!1,default:10},perRow:{type:Number,required:!1,default:1}},data(){return{scrollTop:0,nodePadding:20,rowHeight:this.startRowHeight}},computed:{viewportHeight(){return this.itemCount*this.rowHeight},startIndex(){let n=Math.floor(this.scrollTop/this.rowHeight)-this.nodePadding;return Math.max(0,n)},visibleNodeCount(){let n=Math.ceil(this.rootHeight/this.rowHeight)+2*this.nodePadding;return Math.min(this.itemCount-this.startIndex,n)},visibleItems(){return this.allItems.slice(this.startIndex*this.perRow,(this.startIndex+this.visibleNodeCount)*this.perRow)},itemCount(){return Math.ceil(this.allItems.length/this.perRow)},offsetY(){return this.startIndex*this.rowHeight},spacerStyle(){return{transform:`translateY(${this.offsetY}px)`}},viewportStyle(){return{overflow:"hidden",height:`${this.viewportHeight}px`,position:"relative"}},rootStyle(){return{height:`${this.rootHeight}px`,overflow:"auto"}}},methods:{handleScroll(n){this.scrollTop=this.$refs.root.scrollTop},calculateInitialRowHeight(){const n=this.$refs.spacer.children;if(!n||!n.length)return this.startRowHeight;const t=n[0].getBoundingClientRect().height;return console.log(t),t}},async mounted(){await this.$nextTick();const n=this.calculateInitialRowHeight();this.rowHeight=n||this.startRowHeight;const e=this.doesBrowserSupportPassiveScroll()?{passive:!0}:!1;this.$refs.root.addEventListener("scroll",this.handleScroll,e)},beforeUnmount(){this.$refs.root.removeEventListener("scroll",this.handleScroll)}};function nx(n,e,t,i,s,r){return _(),k("div",{onScroll:e[0]||(e[0]=(...o)=>r.handleScroll&&r.handleScroll(...o)),class:"root",ref:"root",style:Zn(r.rootStyle)},[g("div",{ref:"viewport",style:Zn(r.viewportStyle)},[g("div",{class:Ke([t.containerClass,"tester"]),ref:"spacer",style:Zn(r.spacerStyle)},[(_(!0),k(le,null,be(r.visibleItems,o=>mn(n.$slots,"item",{item:o})),256))],6)],4)],36)}const ix=J(tx,[["render",nx]]),{__:yo}=wp.i18n,sx={components:{virtualList:ix},props:{value:String,returnData:Function},data(){return{search:"",icon:this.value,icons:[],strings:{search:yo("Search","uipress-lite"),viewAllIcons:yo("View all icons on the","uipress-lite"),materialSite:yo("Material site","uipress-lite")}}},watch:{icon:{handler(){this.returnData(this.icon)}}},mounted(){this.setIcons()},computed:{returnIcons(){if(!this.search)return this.icons;const n=this.search.toLowerCase();return this.icons.filter(e=>e.toLowerCase().includes(n))}},methods:{async setIcons(){const n=await Yt(()=>import("./assets/icons-Dd8YpThO.js"),[]);this.icons=n.default}}},rx={class:"uip-flex uip-flex-column uip-row-gap-s"},ox=["placeholder"],lx=["onClick"],ax={class:"uip-flex uip-flex-column uip-row-gap-xs uip-flex-center uip-flex-middle uip-max-w-100p"},ux={class:"uip-text-muted uip-text-xs uip-max-w-100p uip-overflow-auto uip-no-wrap uip-text-ellipsis"},cx={class:"uip-text-muted uip-text-s"},px={href:"https://fonts.google.com/icons",target:"_BLANK"};function hx(n,e,t,i,s,r){const o=P("AppIcon"),l=P("virtualList");return _(),k("div",rx,[Z(g("input",{class:"uip-input",type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>s.search=a),placeholder:s.strings.search,autofocus:""},null,8,ox),[[ne,s.search]]),O(l,{allItems:r.returnIcons,containerClass:"uip-grid-col-3 uip-grid-gap-xs",startRowHeight:80,perRow:3},{item:Y(({item:a})=>[g("div",{class:Ke([{"uip-background-primary uip-dark-mode uip-text-inverse":s.icon==a,"uip-background-muted uip-link-default":s.icon!=a},"uip-border-rounder uip-padding-xxs uip-flex uip-flex-center uip-flex-middle uip-ratio-1-1 uip-transition-all uip-flex uip-fade-in"]),onClick:c=>s.icon=a},[g("div",ax,[O(o,{icon:a,class:"uip-icon uip-text-xl"},null,8,["icon"]),g("span",ux,N(a),1)])],10,lx)]),_:1},8,["allItems"]),g("div",cx,[sn(N(s.strings.viewAllIcons)+" ",1),g("a",px,N(s.strings.materialSite),1)])])}const qc=J(sx,[["render",hx]]),{__:Xa}=wp.i18n,dx={components:{IconPicker:qc},props:{returnData:Function,value:Object},data(){return{updating:!1,icon:{value:""},strings:{add:Xa("Add","uipress-lite"),iconSelect:Xa("Icon select","uipress-lite")}}},watch:{value:{handler(){this.updating||this.injectProp()},deep:!0,immediate:!0},icon:{handler(n,e){this.updating||this.returnData(n)},deep:!0}},computed:{returnIcon(){return this.icon.value?this.icon.value:"category"}},methods:{async injectProp(n){this.updating=!0,this.icon=this.isObject(this.value)?{...this.value}:{value:""},await this.$nextTick(),this.updating=!1}}},fx={class:"uip-background-muted uip-border-rounder uip-padding-xxs uip-flex uip-flex-center uip-gap-xs uip-cursor-pointer"},gx={class:"uip-background-primary uip-text-inverse uip-border-round uip-padding-xxxs"},mx={key:0,class:"uip-text-muted uip-flex-grow"},bx={key:1,class:"uip-no-wrap uip-text-ellipsis uip-overflow-hidden uip-w-80 uip-flex-grow"},vx={class:"uip-w-240 uip-padding-s uip-flex uip-row-gap-s uip-flex-column"},yx={class:"uip-flex uip-flex-between uip-flex-center"},xx={class:"uip-text-emphasis uip-text-bold uip-text-s"};function _x(n,e,t,i,s,r){const o=P("AppIcon"),l=P("IconPicker"),a=P("dropdown");return _(),he(a,{pos:"left center",class:"uip-w-100p",ref:"iconselect",snapX:["#uip-block-settings","#uip-template-settings","#uip-global-settings"]},{trigger:Y(()=>[g("div",fx,[g("div",gx,[O(o,{icon:r.returnIcon,class:"uip-icon"},null,8,["icon"])]),s.icon.value?(_(),k("div",bx,N(s.icon.value),1)):(_(),k("div",mx,N(s.strings.add)+"...",1)),s.icon.value?(_(),k("a",{key:2,onClick:e[0]||(e[0]=We(c=>s.icon.value="",["stop","prevent"])),class:"uip-no-underline uip-border-rounder uip-padding-xxxs uip-link-muted uip-text-s"},[O(o,{icon:"close",class:"uip-icon"})])):z("",!0)])]),content:Y(()=>[g("div",vx,[g("div",yx,[g("div",xx,N(s.strings.iconSelect),1),g("div",{onClick:e[1]||(e[1]=c=>n.$refs.iconselect.close()),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[O(o,{icon:"close",class:"uip-icon"})])]),O(l,{value:s.icon.value,returnData:c=>{s.icon.value=c}},null,8,["value","returnData"])])]),_:1},512)}const wx=J(dx,[["render",_x]]),{__:Ya}=wp.i18n,kx={components:{IconPicker:qc},props:{returnData:Function,value:Object},data(){return{icon:{value:""},strings:{add:Ya("Add","uipress-lite"),iconSelect:Ya("Icon select","uipress-lite")}}},watch:{icon:{handler(n,e){this.returnData(n)},deep:!0}},mounted(){this.formatIcon(this.value)},computed:{returnIcon(){return this.icon.value?this.icon.value:"category"}},methods:{formatIcon(n){this.isObject(n)&&(this.icon={...this.icon,...n})}}},Ax={class:"uip-w-240 uip-padding-s uip-flex uip-row-gap-s uip-flex-column"},Ex={class:"uip-flex uip-flex-between uip-flex-center"},Sx={class:"uip-text-emphasis uip-text-bold uip-text-s"};function Tx(n,e,t,i,s,r){const o=P("AppIcon"),l=P("IconPicker"),a=P("dropdown");return _(),he(a,{pos:"left center",ref:"iconselect",snapX:["#uip-block-settings","#uip-template-settings","#uip-global-settings"]},{trigger:Y(()=>[mn(n.$slots,"trigger")]),content:Y(()=>[g("div",Ax,[g("div",Ex,[g("div",Sx,N(s.strings.iconSelect),1),g("div",{onClick:e[0]||(e[0]=c=>n.$refs.iconselect.close()),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[O(o,{icon:"close",class:"uip-icon"})])]),O(l,{value:s.icon.value,returnData:c=>{s.icon.value=c}},null,8,["value","returnData"])])]),_:3},512)}const Nx=J(kx,[["render",Tx]]),{__:Un}=wp.i18n,Cx={props:{returnData:Function,value:[Object,String,Boolean],args:Object},data:function(){return{option:{value:!1},options:{},updating:!1}},watch:{args:{handler(n,e){this.updating||this.formatArgs()},deep:!0,immediate:!0},value:{handler(n,e){this.updating||this.formatInput()},deep:!0,immediate:!0},option:{handler(n,e){this.updating||this.returnData(this.option)},deep:!0}},computed:{enabledDisabled(){return{true:{value:!0,label:Un("Disabled","uipress-lite")},false:{value:!1,label:Un("Enabled","uipress-lite")}}},yesNo(){return{false:{value:!1,label:Un("Disabled","uipress-lite")},true:{value:!0,label:Un("Enabled","uipress-lite")}}},hideShow(){return{false:{value:!1,label:Un("Show","uipress-lite")},true:{value:!0,label:Un("Hide","uipress-lite")}}},returnOptions(){return this.options}},methods:{formatArgs(){if(this.options=this.yesNo,!!this.isObject(this.args)&&(this.args.options&&(this.options=this.args.options),!!this.args.type))switch(this.args.type){case"enabledDisabled":this.options=this.enabledDisabled;break;case"hideShow":this.options=this.hideShow;break}},async formatInput(){this.updating=!0;let n=this.value==!0;this.option=this.isObject(this.value)?{...this.value}:{value:n},await this.$nextTick(),this.updating=!1}}};function Ox(n,e,t,i,s,r){const o=P("toggle-switch");return _(),he(o,{class:"uip-w-100p",options:r.returnOptions,activeValue:n.option.value,returnValue:function(l){n.option.value=l}},null,8,["options","activeValue","returnValue"])}const Lx=J(Cx,[["render",Ox]]),Ix={props:{returnData:Function,value:[String,Object],args:Object},data(){return{option:null}},watch:{option:{handler(n,e){this.returnData(n)},deep:!0},value:{handler(n,e){this.option=this.value},deep:!0,immediate:!0}},computed:{returnOptions(){return this.args?!this.args.options||!Array.isArray(this.args.options)?[]:this.args.options:[]}}},qx=["value"];function Rx(n,e,t,i,s,r){return Z((_(),k("select",{class:"uip-input uip-input-small uip-padding-top-xxxs uip-padding-bottom-xxxs uip-max-w-100p uip-w-100p",style:{"padding-top":"2px","padding-bottom":"2px","border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[0]||(e[0]=o=>s.option=o)},[(_(!0),k(le,null,be(r.returnOptions,o=>(_(),k("option",{value:o.value},N(o.label),9,qx))),256))],512)),[[Qn,s.option]])}const Dx=J(Ix,[["render",Rx]]),{__:qe}=wp.i18n,Px={props:{returnData:Function,value:Object,args:Object},data(){return{updating:!1,open:!1,link:this.returnDefault,hideLinkType:!1,adminMenu:this.uipApp.data.adminMenu.menu,dynamics:this.uipApp.data.dynamicOptions,posts:[],searchString:"",fetchSearchString:"",serverActive:!1,strings:{searchLinks:qe("Search admin pages","uipress-lite"),searchPages:qe("Search pages and posts","uipress-lite"),noneFound:qe("No posts found for current query","uipress-lite"),newTab:qe("Link mode","uipress-lite"),linkSelect:qe("Link select","uipress-lite"),currentValue:qe("Current value","uipress-lite"),select:qe("select","uipress-lite")},linkTypes:{admin:{value:"admin",label:qe("Admin","uipress-lite")},content:{value:"content",label:qe("Content","uipress-lite")}},linkModes:{dynamic:{value:"dynamic",label:qe("Dynamic","uipress-lite"),placeHolder:qe("Dynamic links will load in the available content frame without page refresh. If none exists then it will perform a normal relead.")},default:{value:"default",label:qe("Default","uipress-lite"),placeHolder:qe("Default links load like a normal link and will refresh the whole page.")},newTab:{value:"newTab",label:qe("New tab","uipress-lite"),placeHolder:qe("New tab links open in a new browser tab.")}},activeValue:"admin"}},watch:{value:{handler(n,e){this.updating||this.injectProp()},deep:!0,immediate:!0},fetchSearchString:{handler(n,e){this.searchPosts()},deep:!0},link:{handler(n,e){this.updating||this.returnData(n)},deep:!0}},mounted(){this.formatArgs()},computed:{getPosts(){return this.posts},createOptionObject(){return{value:"",newTab:"dynamic",dynamic:!1,dynamicKey:""}},returnDefault(){return{value:"",newTab:"dynamic",dynamic:!1,dynamicKey:"",dynamicType:""}}},methods:{async injectProp(){this.updating=!0,this.link=this.isObject(this.value)?{...this.value}:this.returnDefault,await this.$nextTick(),this.updating=!1},formatArgs(){this.args&&(this.args.hideLinkType&&(this.hideLinkType=this.args.hideLinkType),this.link.dynamic&&(this.linkTypes.dynamic={value:"dynamic",label:qe("Dynamic","uipress-lite")}))},async searchPosts(){if(!this.fetchSearchString||this.serverActive)return;this.serverActive=!0;const n=this.fetchSearchString.toLowerCase();let e=new FormData;e.append("action","uip_search_posts_pages"),e.append("security",uip_ajax.security),e.append("searchStr",n);const t=await this.sendServerRequest(uip_ajax.ajax_url,e);t&&(this.posts=t.posts,this.serverActive=!1)},chooseLink(n){this.link.value=n,this.link.dynamic=!1,this.link.dynamicKey="",this.returnData(this.link)},inSearch(n){if(!this.searchString||!n[0])return!0;const e=this.searchString.toLowerCase(),t=n[0].toLowerCase(),i=n[2].toLowerCase();return!!(t.includes(e)||i.includes(e))},chooseItem(n){this.link.dynamic=!0,this.link.dynamicKey=n.key,this.link.value=n.value,this.link.dynamicType="link"},removeDynamicItem(){this.link.dynamic=!1,this.link.dynamicKey="",this.link.value="",this.link.dynamicType=""}}},Mx={class:"uip-w-100p uip-flex uip-flex-column uip-row-gap-xs"},Bx={class:"uip-flex uip-gap-xxs"},$x={class:"uip-flex uip-flex-row"},jx={class:"uip-flex uip-flex-column uip-row-gap-s uip-padding-s uip-w-240"},Ux={class:"uip-flex uip-flex-between uip-flex-center"},Vx={class:"uip-text-emphasis uip-text-bold uip-text-s"},Hx=["placeholder"],Fx={class:"uip-flex uip-flex-column uip-max-h-200",style:{overflow:"auto"}},zx=["onClick"],Kx=["innerHTML"],Gx={class:"uip-text-s uip-text-muted uip-no-wrap uip-overflow-hidden uip-text-ellipsis uip-max-w-100p"},Wx=["onClick"],Xx=["innerHTML"],Yx={class:"uip-text-s uip-text-muted uip-no-wrap uip-overflow-hidden uip-text-ellipsis uip-max-w-100p"},Zx=["placeholder"],Qx={class:"uip-flex uip-flex-column uip-max-h-200",style:{overflow:"auto"}},Jx=["onClick"],e_={class:""},t_={class:"uip-text-s uip-text-bold"},n_={class:"uip-text-s uip-text-muted"},i_={key:0,class:"uip-text-muted uip-text-s uip-padding-xxs"},s_={key:2,class:"uip-flex uip-flex-column uip-row-gap-xxxs uip-w-250 uip-max-h-200 uip-scrollbar uip-overflow-auto"},r_={class:""},o_={class:"uip-text-s uip-text-bold"},l_={class:"uip-text-xs uip-text-muted uip-flex uip-flex-center uip-gap-s"},a_={class:"uip-no-wrap uip-overflow-hidden uip-text-ellipsis uip-max-w-150"},u_=["onClick"],c_={key:0,class:"uip-flex uip-flex-column uip-row-gap-xxxs"};function p_(n,e,t,i,s,r){const o=P("AppIcon"),l=P("toggle-switch"),a=P("dropdown");return _(),k("div",Mx,[g("div",Bx,[O(a,{pos:"left center",ref:"linkselect",snapX:["#uip-block-settings","#uip-template-settings","#uip-global-settings"]},{trigger:Y(()=>[g("div",$x,[g("div",{class:Ke(["uip-border-rounder uip-text-l uip-flex uip-icon uip-padding-xxxs uip-text-center uip-link-default uip-background-muted",{"uip-background-primary uip-text-inverse":s.link.dynamic}])},[O(o,{icon:"link"})],2)])]),content:Y(()=>[g("div",jx,[g("div",Ux,[g("div",Vx,N(s.strings.linkSelect),1),g("div",{onClick:e[0]||(e[0]=We(c=>n.$refs.linkselect.close(),["prevent","stop"])),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[O(o,{icon:"close",class:"uip-icon"})])]),O(l,{options:s.linkTypes,activeValue:s.activeValue,returnValue:function(c){s.activeValue=c}},null,8,["options","activeValue","returnValue"]),s.activeValue=="admin"?(_(),k(le,{key:0},[Z(g("input",{type:"text",class:"uip-input-small uip-w-100p","onUpdate:modelValue":e[1]||(e[1]=c=>s.searchString=c),placeholder:s.strings.searchLinks},null,8,Hx),[[ne,s.searchString]]),g("div",Fx,[(_(!0),k(le,null,be(s.adminMenu,(c,p)=>(_(),k(le,null,[c[0]!=""&&r.inSearch(c)?(_(),k("div",{key:0,class:"uip-border-round hover:uip-background-muted uip-border-round uip-padding-xxs uip-flex uip-cursor-pointer uip-w-100p uip-flex uip-flex-column uip-flex-no-wrap",onClick:f=>r.chooseLink(c[2])},[g("div",{class:"uip-text-s uip-text-bold",innerHTML:c[0]},null,8,Kx),g("div",Gx,N(c[2]),1)],8,zx)):z("",!0),c.submenu?(_(!0),k(le,{key:1},be(c.submenu,f=>(_(),k(le,null,[f[0]!=""&&r.inSearch(f)?(_(),k("div",{key:0,class:"uip-border-round hover:uip-background-muted uip-border-round uip-padding-xxs uip-flex uip-cursor-pointer uip-w-100p uip-flex uip-flex-column uip-flex-no-wrap",onClick:d=>r.chooseLink(f[2])},[g("div",{class:"uip-text-s uip-text-bold",innerHTML:f[0]},null,8,Xx),g("div",Yx,N(f[2]),1)],8,Wx)):z("",!0)],64))),256)):z("",!0)],64))),256))])],64)):z("",!0),s.activeValue=="content"?(_(),k(le,{key:1},[Z(g("input",{type:"text",class:"uip-input-small uip-w-100p","onUpdate:modelValue":e[2]||(e[2]=c=>s.fetchSearchString=c),placeholder:s.strings.searchPages},null,8,Zx),[[ne,s.fetchSearchString]]),g("div",Qx,[(_(!0),k(le,null,be(r.getPosts,c=>(_(),k("div",{class:"uip-border-round hover:uip-background-muted uip-border-round uip-padding-xxs uip-flex uip-cursor-pointer",onClick:p=>r.chooseLink(c.link)},[g("div",e_,[g("div",t_,N(c.name),1),g("div",n_,N(c.link),1)])],8,Jx))),256)),s.posts.length<1&&s.fetchSearchString!=""?(_(),k("div",i_,N(s.strings.noneFound),1)):z("",!0)])],64)):z("",!0),s.activeValue=="dynamic"&&s.link.dynamic?(_(),k("div",s_,[(_(!0),k(le,null,be(s.dynamics,c=>(_(),k(le,null,[c.type=="link"?(_(),k("div",{key:0,class:Ke(["uip-border-round hover:uip-background-muted uip-border-round uip-padding-xxs uip-flex uip-flex-between uip-flex-center uip-flex-middle uip-cursor-pointer",{"uip-background-primary-wash":s.link.dynamicKey==c.key}])},[g("div",r_,[g("div",o_,N(c.label),1),g("div",l_,[g("span",a_,N(c.value),1)])]),s.link.dynamicKey==c.key?(_(),k("span",{key:0,onClick:e[3]||(e[3]=p=>r.removeDynamicItem()),class:"uip-padding-xxs uip-border-round uip-background-muted hover:uip-background-grey uip-cursor-pointer uip-flex uip-flex-middle uip-flex-center"},[O(o,{icon:"delete",class:"uip-icon"})])):(_(),k("span",{key:1,onClick:p=>r.chooseItem(c),class:"uip-padding-xxs uip-border-round uip-background-muted hover:uip-background-grey uip-cursor-pointer uip-flex uip-flex-middle uip-flex-center"},N(s.strings.select),9,u_))],2)):z("",!0)],64))),256))])):z("",!0)])]),_:1},512),Z(g("input",{type:"text",class:"uip-input-small uip-flex-grow","onUpdate:modelValue":e[4]||(e[4]=c=>s.link.value=c)},null,512),[[ne,s.link.value]])]),!s.hideLinkType&&s.link.value!=""?(_(),k("div",c_,[O(l,{options:s.linkModes,activeValue:s.link.newTab,returnValue:function(c){s.link.newTab=c}},null,8,["options","activeValue","returnValue"])])):z("",!0)])}const h_=J(Px,[["render",p_]]),{__:Za}=wp.i18n,d_={props:{returnData:Function,value:Object},data(){return{tabs:[],strings:{addNew:Za("New tab","uipress-lite")}}},watch:{tabs:{handler(n,e){this.returnData({tabs:this.tabs})},deep:!0}},computed:{returnTabs(){return this.tabs}},mounted(){this.injectValue()},methods:{injectValue(){this.isObject(this.value)&&Array.isArray(this.value)&&(this.tabs=this.value.tabs)},deleteTab(n){this.tabs.splice(n,1)},newTab(){this.tabs.push({name:Za("Tab","uipress-lite"),id:""})}}},f_={class:"uip-flex uip-flex-column uip-row-gap-xs uip-w-100p"},g_=["onUpdate:modelValue"];function m_(n,e,t,i,s,r){const o=P("AppIcon"),l=P("VueDraggableNext");return _(),k("div",f_,[s.tabs.length?(_(),he(l,{key:0,class:"uip-flex uip-flex-column uip-row-gap-xs uip-w-100p",group:{name:"tabs",pull:!1,put:!1},list:s.tabs,animation:"300",itemKey:"id",sort:!0,handle:".uip-cursor-drag"},{default:Y(()=>[(_(!0),k(le,null,be(s.tabs,(a,c)=>(_(),k("div",{key:c,class:"uip-flex uip-gap-xxs uip-flex-center"},[O(o,{icon:"drag_indicator",class:"uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted uip-cursor-drag"}),Z(g("input",{type:"text","onUpdate:modelValue":p=>a.name=p,class:"uip-input-small uip-flex-grow"},null,8,g_),[[ne,a.name]]),O(o,{onClick:p=>r.deleteTab(c),icon:"close",class:"uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted"},null,8,["onClick"])]))),128))]),_:1},8,["list"])):z("",!0),g("div",{onClick:e[0]||(e[0]=a=>r.newTab()),class:"uip-padding-xxs uip-border-rounder uip-background-muted hover:uip-background-grey uip-cursor-pointer uip-flex uip-flex-middle uip-flex-center uip-gap-xs"},[O(o,{icon:"add",class:"uip-icon"})])])}const b_=J(d_,[["render",m_]]),{__:Qa}=wp.i18n,v_={props:{returnData:Function,value:Array},data(){return{toolbar:this.uipApp.data.toolbar,selected:[],strings:{selectItems:Qa("Hidden toolbar items","uipress-lite"),searchItems:Qa("Search toolbar items","uipress-lite")}}},watch:{selected:{handler(n,e){this.returnData(this.selected)},deep:!0}},mounted(){this.formatInput()},computed:{returnFormattedToolbar(){const n=[];for(const e in this.toolbar){const t=this.toolbar[e];if(t&&(n.push({name:t.id,label:this.removeHTMLTags(t.id)}),!!t.submenu&&t.submenu.length))for(const i of t.submenu)n.push({name:i.id,label:this.removeHTMLTags(i.id)})}return n}},methods:{formatInput(){this.value&&Array.isArray(this.value)&&(this.selected=this.value)},removeHTMLTags(n){return!n||typeof n!="string"?"":n.replace(/<[^>]*>?/gm,"")}}};function y_(n,e,t,i,s,r){const o=P("multi-select");return _(),he(o,{metaKey:"url",selected:s.selected,availableOptions:r.returnFormattedToolbar,placeHolder:s.strings.selectItems,searchPlaceHolder:s.strings.searchItems,single:!1,updateSelected:function(l){s.selected=l}},null,8,["selected","availableOptions","placeHolder","searchPlaceHolder","updateSelected"])}const x_=J(v_,[["render",y_]]),{__}=wp.i18n,w_={props:{returnData:Function,value:Object},data(){return{toolbar:this.uipApp.data.toolbar,selected:{},updating:!1,strings:{renameItem:__("Rename item","uipress-lite")}}},watch:{value:{handler(n,e){this.updating||this.formatInput()},deep:!0,immediate:!0},selected:{handler(n,e){this.updating||this.returnData(this.selected)},deep:!0}},methods:{async formatInput(){this.updating=!0,this.selected=this.isObject(this.value)?{...this.value}:{},await this.$nextTick(),this.updating=!1},returnIcon(n){return this.selected[n]?this.selected[n].icon:""},setItemData(n){this.selected[n]={icon:"",title:""}},returnIconPreview(n){const e=this.returnIcon(n);return e||"favorite"},returnTitle(n){return this.selected[n]?this.selected[n].title:""},setIcon(n,e){n in this.selected||this.setItemData(n),this.selected[n].icon=e.value}}},k_={class:"uip-flex uip-flex-column uip-row-gap-xs uip-w-100p"},A_={class:"uip-flex uip-flex-row uip-gap-xs uip-w-100p"};function E_(n,e,t,i,s,r){const o=P("AppIcon"),l=P("inline-icon-select"),a=P("uip-input");return _(),k("div",k_,[(_(!0),k(le,null,be(s.toolbar,c=>(_(),k("div",A_,[O(l,{value:{value:r.returnIcon(c.id)},returnData:p=>{r.setIcon(c.id,p)}},{trigger:Y(()=>[O(o,{icon:r.returnIconPreview(c.id),class:"uip-icon uip-text-l uip-padding-xxxs uip-background-muted uip-border-rounder"},null,8,["icon"])]),_:2},1032,["value","returnData"]),O(a,{value:r.returnTitle(c.id),returnData:function(p){s.selected[c.id].title=p},placeHolder:c.id,class:"uip-flex-grow"},null,8,["value","returnData","placeHolder"])]))),256))])}const S_=J(w_,[["render",E_]]),{__:Ja}=wp.i18n,T_={props:{returnData:Function,value:Array,args:Object},data(){return{options:this.args.options,selected:[],strings:{selectItems:Ja("Selected items","uipress-lite"),searchItems:Ja("Search items","uipress-lite")}}},watch:{value:{handler(n,e){this.formatInput()},deep:!0,immediate:!0},selected:{handler(n,e){this.returnData(this.selected)},deep:!0}},methods:{formatInput(){this.value&&Array.isArray(this.value)&&(this.selected=this.value)}}};function N_(n,e,t,i,s,r){const o=P("multi-select");return _(),he(o,{selected:s.selected,availableOptions:s.options,placeHolder:s.strings.selectItems,searchPlaceHolder:s.strings.searchItems,single:!1,updateSelected:l=>{s.selected=l}},null,8,["selected","availableOptions","placeHolder","searchPlaceHolder","updateSelected"])}const C_=J(T_,[["render",N_]]),{__:_e}=wp.i18n,O_={props:{returnData:Function,value:Object},data(){return{option:{},submitOptions:[{label:_e("Email","uipress-lite"),name:"email"},{label:_e("Save as site option","uipress-lite"),name:"siteOption"},{label:_e("Save as user meta","uipress-lite"),name:"userMeta"},{label:_e("Send to PHP function","uipress-lite"),name:"phpFunction"}],userMetaOptions:[{label:_e("Individual keys","uipress-lite"),name:"single"},{label:_e("Group object","uipress-lite"),name:"object"}],strings:{pixels:_e("Pixels","uipress-lite"),submitType:_e("Submit type","uipress-lite"),functionName:_e("PHP function","uipress-lite"),siteOptionName:_e("Option name","uipress-lite"),recipientEmail:_e("Recipient email","uipress-lite"),emailSubject:_e("Email subject","uipress-lite"),emailTemplate:_e("Email template","uipress-lite"),templateDescription:_e("Use form values in the email template by using {{meta_keys}} set inside from input blocks","uipress-lite"),siteOptionDescription:_e("The form data will be saved as an object to your database using the function update_site_option(). You will then be able to access your data using the function get_site_option('your_option_key')","uipress-lite"),saveAs:_e("Save as","uipress-lite"),metaKey:_e("Meta key","uipress-lite"),redirectAfterSubmission:_e("Submission redirect","uipress-lite"),action:_e("Action","uipress-lite")}}},watch:{option:{handler(n,e){this.returnData(this.option)},deep:!0}},mounted(){this.parseInput()},methods:{parseInput(){this.option=this.isObject(this.value)?{...this.value}:{}}}},L_={class:"uip-flex uip-flex-column uip-row-gap-xs uip-w-100p"},I_={class:"uip-grid-col-1-3"},q_={class:"uip-text-muted uip-flex uip-gap-xxs uip-flex-center uip-text-s"},R_=["value"],D_={key:0,class:"uip-grid-col-1-3"},P_={class:"uip-text-muted uip-text-s uip-flex uip-flex-center"},M_={key:1,class:"uip-grid-col-1-3"},B_={class:"uip-text-muted uip-text-s uip-flex uip-flex-center"},$_={class:""},j_=["value"],U_={class:"uip-text-muted uip-text-s"},V_={class:"uip-margin-bottom-xs"},H_={key:2,class:"uip-grid-col-1-3"},F_={class:"uip-text-muted uip-flex uip-gap-xxs uip-flex-center"},z_={class:"uip-text-s"},K_={class:""},G_={class:"uip-grid-col-1-3"},W_={class:"uip-text-muted uip-margin-bottom-xx uip-text-s uip-flex uip-flex-center"},X_={class:"uip-grid-col-1-3"},Y_={class:"uip-text-muted uip-text-s"},Z_={class:""},Q_={class:"uip-text-muted uip-margin-bottom-xs uip-flex uip-gap-xs uip-flex-center"},J_={class:"uip-text-s"},ew={class:"uip-margin-bottom-xs"},tw={class:"uip-grid-col-1-3"},nw={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},iw={class:""};function sw(n,e,t,i,s,r){const o=P("uip-input"),l=P("AppIcon"),a=P("uip-tooltip"),c=P("uip-paragraph-input"),p=P("link-select");return _(),k("div",L_,[g("div",I_,[g("div",q_,N(s.strings.action),1),Z(g("select",{class:"uip-input uip-padding-top-xxxs uip-padding-bottom-xxxs uip-w-100p","onUpdate:modelValue":e[0]||(e[0]=f=>s.option.action=f)},[(_(!0),k(le,null,be(s.submitOptions,f=>(_(),k("option",{value:f.name},N(f.label),9,R_))),256))],512),[[Qn,s.option.action]])]),s.option.action=="phpFunction"?(_(),k("div",D_,[g("div",P_,[g("span",null,N(s.strings.functionName),1)]),Z(g("input",{type:"text",class:"uip-input","onUpdate:modelValue":e[1]||(e[1]=f=>s.option.phpFunction=f)},null,512),[[ne,s.option.phpFunction]])])):z("",!0),s.option.action=="userMeta"?(_(),k("div",M_,[g("div",B_,[g("span",null,N(s.strings.saveAs),1)]),g("div",$_,[Z(g("select",{class:"uip-input uip-padding-top-xxxs uip-padding-bottom-xxxs uip-w-100p","onUpdate:modelValue":e[2]||(e[2]=f=>s.option.objectOrSingle=f)},[(_(!0),k(le,null,be(s.userMetaOptions,f=>(_(),k("option",{value:f.name},N(f.label),9,j_))),256))],512),[[Qn,s.option.objectOrSingle]])]),s.option.objectOrSingle=="object"?(_(),k(le,{key:0},[g("div",U_,N(s.strings.metaKey),1),g("div",V_,[O(o,{value:s.option.userMetaObjectKey,returnData:function(f){s.option.userMetaObjectKey=f},args:{metaKey:!0}},null,8,["value","returnData"])])],64)):z("",!0)])):z("",!0),s.option.action=="siteOption"?(_(),k("div",H_,[g("div",F_,[g("span",z_,N(s.strings.siteOptionName),1),O(a,{message:s.strings.siteOptionDescription,class:"uip-inline-flex"},{default:Y(()=>[O(l,{icon:"question_mark",class:"uip-icon uip-border-circle uip-background-grey uip-cursor-pointer",style:{"font-size":"12px"}})]),_:1},8,["message"])]),g("div",K_,[O(o,{value:s.option.siteOptionName,returnData:function(f){s.option.siteOptionName=f},args:{metaKey:!0}},null,8,["value","returnData"])])])):z("",!0),s.option.action=="email"?(_(),k(le,{key:3},[g("div",G_,[g("div",W_,[g("span",null,N(s.strings.recipientEmail),1)]),g("div",null,[Z(g("input",{type:"email",class:"uip-input","onUpdate:modelValue":e[3]||(e[3]=f=>s.option.emailAddress=f)},null,512),[[ne,s.option.emailAddress]])])]),g("div",X_,[g("div",Y_,N(s.strings.emailSubject),1),Z(g("input",{type:"text",class:"uip-input","onUpdate:modelValue":e[4]||(e[4]=f=>s.option.emailSubject=f)},null,512),[[ne,s.option.emailSubject]])]),g("div",Z_,[g("div",Q_,[g("span",J_,N(s.strings.emailTemplate),1),O(a,{message:s.strings.templateDescription},{default:Y(()=>[O(l,{icon:"question_mark",class:"uip-icon uip-border-circle uip-background-grey uip-cursor-pointer",style:{"font-size":"12px"}})]),_:1},8,["message"])]),g("div",ew,[O(c,{value:s.option.emailTemplate,returnData:function(f){s.option.emailTemplate=f}},null,8,["value","returnData"])])])],64)):z("",!0),g("div",tw,[g("div",nw,N(s.strings.redirectAfterSubmission),1),g("div",iw,[O(p,{value:s.option.redirectURL,returnData:function(f){s.option.redirectURL=f},args:{hideLinkType:!0}},null,8,["value","returnData"])])])])}const rw=J(O_,[["render",sw]]),{__:Is}=wp.i18n,ow={props:{returnData:Function,value:Object},data(){return{options:[],updating:!1,strings:{addNew:Is("New option","uipress-lite"),label:Is("Label","uipress-lite"),value:Is("Value","uipress-lite")}}},watch:{value:{handler(n,e){this.updating||this.injectPropValue()},deep:!0,immediate:!0},options:{handler(n,e){this.updating||this.returnData({options:this.options})},deep:!0}},methods:{async injectPropValue(){this.updating=!0,this.options=[],this.isObject(this.value)&&Array.isArray(this.value.options)&&(this.options=this.value.options,await this.$nextTick(),this.updating=!1)},deleteOption(n){this.options.splice(n,1)},newOption(){this.options.push({label:Is("Option","uipress-lite"),name:""})}}},lw={class:"uip-flex uip-flex-column uip-row-gap-xs uip-w-100p"},aw={class:"uip-button-default uip-border-rounder uip-padding-xxs uip-link-muted uip-cursor-drag"},uw=["placeholder","onUpdate:modelValue"],cw=["placeholder","onUpdate:modelValue"],pw=["onClick"];function hw(n,e,t,i,s,r){const o=P("AppIcon"),l=P("VueDraggableNext");return _(),k("div",lw,[O(l,{class:"uip-flex uip-flex-column uip-row-gap-xs uip-w-100p",group:{name:"uip-drop",pull:!1,put:!1},list:s.options,animation:"300",sort:!0,handle:".uip-cursor-drag"},{default:Y(()=>[(_(!0),k(le,null,be(s.options,(a,c)=>(_(),k("div",{key:c,class:"uip-flex uip-gap-xxs uip-w-100p"},[g("button",aw,[O(o,{icon:"drag_indicator"})]),Z((_(),k("input",{type:"text",placeholder:s.strings.label,"onUpdate:modelValue":p=>a.label=p,key:c,class:"uip-input-small uip-flex-shrink uip-w-70"},null,8,uw)),[[ne,a.label]]),Z((_(),k("input",{type:"text",placeholder:s.strings.value,"onUpdate:modelValue":p=>a.name=p,key:c,class:"uip-input-small uip-flex-grow uip-w-70"},null,8,cw)),[[ne,a.name]]),g("button",{onClick:p=>r.deleteOption(c),class:"uip-button-default uip-border-rounder uip-padding-xxs uip-link-muted"},[O(o,{icon:"close"})],8,pw)]))),128))]),_:1},8,["list"]),g("div",{onClick:e[0]||(e[0]=a=>r.newOption()),class:"uip-padding-xxs uip-border-rounder uip-background-muted hover:uip-background-grey uip-cursor-pointer uip-flex uip-flex-middle uip-flex-center uip-gap-xs"},[O(o,{icon:"add",class:"uip-icon"})])])}const dw=J(ow,[["render",hw]]),{__:fw}=wp.i18n,gw={props:{returnData:Function,value:Array},data(){return{items:this.value,strings:{addNew:fw("New item","uipress-lite")}}},watch:{items:{handler(n,e){this.returnData(this.items)},deep:!0}},computed:{returnItems(){return this.items}},methods:{deleteTab(n){this.items.splice(n,1)},newTab(){this.items.push({value:"",id:this.createUID()})}}},mw={class:"uip-flex uip-flex-column uip-row-gap-xs"},bw=["onUpdate:modelValue"];function vw(n,e,t,i,s,r){const o=P("AppIcon"),l=P("VueDraggableNext");return _(),k("div",mw,[s.items.length>0?(_(),he(l,{key:0,list:s.items,class:"uip-flex uip-flex-column uip-row-gap-xs uip-w-100p",group:{name:"tabs",pull:!1,put:!1},animation:"300",handle:".uip-cursor-drag",onStart:e[0]||(e[0]=a=>n.drag=!0),onEnd:e[1]||(e[1]=a=>n.drag=!1),sort:!0,itemKey:"id"},{default:Y(()=>[(_(!0),k(le,null,be(s.items,(a,c)=>(_(),k("div",{key:a.value,class:"uip-flex uip-flex-row uip-gap-xs uip-flex-center"},[O(o,{onClick:p=>r.deleteTab(c),icon:"drag_indicator",class:"uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted uip-cursor-drag"},null,8,["onClick"]),Z(g("input",{type:"text","onUpdate:modelValue":p=>a.value=p,class:"uip-input-small uip-flex-grow",placeholder:"/path/to/file"},null,8,bw),[[ne,a.value]]),O(o,{onClick:p=>r.deleteTab(c),icon:"close",class:"uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted"},null,8,["onClick"])]))),128))]),_:1},8,["list"])):z("",!0),g("button",{onClick:e[2]||(e[2]=a=>r.newTab()),class:"uip-button-default uip-border-rounder uip-padding-xxs uip-w-100p"},[O(o,{icon:"add",class:"uip-icon"})])])}const yw=J(gw,[["render",vw]]),{__:eu}=wp.i18n,xw={props:{returnData:Function,value:Array},data(){return{strings:{selectPostTypes:eu("Select post types","uipress-lite"),searchPostTypes:eu("Search post types","uipress-lite")}}}};function _w(n,e,t,i,s,r){const o=P("post-type-select");return _(),he(o,{selected:t.value,placeHolder:s.strings.selectPostTypes,single:!1,searchPlaceHolder:s.strings.searchPostTypes,updateSelected:t.returnData},null,8,["selected","placeHolder","searchPlaceHolder","updateSelected"])}const ww=J(xw,[["render",_w]]),{__:we}=wp.i18n,kw=[{label:we("Normal","uipress-lite"),value:"normal"},{label:we("Multiply","uipress-lite"),value:"multiply"},{label:we("Screen","uipress-lite"),value:"screen"},{label:we("Overlay","uipress-lite"),value:"overlay"},{label:we("Darken","uipress-lite"),value:"darken"},{label:we("Lighten","uipress-lite"),value:"lighten"},{label:we("Color dodge","uipress-lite"),value:"color-dodge"},{label:we("Color burn","uipress-lite"),value:"color-burn"},{label:we("Hard light","uipress-lite"),value:"hard-light"},{label:we("Soft light","uipress-lite"),value:"soft-light"},{label:we("Difference","uipress-lite"),value:"difference"},{label:we("Exclusion","uipress-lite"),value:"exclusion"},{label:we("Hue","uipress-lite"),value:"hue"},{label:we("Saturation","uipress-lite"),value:"saturation"},{label:we("Color","uipress-lite"),value:"color"},{label:we("Luminosity","uipress-lite"),value:"luminosity"},{label:we("Initial","uipress-lite"),value:"initial"},{label:we("Inherit","uipress-lite"),value:"Inherit"},{label:we("Unset","uipress-lite"),value:"Unset"}],{__:Xt}=wp.i18n,Aw=[{label:Xt("Linear","uipress-lite"),value:"linear"},{label:Xt("Ease","uipress-lite"),value:"ease"},{label:Xt("Ease in","uipress-lite"),value:"ease-in"},{label:Xt("Ease in out","uipress-lite"),value:"ease-in-out"},{label:Xt("Ease out","uipress-lite"),value:"ease-out"},{label:Xt("Out sine","uipress-lite"),value:"cubic-bezier(0.39, 0.58, 0.57, 1)"},{label:Xt("Out quadratic","uipress-lite"),value:"cubic-bezier(0.25, 0.46, 0.45, 0.94)"},{label:Xt("Back out","uipress-lite"),value:"cubic-bezier(0.18, 0.89, 0.32, 1.28)"}],Ew=["auto","default","none","context-menu","help","pointer","progress","wait","cell","crosshair","text","vertical-text","alias","copy","move","no-drop","not-allowed","all-scroll"],Sw=["col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ns-resize","ew-resize","ne-resize","nw-resize","se-resize","sw-resize","nesw-resize","nwse-resize"],{__:ke}=wp.i18n,Tw={emits:["update"],props:{value:Object},data(){return{updating:!1,options:this.returnDefaultOptions,loading:!0,mixBlendModes:kw,transitionTypes:Aw,cursorTypes:Ew,resizeCursors:Sw,strings:{transform:ke("Transform","uipress-lite"),translate:ke("Translate","uipress-lite"),scale:ke("Scale","uipress-lite"),rotate:ke("Rotate","uipress-lite"),skew:ke("Skew","uipress-lite"),settings:ke("Settings","uipress-lite"),filters:ke("Filters","uipress-lite"),mixBlendMode:ke("Mix blend mode","uipress-lite"),grayscale:ke("Grayscale","uipress-lite"),blur:ke("Blur","uipress-lite"),saturate:ke("Saturate","uipress-lite"),contrast:ke("Contrast","uipress-lite"),backdropBlur:ke("Backdrop blur","uipress-lite"),transitionType:ke("Ease","uipress-lite"),transitionTime:ke("Time","uipress-lite"),transitionDelay:ke("Delay","uipress-lite"),cursor:ke("Cursor","uipress-lite"),general:ke("General","uipress-lite"),resizing:ke("Resizing","uipress-lite")}}},watch:{value:{handler(n,e){this.updating||this.injectProp()},deep:!0,immediate:!0},options:{handler(n,e){this.updating||this.$emit("update",this.options)},deep:!0}},computed:{returnDefaultOptions(){return{transform:{translateX:{value:"",units:"px"},translateY:{value:"",units:"px"},scaleX:"",scaleY:"",rotateX:"",rotateY:"",rotateZ:"",skewX:"",skewY:"",cursor:"auto"},filters:{mixBlendMode:"",grayscale:"",blur:"",saturate:"",contrast:"",backdropBlur:""},transitionType:"",transitionTime:"",transitionDelay:""}}},methods:{async injectProp(){this.updating=!0;const n=this.returnDefaultOptions,e=this.isObject(this.value)?this.value:{};this.options={...n,...e},await Hs(),this.updating=!1}}},Nw={class:"uip-flex uip-flex-column uip-row-gap-s"},Cw={class:"uip-grid-col-1-3"},Ow={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Lw={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},Iw={class:"uip-button-default uip-border-rounder uip-padding-xxs uip-link-muted uip-w-100p uip-flex uip-gap-xxs uip-flex-center uip-flex-middle"},qw={key:0},Rw={key:1},Dw={key:2},Pw={key:3},Mw={key:4},Bw={key:5},$w={key:6},jw={key:7},Uw={key:8},Vw={class:"uip-flex uip-flex-column uip-row-gap-s uip-padding-s uip-w-240"},Hw={class:"uip-flex uip-flex-between uip-flex-center"},Fw={class:"uip-text-emphasis uip-text-bold uip-text-s"},zw={class:"uip-grid-col-1-3 uip-padding-left-xs"},Kw={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Gw={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Ww={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Xw={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Yw={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Zw={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center uip-w-100p"},Qw={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Jw={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center uip-w-100p"},ek={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},tk={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center uip-w-100p"},nk={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},ik={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center uip-w-100p"},sk={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},rk={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center uip-w-100p"},ok={class:"uip-grid-col-1-3"},lk={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},ak={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},uk={class:"uip-button-default uip-border-rounder uip-padding-xxs uip-link-muted uip-w-100p uip-flex uip-gap-xxs uip-flex-center uip-flex-middle"},ck={key:0},pk={key:1},hk={key:2},dk={key:3},fk={key:4},gk={key:5},mk={class:"uip-flex uip-flex-column uip-row-gap-s uip-padding-s uip-w-240"},bk={class:"uip-flex uip-flex-between uip-flex-center"},vk={class:"uip-text-emphasis uip-text-bold uip-text-s"},yk={class:"uip-grid-col-1-3 uip-padding-left-xs"},xk={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},_k={class:"uip-position-relative"},wk=["value"],kk={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Ak={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Ek={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},Sk={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Tk={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},Nk={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Ck={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Ok={class:"uip-grid-col-1-3"},Lk={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Ik={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},qk=["value"],Rk={class:"uip-grid-col-1-3"},Dk={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Pk={class:"uip-grid-col-1-3"},Mk={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},Bk={class:"uip-grid-col-1-3"},$k={class:"uip-text-muted uip-flex uip-flex-center uip-text-s"},jk={class:"uip-flex uip-gap-xs uip-flex-no-wrap uip-flex-center"},Uk=["label"],Vk=["value"],Hk=["label"],Fk=["value"];function zk(n,e,t,i,s,r){const o=P("AppIcon"),l=P("value-units"),a=P("uip-number"),c=P("dropdown");return _(),k("div",Nw,[g("div",Cw,[g("div",Ow,[g("span",null,N(s.strings.transform),1)]),g("div",Lw,[O(c,{pos:"left center",class:"uip-flex uip-flex-grow uip-w-100p",ref:"transformDrop",snapX:["#uip-block-settings","#uip-template-settings","#uip-global-settings"]},{trigger:Y(()=>[g("button",Iw,[O(o,{icon:"add",class:"uip-icon"}),s.options.transform.translateX.value?(_(),k("span",qw,N(s.options.transform.translateX.value)+",",1)):z("",!0),s.options.transform.translateY.value?(_(),k("span",Rw,N(s.options.transform.translateY.value)+",",1)):z("",!0),s.options.transform.scaleX?(_(),k("span",Dw,N(s.options.transform.scaleX)+",",1)):z("",!0),s.options.transform.scaleY?(_(),k("span",Pw,N(s.options.transform.scaleY)+",",1)):z("",!0),s.options.transform.rotateX?(_(),k("span",Mw,N(s.options.transform.rotateX)+",",1)):z("",!0),s.options.transform.rotateY?(_(),k("span",Bw,N(s.options.transform.rotateY)+",",1)):z("",!0),s.options.transform.rotateZ?(_(),k("span",$w,N(s.options.transform.rotateZ)+",",1)):z("",!0),s.options.transform.skewX?(_(),k("span",jw,N(s.options.transform.skewX)+",",1)):z("",!0),s.options.transform.skewY?(_(),k("span",Uw,N(s.options.transform.skewY)+",",1)):z("",!0)])]),content:Y(()=>[g("div",Vw,[g("div",Hw,[g("div",Fw,N(s.strings.transform),1),g("div",{onClick:e[0]||(e[0]=We(p=>n.$refs.transformDrop.close(),["prevent","stop"])),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[O(o,{icon:"close",class:"uip-icon"})])]),g("div",zw,[g("div",Kw,[g("span",null,N(s.strings.translate)+" X",1)]),O(l,{value:s.options.transform.translateX,returnData:function(p){s.options.transform.translateX=p}},null,8,["value","returnData"]),g("div",Gw,[g("span",null,N(s.strings.translate)+" Y",1)]),O(l,{value:s.options.transform.translateY,returnData:function(p){s.options.transform.translateY=p}},null,8,["value","returnData"]),g("div",Ww,[g("span",null,N(s.strings.scale)+" X",1)]),O(a,{value:s.options.transform.scaleX,returnData:p=>{s.options.transform.scaleX=p},placeHolder:"",step:.1},null,8,["value","returnData"]),g("div",Xw,[g("span",null,N(s.strings.scale)+" Y",1)]),O(a,{value:s.options.transform.scaleY,returnData:p=>{s.options.transform.scaleY=p},placeHolder:"",step:.1},null,8,["value","returnData"]),g("div",Yw,[g("span",null,N(s.strings.rotate)+" X (°)",1)]),g("div",Zw,[Z(g("input",{type:"number",class:"uip-input uip-padding-xxxs uip-w-60 uip-border-rounder",style:{"border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[1]||(e[1]=p=>s.options.transform.rotateX=p)},null,512),[[ne,s.options.transform.rotateX]]),Z(g("input",{type:"range",min:"-360",max:"360","onUpdate:modelValue":e[2]||(e[2]=p=>s.options.transform.rotateX=p),step:"10",class:"uip-range uip-w-30 uip-flex-grow"},null,512),[[ne,s.options.transform.rotateX]])]),g("div",Qw,[g("span",null,N(s.strings.rotate)+" Y (°)",1)]),g("div",Jw,[Z(g("input",{type:"number",class:"uip-input uip-padding-xxxs uip-w-60 uip-border-rounder",style:{"border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[3]||(e[3]=p=>s.options.transform.rotateY=p)},null,512),[[ne,s.options.transform.rotateY]]),Z(g("input",{type:"range",min:"-360",max:"360","onUpdate:modelValue":e[4]||(e[4]=p=>s.options.transform.rotateY=p),step:"10",class:"uip-range uip-w-30 uip-flex-grow"},null,512),[[ne,s.options.transform.rotateY]])]),g("div",ek,[g("span",null,N(s.strings.rotate)+" Z (°)",1)]),g("div",tk,[Z(g("input",{type:"number",class:"uip-input uip-padding-xxxs uip-w-60 uip-border-rounder",style:{"border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[5]||(e[5]=p=>s.options.transform.rotateZ=p)},null,512),[[ne,s.options.transform.rotateZ]]),Z(g("input",{type:"range",min:"-360",max:"360","onUpdate:modelValue":e[6]||(e[6]=p=>s.options.transform.rotateZ=p),step:"10",class:"uip-range uip-w-30 uip-flex-grow"},null,512),[[ne,s.options.transform.rotateZ]])]),g("div",nk,[g("span",null,N(s.strings.skew)+" X (°)",1)]),g("div",ik,[Z(g("input",{type:"number",class:"uip-input uip-padding-xxxs uip-w-60 uip-border-rounder",style:{"border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[7]||(e[7]=p=>s.options.transform.skewX=p)},null,512),[[ne,s.options.transform.skewX]]),Z(g("input",{type:"range",min:"-360",max:"360","onUpdate:modelValue":e[8]||(e[8]=p=>s.options.transform.skewX=p),step:"10",class:"uip-range uip-w-30 uip-flex-grow"},null,512),[[ne,s.options.transform.skewX]])]),g("div",sk,[g("span",null,N(s.strings.skew)+" Y (°)",1)]),g("div",rk,[Z(g("input",{type:"number",class:"uip-input uip-padding-xxxs uip-w-60 uip-border-rounder",style:{"border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[9]||(e[9]=p=>s.options.transform.skewY=p)},null,512),[[ne,s.options.transform.skewY]]),Z(g("input",{type:"range",min:"-360",max:"360","onUpdate:modelValue":e[10]||(e[10]=p=>s.options.transform.skewY=p),step:"10",class:"uip-range uip-w-30 uip-flex-grow"},null,512),[[ne,s.options.transform.skewY]])])])])]),_:1},512)])]),g("div",ok,[g("div",lk,[g("span",null,N(s.strings.filters),1)]),g("div",ak,[O(c,{pos:"left center",class:"uip-flex uip-flex-grow uip-w-100p",ref:"filtersDrop",snapX:["#uip-block-settings","#uip-template-settings","#uip-global-settings"]},{trigger:Y(()=>[g("button",uk,[O(o,{icon:"add",class:"uip-icon"}),s.options.filters.mixBlendMode?(_(),k("span",ck,N(s.options.filters.mixBlendMode)+",",1)):z("",!0),s.options.filters.grayscale?(_(),k("span",pk,N(s.options.filters.grayscale)+",",1)):z("",!0),s.options.filters.blur?(_(),k("span",hk,N(s.options.filters.blur)+"px,",1)):z("",!0),s.options.filters.saturate?(_(),k("span",dk,N(s.options.filters.saturate)+",",1)):z("",!0),s.options.filters.contrast?(_(),k("span",fk,N(s.options.filters.contrast)+",",1)):z("",!0),s.options.filters.backdropBlur?(_(),k("span",gk,N(s.options.filters.backdropBlur)+"px,",1)):z("",!0)])]),content:Y(()=>[g("div",mk,[g("div",bk,[g("div",vk,N(s.strings.filters),1),g("div",{onClick:e[11]||(e[11]=We(p=>n.$refs.filtersDrop.close(),["prevent","stop"])),class:"uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder"},[O(o,{icon:"close",class:"uip-icon"})])]),g("div",yk,[g("div",xk,[g("span",null,N(s.strings.mixBlendMode),1)]),g("div",_k,[Z(g("select",{class:"uip-input-small uip-padding-top-xxxs uip-padding-bottom-xxxs uip-max-w-100p uip-w-100p uip-border-rounder",style:{"padding-top":"2px","padding-bottom":"2px","border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[12]||(e[12]=p=>s.options.filters.mixBlendMode=p)},[(_(!0),k(le,null,be(s.mixBlendModes,p=>(_(),k("option",{value:p.value},N(p.label),9,wk))),256))],512),[[Qn,s.options.filters.mixBlendMode]])]),g("div",kk,[g("span",null,N(s.strings.grayscale),1)]),O(a,{value:s.options.filters.grayscale,returnData:p=>{s.options.filters.grayscale=p},placeHolder:"",step:.1},null,8,["value","returnData"]),g("div",Ak,[g("span",null,N(s.strings.blur)+" (px)",1)]),g("div",Ek,[Z(g("input",{type:"number",min:"0",max:"100",class:"uip-input uip-padding-xxxs uip-w-60 uip-border-rounder",style:{"border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[13]||(e[13]=p=>s.options.filters.blur=p)},null,512),[[ne,s.options.filters.blur]]),Z(g("input",{type:"range",min:"0",max:"100","onUpdate:modelValue":e[14]||(e[14]=p=>s.options.filters.blur=p),step:"1",class:"uip-range uip-w-30 uip-flex-grow"},null,512),[[ne,s.options.filters.blur]])]),g("div",Sk,[g("span",null,N(s.strings.backdropBlur)+" (px)",1)]),g("div",Tk,[Z(g("input",{type:"number",min:"0",max:"100",class:"uip-input uip-padding-xxxs uip-w-60 uip-border-rounder",style:{"border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[15]||(e[15]=p=>s.options.filters.backdropBlur=p)},null,512),[[ne,s.options.filters.backdropBlur]]),Z(g("input",{type:"range",min:"0",max:"100","onUpdate:modelValue":e[16]||(e[16]=p=>s.options.filters.backdropBlur=p),step:"1",class:"uip-range uip-w-30 uip-flex-grow"},null,512),[[ne,s.options.filters.backdropBlur]])]),g("div",Nk,[g("span",null,N(s.strings.saturate),1)]),O(a,{value:s.options.filters.saturate,returnData:p=>{s.options.filters.saturate=p},placeHolder:"",step:.1},null,8,["value","returnData"]),g("div",Ck,[g("span",null,N(s.strings.contrast),1)]),O(a,{value:s.options.filters.contrast,returnData:p=>{s.options.filters.contrast=p},placeHolder:"",step:.1},null,8,["value","returnData"])])])]),_:1},512)])]),g("div",Ok,[g("div",Lk,[g("span",null,N(s.strings.transitionType),1)]),g("div",Ik,[Z(g("select",{class:"uip-input-small uip-padding-top-xxxs uip-padding-bottom-xxxs uip-max-w-100p uip-w-100p uip-border-rounder",style:{"padding-top":"2px","padding-bottom":"2px","border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[17]||(e[17]=p=>s.options.transitionType=p)},[(_(!0),k(le,null,be(s.transitionTypes,p=>(_(),k("option",{value:p.value},N(p.label),9,qk))),256))],512),[[Qn,s.options.transitionType]])])]),g("div",Rk,[g("div",Dk,[g("span",null,N(s.strings.transitionTime),1)]),O(a,{value:s.options.transitionTime,returnData:p=>{s.options.transitionTime=p},placeHolder:"",step:.1},null,8,["value","returnData"])]),g("div",Pk,[g("div",Mk,[g("span",null,N(s.strings.transitionDelay),1)]),O(a,{value:s.options.transitionDelay,returnData:p=>{s.options.transitionDelay=p},placeHolder:"",step:.1},null,8,["value","returnData"])]),g("div",Bk,[g("div",$k,[g("span",null,N(s.strings.cursor),1)]),g("div",jk,[Z(g("select",{class:"uip-input-small uip-padding-top-xxxs uip-padding-bottom-xxxs uip-max-w-100p uip-w-100p uip-border-rounder",style:{"padding-top":"2px","padding-bottom":"2px","border-radius":"var(--uip-border-radius-large)"},"onUpdate:modelValue":e[18]||(e[18]=p=>s.options.cursor=p)},[g("optgroup",{label:s.strings.general},[(_(!0),k(le,null,be(s.cursorTypes,p=>(_(),k("option",{value:p},N(p),9,Vk))),256))],8,Uk),g("optgroup",{label:s.strings.resizing},[(_(!0),k(le,null,be(s.resizeCursors,p=>(_(),k("option",{value:p},N(p),9,Fk))),256))],8,Hk)],512),[[Qn,s.options.cursor]])])])])}const Kk=J(Tw,[["render",zk]]),Gk=n=>{n.component("background-position",Qh),n.component("switch-select",td),n.component("value-units",sd),n.component("units-select",pd),n.component("color-select",wf),n.component("uip-input",Sf),n.component("uip-textarea",Of),n.component("post-types",jf),n.component("uip-number",Mf),n.component("uip-paragraph-input",Uy),n.component("uip-dynamic-input",Jy),n.component("icon-select",wx),n.component("inline-icon-select",Nx),n.component("choice-select",Lx),n.component("default-select",Dx),n.component("hiden-toolbar-items-select",x_),n.component("edit-toolbar-items",S_),n.component("multi-select-option",C_),n.component("submit-actions",rw),n.component("link-select",h_),n.component("tab-builder",b_),n.component("select-option-builder",dw),n.component("array-list",yw),n.component("uip-select-post-types",ww),n.component("inline-image-select",Ph),n.component("uip-effects",Kk)},Wk={class:"uip-flex uip-flex-column uip-gap-xs"},Xk=g("div",{class:"uip-padding-xs uip-border-rounder uip-background-default uip-shadow uip-margin-bottom-s uip-self-flex-start"},[g("div",{class:"uip-logo uip-w-16 uip-ratio-1-1"})],-1),Yk=["href"],Zk={key:2,class:"uip-border-top uip-margin-top-xxs uip-margin-bottom-xxs"},Qk={__name:"index",setup(n){const{__:e}=wp.i18n,t=[{name:e("Templates","uipress-lite"),url:"/",icon:"dashboard"},{name:e("Site settings","uipress-lite"),url:"/site-settings",icon:"tune"},{type:"divider"},{name:e("Import / Export","uipress-lite"),url:"/import-export",icon:"file_download"},{name:e("Remote sync","uipress-lite"),url:"/remote-sync",icon:"sync"},{name:e("PHP error log","uipress-lite"),url:"/error-log",icon:"code"},{type:"divider"},{name:e("Documentation","uipress-lite"),url:"https://docs.uipress.co/",icon:"bookmarks",external:!0}];return(i,s)=>{const r=P("AppIcon"),o=P("RouterLink");return _(),k("div",Wk,[Xk,(_(),k(le,null,be(t,l=>(_(),k(le,null,[l.type!="divider"&&!l.external?(_(),he(o,{key:0,to:l.url,class:"uip-flex uip-flex-row uip-flex-center uip-gap-s uip-padding-xxs uip-padding-left-s uip-padding-right-s uip-link-default uip-no-underline uip-border-rounder hover:uip-background-muted","active-class":"uip-background-muted uip-text-emphasis"},{default:Y(()=>[O(r,{icon:l.icon,class:"uip-text-l"},null,8,["icon"]),g("span",null,N(l.name),1)]),_:2},1032,["to"])):l.type!="divider"&&l.external?(_(),k("a",{key:1,href:l.url,target:"_BLANK",class:"uip-flex uip-flex-row uip-flex-center uip-gap-s uip-padding-xxs uip-padding-left-s uip-padding-right-s uip-link-default uip-no-underline uip-border-rounder hover:uip-background-muted","active-class":"uip-background-muted uip-text-emphasis"},[O(r,{icon:l.icon,class:"uip-text-l"},null,8,["icon"]),g("span",null,N(l.name),1)],8,Yk)):(_(),k("div",Zk))],64))),64))])}}},{__:Re}=wp.i18n,Jk={data(){return{strings:{previous:Re("Previous","uipress-lite"),next:Re("Next","uipress-lite"),done:Re("Done","uipress-lite"),close:Re("Close","uipress-lite")},tips:{allTips:[{title:Re("Dynamic data","uipress-lite"),content:Re('Typing "{{" in any window now opens the new dynamic data flow. Continue typing to search or press enter to select. Dynamic data will render in preview mode.',"uipress-lite"),img:this.uipApp.data.options.pluginURL+"assets/img/dynamic_data_preview.gif"},{title:Re("Query builder","uipress-lite"),content:Re("The new query builder can be enabled on any block and allows you to query posts, pages, users and sites (multsitie only). The query builder is designed to work perfectly with the new dynamic data selector.","uipress-lite"),img:this.uipApp.data.options.pluginURL+"assets/img/query_builder.gif"},{title:Re("Style presets","uipress-lite"),content:Re("Style presets allow you to create custom presets that you can apply to any blocks. Presets are global and making changes to them in one place will update them across all of your templates","uipress-lite"),img:this.uipApp.data.options.pluginURL+"assets/img/presets_preview.gif"},{title:Re("Redesigned block styles","uipress-lite"),content:Re("The new editor makes it easier to adjust block styles and create more advanced layouts. Use the new pseudo switcher to create detailed templates","uipress-lite"),img:this.uipApp.data.options.pluginURL+"assets/img/styles_psuedo.gif"},{title:Re("Effects and transitions","uipress-lite"),content:Re("You can add and manage transitions within the uiBuilder. Adjust timings and animation styles to get the perfect result.","uipress-lite"),img:this.uipApp.data.options.pluginURL+"assets/img/transitions_preview.gif"},{title:Re("Contextual options","uipress-lite"),content:Re("Common actions are just a right click away. Duplicate blocks, copy styles or export your entire template","uipress-lite"),img:this.uipApp.data.options.pluginURL+"assets/img/contextual_options.gif"}],currentTip:0}}},mounted(){this.uipApp.tipsAndTricks=this,this.uipApp.data.userPrefs.supressTips||this.show()},methods:{show(){this.$refs.tips.open()}}},e2={class:"uip-flex uip-flex-column uip-row-gap-s uip-w-400 uip-padding-m"},t2={class:"uip-flex uip-flex-column uip-row-gap-s"},n2=["src","alt"],i2={class:"uip-text-emphasis uip-text-l uip-fade-in"},s2={class:"uip-text-muted uip-fade-in",style:{"line-height":"1.6"}},r2={class:"uip-flex uip-flex-between"},o2={class:"uip-flex uip-gap-xs"};function l2(n,e,t,i,s,r){const o=P("Modal");return _(),he(o,{ref:"tips"},{default:Y(()=>[g("div",e2,[g("div",t2,[g("img",{src:s.tips.allTips[s.tips.currentTip].img,alt:s.tips.allTips[s.tips.currentTip].title,class:"uip-w-100p uip-border-rounder uip-fade-in"},null,8,n2),g("div",i2,N(s.tips.allTips[s.tips.currentTip].title),1),g("div",s2,N(s.tips.allTips[s.tips.currentTip].content),1)]),g("div",r2,[g("button",{class:"uip-button-default",onClick:e[0]||(e[0]=l=>{n.$refs.tips.close(),n.saveUserPreference("supressTips",!0,!1)})},N(s.strings.close),1),g("div",o2,[s.tips.currentTip>0?(_(),k("button",{key:0,class:"uip-button-default",onClick:e[1]||(e[1]=l=>s.tips.currentTip-=1)},N(s.strings.previous),1)):z("",!0),s.tips.currentTip<s.tips.allTips.length-1?(_(),k("button",{key:1,class:"uip-button-default",onClick:e[2]||(e[2]=l=>s.tips.currentTip+=1)},N(s.strings.next),1)):z("",!0),s.tips.currentTip==s.tips.allTips.length-1?(_(),k("button",{key:2,class:"uip-button-primary",onClick:e[3]||(e[3]=l=>n.$refs.tips.close())},N(s.strings.done),1)):z("",!0)])])])]),_:1},512)}const a2=J(Jk,[["render",l2]]),u2={class:"uip-flex-column uip-flex uip-h-100p uip-w-100p",style:{"min-height":"100dvh"}},c2={key:0,class:"uip-flex uip-flex-row uip-background-default uip-flex-grow uip-h-100p"},p2={class:"uip-w-240 uip-flex-no-grow uip-padding-s uip-border-right",style:{"flex-shrink":"0"}},h2={class:"uip-flex uip-flex-grow uip-padding-s"},d2={__name:"index",setup(n){const e=sh(),t=Ge(()=>e.matched.some(i=>i.name==="uibuilder"));return(i,s)=>{const r=P("RouterView");return _(),k("div",u2,[O(Fc),O(a2),t.value?(_(),he(r,{key:1},{default:Y(({Component:o})=>[o?(_(),he(Ps,{key:0,mode:"out-in"},{default:Y(()=>[(_(),he(Sl,null,{fallback:Y(()=>[sn(" Loading... ")]),default:Y(()=>[(_(),he(ni(o)))]),_:2},1024))]),_:2},1024)):z("",!0)]),_:1})):(_(),k("div",c2,[g("div",p2,[O(Qk)]),g("div",h2,[O(r,null,{default:Y(({Component:o})=>[o?(_(),he(Sl,{key:0},{fallback:Y(()=>[sn(" Loading... ")]),default:Y(()=>[(_(),he(ni(o)))]),_:2},1024)):z("",!0)]),_:1})])]))])}}};wp.i18n;if(!document.querySelector("#uip-ui-interface")){const n=zc(d2);n.use(oh),Kc(n),Gk(n),Gc(n),Wc(n,"builder"),Xc(n),Yc(n),Zc(n),n.mount("#uip-ui-builder")}export{vu as C,Kk as E,bd as S,bf as a,mu as c,Qu as g,wh as i,m2 as u};
